{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 132,
  "lineage": "a280ecc3-c31e-032e-f4fc-005a744a2e01",
  "outputs": {
    "aks_cheatsheets": {
      "value": {
        "backend": "./cheatsheets/generated/backend-cheatsheet.md",
        "public": "./cheatsheets/generated/public-cheatsheet.md"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "aks_clusters": {
      "value": {
        "backend": {
          "fqdn": "aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io",
          "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
          "name": "aks-prod-aks104-backend-eus2-001",
          "nginx_internal_ip": "10.240.4.100"
        },
        "public": {
          "fqdn": "aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io",
          "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
          "name": "aks-prod-aks104-public-eus2-001",
          "nginx_internal_ip": "10.240.0.100"
        }
      },
      "type": [
        "object",
        {
          "backend": [
            "object",
            {
              "fqdn": "string",
              "id": "string",
              "name": "string",
              "nginx_internal_ip": "string"
            }
          ],
          "public": [
            "object",
            {
              "fqdn": "string",
              "id": "string",
              "name": "string",
              "nginx_internal_ip": "string"
            }
          ]
        }
      ]
    },
    "aks_node_resource_groups": {
      "value": {
        "backend": "MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2",
        "public": "MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "aks_oidc_issuer_urls": {
      "value": {
        "backend": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/",
        "public": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "apiserver_subnet_ids": {
      "value": {
        "backend": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001",
        "public": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001"
      },
      "type": [
        "map",
        "string"
      ]
    },
    "app_gateway_subnet_id": {
      "value": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001",
      "type": "string"
    },
    "app_namespace": {
      "value": "aks-app",
      "type": "string"
    },
    "app_service_account": {
      "value": "workload-identity-sa",
      "type": "string"
    },
    "application_gateway_name": {
      "value": "agw-main-prod-eus2-001",
      "type": "string"
    },
    "application_gateway_public_ip": {
      "value": "40.67.139.106",
      "type": "string"
    },
    "application_insights_connection_string": {
      "value": "InstrumentationKey=37df6a41-9198-4f6c-9f17-c050fcdec490;IngestionEndpoint=https://eastus2-3.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus2.livediagnostics.monitor.azure.com/;ApplicationId=8ce476c0-e88b-4cf0-a467-515139e55da7",
      "type": "string",
      "sensitive": true
    },
    "application_insights_instrumentation_key": {
      "value": "37df6a41-9198-4f6c-9f17-c050fcdec490",
      "type": "string",
      "sensitive": true
    },
    "application_insights_name": {
      "value": "appi-prod-aks104-eus2-001",
      "type": "string"
    },
    "application_url": {
      "value": "https://40.67.139.106",
      "type": "string"
    },
    "azure_firewall_name": {
      "value": "fw-hub-prod-eus2-001",
      "type": "string"
    },
    "azure_firewall_private_ip": {
      "value": "10.240.2.4",
      "type": "string"
    },
    "azure_firewall_public_ip": {
      "value": "132.196.234.142",
      "type": "string"
    },
    "cluster_setup_scripts": {
      "value": {
        "backend": "./k8s/generated/backend-cluster-setup.sh",
        "public": "./k8s/generated/public-cluster-setup.sh"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "cluster_subnet_ids": {
      "value": {
        "backend": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
        "public": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "container_registry_login_server": {
      "value": "acrprodaks104eus25xhr55.azurecr.io",
      "type": "string"
    },
    "container_registry_name": {
      "value": "acrprodaks104eus25xhr55",
      "type": "string"
    },
    "deployment_summary": {
      "value": {
        "app_insights": "appi-prod-aks104-eus2-001",
        "application_gateway": "agw-main-prod-eus2-001",
        "azure_firewall": "fw-hub-prod-eus2-001",
        "clusters": {
          "backend": {
            "name": "aks-prod-aks104-backend-eus2-001",
            "nginx_ip": "10.240.4.100",
            "scaling": {
              "autoscaling_enabled": true,
              "max_count": 2,
              "min_count": 1
            },
            "vm_size": "Standard_D2s_v3"
          },
          "public": {
            "name": "aks-prod-aks104-public-eus2-001",
            "nginx_ip": "10.240.0.100",
            "scaling": {
              "autoscaling_enabled": true,
              "max_count": 3,
              "min_count": 1
            },
            "vm_size": "Standard_D2s_v3"
          }
        },
        "deployment_time": "2025-08-20T12:29:52Z",
        "domains": {
          "backend_api": "api.yourdomain.com (WAF restricted)",
          "public_app": "app.yourdomain.com"
        },
        "firewall_mode": "Audit",
        "key_vault": "kv-prodaks1045xhr55",
        "location": "eastus2",
        "log_analytics": "log-aks-prod-eus2-001",
        "prometheus_enabled": true,
        "public_ip": "40.67.139.106",
        "resource_group": "rg-prod-aks104-eus2-001",
        "sql_database": "sqldb-app-prod-eus2",
        "sql_server": "sql-main-prod-eus2-5xhr55",
        "storage_account": "stprodaks104eus25xhr55",
        "waf_enabled": true,
        "web_app_routing_enabled": true
      },
      "type": [
        "object",
        {
          "app_insights": "string",
          "application_gateway": "string",
          "azure_firewall": "string",
          "clusters": [
            "object",
            {
              "backend": [
                "object",
                {
                  "name": "string",
                  "nginx_ip": "string",
                  "scaling": [
                    "object",
                    {
                      "autoscaling_enabled": "bool",
                      "max_count": "number",
                      "min_count": "number"
                    }
                  ],
                  "vm_size": "string"
                }
              ],
              "public": [
                "object",
                {
                  "name": "string",
                  "nginx_ip": "string",
                  "scaling": [
                    "object",
                    {
                      "autoscaling_enabled": "bool",
                      "max_count": "number",
                      "min_count": "number"
                    }
                  ],
                  "vm_size": "string"
                }
              ]
            }
          ],
          "deployment_time": "string",
          "domains": [
            "object",
            {
              "backend_api": "string",
              "public_app": "string"
            }
          ],
          "firewall_mode": "string",
          "key_vault": "string",
          "location": "string",
          "log_analytics": "string",
          "prometheus_enabled": "bool",
          "public_ip": "string",
          "resource_group": "string",
          "sql_database": "string",
          "sql_server": "string",
          "storage_account": "string",
          "waf_enabled": "bool",
          "web_app_routing_enabled": "bool"
        }
      ]
    },
    "generated_info": {
      "value": {
        "deployment_time": "2025-08-20T12:29:20Z",
        "unique_suffix": "5xhr55"
      },
      "type": [
        "object",
        {
          "deployment_time": "string",
          "unique_suffix": "string"
        }
      ],
      "sensitive": true
    },
    "generated_passwords": {
      "value": {
        "sql_admin": "*m)G6}3Xz!F{ED{-vKe7",
        "ssl_cert": "n4Z{kEr9X5hS\u0026Lc|"
      },
      "type": [
        "object",
        {
          "sql_admin": "string",
          "ssl_cert": "string"
        }
      ],
      "sensitive": true
    },
    "key_vault_id": {
      "value": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
      "type": "string"
    },
    "key_vault_name": {
      "value": "kv-prodaks1045xhr55",
      "type": "string"
    },
    "key_vault_uri": {
      "value": "https://kv-prodaks1045xhr55.vault.azure.net/",
      "type": "string"
    },
    "kube_config_raw": {
      "value": {
        "backend": "apiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2RENDQXRDZ0F3SUJBZ0lRZGV1YUtvcGNWYTR2K2hzU0ZyZjl4REFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TlRBNE1qQXhNVFF4TVROYUdBOHlNRFUxTURneU1ERXhOVEV4TTFvdwpEVEVMTUFrR0ExVUVBeE1DWTJFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURvCmJaYm1wcGtpTURGaU0rUUt2VnU1SzIwQVk4TkJyZTZrWWJYbzAxbzBNdFk3bElWekgxQlkvTVVsR3hSbWdjREYKakhQRHYvemYwNUFDazN2ZDNId0VMQXhOYzV6N3BMZ3B2bVZKRlMyL3pRNGpnU3FkT1l6c0hLNWRINGJoWkFSegpJWDVOMUg5OEFSSWEwTGJZK3RUd3U3ckV0UWFja1V5dC9iNVhxM3Y2eVk1MW5OZHlWbmNrWEhtY2JndjFJN0tKCkpZeUpkeUd3aEpJQWRaWldHMUZwR3h4SkExck9JNEc1eFp6eENUVGdtT0tML1hYK1o1OXcyMExSYTZSUzVpTTQKUXlCQlpIaXF4WlhodE5OVm1CZ2lsUGY4T25WNll6WkRsckpMUERrbTNBQkpiRGx2TldXaEcxcDBQbWkxb05FUApVbjFtYTNZNC80OHBCQlEwK3ZzVDk4bkM5djhnRnY1NW15YnI5dXN3N0N4Yittd0owdlRsV2k1VURhMjg1enN6CmJ4dWNoUElsM0RvVjF1ZUd6S2RVVC8zV2swVXQvRHpKQW02TDlGcjIrRTVuQWJuUzI5aHJTYmpTeEFHZmFnZ1IKR2dMb1B1ZW5YWFdKMlZOWExMQmlpci9iNXZOdmplMHZGTkV5VEJQOVNGcHBLajI1eWdIUnRCM2pBL1U5Q2Uwdgpkd3hsS1NER1VpRXArcS9wWk42amZZUDN4YWJybG9QTGsrc2NiVTRkRytrbzFiVmhXakxzRjQyeU9ONnBjVElECmFIVWp4Yy9tYlV1UGhVVXNMaFdid0d3Z0pvQ3RobWtKT2lxUjZSNE1KTWpnY2dUOTFDQzFXd1d5dXR2c0tuTWMKdURNUnZMank4RGdMT1B1VjRXdnNuL0RDMzRuc096Qzl0NGtJSzcyQkxRSURBUUFCbzBJd1FEQU9CZ05WSFE4QgpBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVmd1dTOXRoR1Y4UGN3bHlwCkYveFA5dSs1dm9Jd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFFM2ticlZITURFWDh1R0g0SHhkV3V6d2hTTjQKR2NJTDI2QzhCU0JSKzhkNFJ4b1ZxVUJMdEVDeVhMYWJTRGxZOHN2K3NoUXd4RXRKWXRJWEYrb3RwMC9Qc3I0bApEa0F3dzRtTHRHd1pqeWFRUHNsdVV0eWVkTExJWFR4NzNuME5hU3RUUDBBUGxvUjg4Uzh6OTdodFdiY3RnSVM5Cng3eVNHL25adzZyQTNnWk5DQy92Lzl6Nm9oTmgzYThlSTNPbnVBYVZrWlM3aEpkMkNpZzFBdzVubGJKc0puR2cKNytnUncwZ0pkeksyb3k2VjZHdTk2aG9EUk5TVXlEazZndWNsai84VDg0Q1dWZ25wcjYxWlNZRC9nd3M4a3F3cAptaFdkNitNSmp0cXhNU0xIS2QrdVdnQy9USG5kRllkOUp5TFBKY1h6R1QwK2Y1QUhGUW9HWk9vVkdqNzRENGsrCnNjNmQxUG5HOWxMVVAvY3hYV1pGTjlpQmwyL1p6VVN0eHNIN0tyQWg5U2hFd2FFK3JqZFJ6clJtVnBmTGtIVVkKbUhiTTZ5dkhKSW5Qa3FvdHgrNXo2YUd2QUoxUW9vOVB0TE9TN2pXWUNNUGxFQ3ludXowUFFrUFZjS0d2QmpZRwp6bWkvdG5mV05PaGlWQkRsdDdLekkxVjhXUUNac0dxTlJBZHdUTjJ5eFgvbUNXbVJLS3BtQVhtYlRicWZ2b0J1CkE5RUtWaGg0bUEzc09RR0ZLV1Bsb0JLSWdiTUdDeWpadzVZWXU0bVc1YnBWQTV5WHA1MlJGRDBNa1U0OWw5UTMKcDVZTnMvbnN2dVkrWENQR1I2ZU55SDlFNzY0bUh4eDNoc0JnUWJYODlXaHFLMWN0Skt6OVN2anZ0WTF1QlAvNApkUWhNcnBlQSt4Rm5NQ2thCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n    server: https://aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io:443\n  name: aks-prod-aks104-backend-eus2-001\ncontexts:\n- context:\n    cluster: aks-prod-aks104-backend-eus2-001\n    user: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001\n  name: aks-prod-aks104-backend-eus2-001\ncurrent-context: aks-prod-aks104-backend-eus2-001\nkind: Config\npreferences: {}\nusers:\n- name: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - get-token\n      - --environment\n      - AzurePublicCloud\n      - --server-id\n      - 6dae42f8-4368-4678-94ff-3960e28e3630\n      - --client-id\n      - 80faf920-1908-4b52-b5ef-a8e7bedfc67a\n      - --tenant-id\n      - 5380364e-35d4-4293-8bfe-fa76e835384e\n      - --login\n      - devicecode\n      command: kubelogin\n      env: null\n      installHint: |2\n\n        kubelogin is not installed which is required to connect to AAD enabled cluster.\n\n        To learn more, please go to https://aka.ms/aks/kubelogin\n      provideClusterInfo: false\n",
        "public": "apiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2VENDQXRHZ0F3SUJBZ0lSQUw1ZjhKYjc4TjFNU1pYdlNnd3BnSzh3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdJQmNOTWpVd09ESXdNVEUwTVRFMFdoZ1BNakExTlRBNE1qQXhNVFV4TVRSYQpNQTB4Q3pBSkJnTlZCQU1UQW1OaE1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCnYrRm5jNDRVbHpuNjhGNHdBb1VMQnFaYXFhOFhDTVFIOGFWS2hzQUprZjY4ZzVoK3VJcU14MkJOY3Z2ODZrMnMKdnYzV2xxM2tHeFFGMFg3MEhOUkxiZVZoNmZSN29xY0tYcGx6aWJoK1MvUHZ1cW9GZHZnRkR2aisyeGZBSjkvVQpHYjFkREtmbEk3b1RDeUtFbzArWEVaU3FTNXlkSDFwQTZONklhM2x2aDVkdHprQ0xqYXdXdU5QSUozN3Z2UWswCjFCZnpCUjZ2UUhLalR2Yk95RkU1U3plTUF3Z3dFWVByK0ZxZHFvTnUzakxSVXc3L2hvZ2hCQXZmbGVOZVJwcmQKejNOUDhKd2ovVUsvaUE4cU9paktqcWxlb1doSnBhaXZJeGFFbVhzM1c5alFzS1VBaEprZjQrejJoNEpmZG4yLwpHR3hURURrenBWQmpsQTZoNUU3ejFRZzJjT1ltbG80VjlFS2JHZHJVNG9UUDFvM3FzU2JNWUxKYS9QK3N6NnJNCnFsWHpvRDlmWm9UdUovRUxqKy9oaWZZUU1BalpPakh4Uk1vRjNlYkd0bDgwaWx6Wkl5ditEeFliZ0J1ZDFjT2kKQ1VFcDVwZGpWTWtLWTlSQ2g5U0NyYzNEQTEwRVBOU3pGZExkVE1XWGhHRlYyd2pzNUVmS2JoRm5ZRzNvOVZZbgp1b25aMjJqRDU1V2xtc0VINjFDNU9BSXMySHA4YVFJWGNhQ0szQTNUM1lrYnduZnNPeUZYZGdpdlQ2dHJTb1FICmM2Mkpkd1RIM0o5dmYyTHQrQ2tDZ1BaL1hqZGsrb0UyV1ROSVpUUTR5TEhXb3RKNUE0RmtEY29oM1dERGY1NWoKVmlaMEdZelA3UEJVS3o0WkFhVlhRQmFLR2lTRWZFVUpQaFpYZ0RRaThHTUNBd0VBQWFOQ01FQXdEZ1lEVlIwUApBUUgvQkFRREFnS2tNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGSHovMEwwL0RLVnlHSjcwCmxKQmhJY0RPTUJ3Q01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQzJYTGxUR2Z1NkI5Y1UzY1ZQYVRndTZxUk0KK3BPN1Z1YmtlR25nZHpUclYyc3ppbm5KUThUTXlWM0xEaDRjYXQxd3JHbGhmUVI2eVRWdWcycGd5MEVod2lmdAp0N2oyMHAzMSsvR2Z4dW9XN2o2VkZEVUtiSWczMjJBSzg4c3BTTUpaUVBtMDF3akZuRVk0TGRZWXdsbzhJRDNpClVtak40dTU4MGx3NVJZWUE4MzJYVWlDZ2JCWHNDY3JlVnpJSU1rV1IxM0hVRDVoSDh0SjNlbHd6NjJpT2VOdEYKS08vcEV3VkRZSDJvWTRJRjRjdGRzVkxMeFJlMHVtanhVQU5rMUhDbFlDQjg2d21jdzBFSzN6VVNvc1grejFsUgpXbkxNbHFhVGdOcXB3UzAvTkpXclN1c3I4U2xTb1BtWVdtbm5vOHNWRnRDMmNMVVFUbUlNeUloYWdJdUtlSjFjCk5hcDJ1a3k4emp0cnB0dWRqTmxuS3lYamRSaFJtbEoweEFMQjNLS0krRGRKRXVzeTgxVjZMdXRPa2daa2x2WEcKWGdFajQzN3pBcEVnQUdWZ1lSRG84SWdkZlFOSWR1MG9ubGdNK0JLa2FNdVdkZllYWmM2cnZESTZ1M0dIek5NWQpWVWlGZ1VZWitxbWh0QWNjMWlVMmNRTWxBSGF5NW1OcFJlRUtOYnFZUkxHd3BIZW1NdzkxR00rUVUvMnRMbWRmCkF5YlVPeGZCU1BUcFF1dTRNSFRSeDVwZXUrcmoxaXZuOVF2L2hEcDFTNi9TNTRuMzFabWZQemJvYUp1eVNKK0EKM2VKRTRRamdVRFUxZmQreWwrc2tuK2E3YVVpVlNZdGNURU5peWJtRlZpVlBoaEM2Qkc3UCs4cWd6ZUc2QmJ2aAo3ZW5PV1UxMUdCU0JSOExEYXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\n    server: https://aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io:443\n  name: aks-prod-aks104-public-eus2-001\ncontexts:\n- context:\n    cluster: aks-prod-aks104-public-eus2-001\n    user: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001\n  name: aks-prod-aks104-public-eus2-001\ncurrent-context: aks-prod-aks104-public-eus2-001\nkind: Config\npreferences: {}\nusers:\n- name: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - get-token\n      - --environment\n      - AzurePublicCloud\n      - --server-id\n      - 6dae42f8-4368-4678-94ff-3960e28e3630\n      - --client-id\n      - 80faf920-1908-4b52-b5ef-a8e7bedfc67a\n      - --tenant-id\n      - 5380364e-35d4-4293-8bfe-fa76e835384e\n      - --login\n      - devicecode\n      command: kubelogin\n      env: null\n      installHint: |2\n\n        kubelogin is not installed which is required to connect to AAD enabled cluster.\n\n        To learn more, please go to https://aka.ms/aks/kubelogin\n      provideClusterInfo: false\n"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ],
      "sensitive": true
    },
    "kubernetes_version": {
      "value": "1.31.9",
      "type": "string"
    },
    "log_analytics_workspace_id": {
      "value": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
      "type": "string"
    },
    "log_analytics_workspace_name": {
      "value": "log-aks-prod-eus2-001",
      "type": "string"
    },
    "nginx_controller_manifest_files": {
      "value": {
        "backend": "./k8s/generated/backend-nginx-internal-controller.yaml",
        "public": "./k8s/generated/public-nginx-internal-controller.yaml"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "nginx_ingress_config": {
      "value": {
        "backend": {
          "annotations": {
            "service.beta.kubernetes.io/azure-load-balancer-internal": "true",
            "service.beta.kubernetes.io/azure-load-balancer-internal-subnet": "snet-backend-prod-eus2-001",
            "service.beta.kubernetes.io/azure-load-balancer-static-ip": "10.240.4.100"
          },
          "cluster_name": "aks-prod-aks104-backend-eus2-001",
          "static_ip": "10.240.4.100",
          "subnet_cidr": "10.240.4.0/24",
          "subnet_name": "snet-backend-prod-eus2-001"
        },
        "public": {
          "annotations": {
            "service.beta.kubernetes.io/azure-load-balancer-internal": "true",
            "service.beta.kubernetes.io/azure-load-balancer-internal-subnet": "snet-public-prod-eus2-001",
            "service.beta.kubernetes.io/azure-load-balancer-static-ip": "10.240.0.100"
          },
          "cluster_name": "aks-prod-aks104-public-eus2-001",
          "static_ip": "10.240.0.100",
          "subnet_cidr": "10.240.0.0/24",
          "subnet_name": "snet-public-prod-eus2-001"
        }
      },
      "type": [
        "object",
        {
          "backend": [
            "object",
            {
              "annotations": [
                "object",
                {
                  "service.beta.kubernetes.io/azure-load-balancer-internal": "string",
                  "service.beta.kubernetes.io/azure-load-balancer-internal-subnet": "string",
                  "service.beta.kubernetes.io/azure-load-balancer-static-ip": "string"
                }
              ],
              "cluster_name": "string",
              "static_ip": "string",
              "subnet_cidr": "string",
              "subnet_name": "string"
            }
          ],
          "public": [
            "object",
            {
              "annotations": [
                "object",
                {
                  "service.beta.kubernetes.io/azure-load-balancer-internal": "string",
                  "service.beta.kubernetes.io/azure-load-balancer-internal-subnet": "string",
                  "service.beta.kubernetes.io/azure-load-balancer-static-ip": "string"
                }
              ],
              "cluster_name": "string",
              "static_ip": "string",
              "subnet_cidr": "string",
              "subnet_name": "string"
            }
          ]
        }
      ]
    },
    "nginx_internal_ips": {
      "value": {
        "backend": "10.240.4.100",
        "public": "10.240.0.100"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "pod_cidr": {
      "value": "192.168.0.0/16",
      "type": "string"
    },
    "private_dns_zones": {
      "value": {
        "key_vault": "privatelink.vaultcore.azure.net",
        "sql_database": "privatelink.database.windows.net",
        "storage_blob": "privatelink.blob.core.windows.net",
        "storage_file": "privatelink.file.core.windows.net"
      },
      "type": [
        "object",
        {
          "key_vault": "string",
          "sql_database": "string",
          "storage_blob": "string",
          "storage_file": "string"
        }
      ]
    },
    "resource_group_location": {
      "value": "eastus2",
      "type": "string"
    },
    "resource_group_name": {
      "value": "rg-prod-aks104-eus2-001",
      "type": "string"
    },
    "service_account_manifest_files": {
      "value": {
        "backend": "./k8s/generated/backend-serviceaccount.yaml",
        "public": "./k8s/generated/public-serviceaccount.yaml"
      },
      "type": [
        "object",
        {
          "backend": "string",
          "public": "string"
        }
      ]
    },
    "service_cidr": {
      "value": "172.16.0.0/16",
      "type": "string"
    },
    "sql_app_identity_client_id": {
      "value": "1aac2aba-d3f1-4ba0-b3ee-f9bbb0c8b6be",
      "type": "string"
    },
    "sql_app_identity_name": {
      "value": "id-sql-app-prod-eus2-001",
      "type": "string"
    },
    "sql_app_identity_principal_id": {
      "value": "76c4e4a9-ef43-4163-905f-73ff75e7d93a",
      "type": "string"
    },
    "sql_database_name": {
      "value": "sqldb-app-prod-eus2",
      "type": "string"
    },
    "sql_server_fqdn": {
      "value": "sql-main-prod-eus2-5xhr55.database.windows.net",
      "type": "string"
    },
    "sql_server_name": {
      "value": "sql-main-prod-eus2-5xhr55",
      "type": "string"
    },
    "storage_account_id": {
      "value": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
      "type": "string"
    },
    "storage_account_name": {
      "value": "stprodaks104eus25xhr55",
      "type": "string"
    },
    "storage_account_primary_endpoint": {
      "value": "https://stprodaks104eus25xhr55.blob.core.windows.net/",
      "type": "string"
    },
    "virtual_network_id": {
      "value": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
      "type": "string"
    },
    "virtual_network_name": {
      "value": "vnet-prod-aks104-eus2-001",
      "type": "string"
    },
    "vnet_address_space": {
      "value": "10.240.0.0/16",
      "type": "string"
    },
    "workload_identities": {
      "value": {
        "backend": {
          "client_id": "03cd48e3-72a7-4530-9878-e6eba7581779",
          "name": "id-workload-backend-prod-eus2-001",
          "principal_id": "a4018293-474f-433b-ab3b-fa34a2844a92"
        },
        "public": {
          "client_id": "ebd7c5da-9452-4018-8bd9-4748f8383364",
          "name": "id-workload-public-prod-eus2-001",
          "principal_id": "76ee8033-75d7-4b49-ad08-d81e1db77606"
        }
      },
      "type": [
        "object",
        {
          "backend": [
            "object",
            {
              "client_id": "string",
              "name": "string",
              "principal_id": "string"
            }
          ],
          "public": [
            "object",
            {
              "client_id": "string",
              "name": "string",
              "principal_id": "string"
            }
          ]
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azuread_service_principal",
      "name": "sql_app_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azuread\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_enabled": true,
            "alternative_names": [
              "isExplicit=True",
              "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001"
            ],
            "app_role_assignment_required": false,
            "app_role_ids": {},
            "app_roles": [],
            "application_tenant_id": "",
            "client_id": "1aac2aba-d3f1-4ba0-b3ee-f9bbb0c8b6be",
            "description": "",
            "display_name": "id-sql-app-prod-eus2-001",
            "feature_tags": [
              {
                "custom_single_sign_on": false,
                "enterprise": false,
                "gallery": false,
                "hide": false
              }
            ],
            "features": [
              {
                "custom_single_sign_on_app": false,
                "enterprise_application": false,
                "gallery_application": false,
                "visible_to_users": true
              }
            ],
            "homepage_url": "",
            "id": "/servicePrincipals/76c4e4a9-ef43-4163-905f-73ff75e7d93a",
            "login_url": "",
            "logout_url": "",
            "notes": "",
            "notification_email_addresses": [],
            "oauth2_permission_scope_ids": {},
            "oauth2_permission_scopes": [],
            "object_id": "76c4e4a9-ef43-4163-905f-73ff75e7d93a",
            "preferred_single_sign_on_mode": "",
            "redirect_uris": [],
            "saml_metadata_url": "",
            "saml_single_sign_on": [],
            "service_principal_names": [
              "https://identity.azure.net/wa26oIGDOBUB6JdcWQNYm1FM8lW/kDV3CZalMUKhIpU="
            ],
            "sign_in_audience": "",
            "tags": [],
            "timeouts": null,
            "type": "ManagedIdentity"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9YzY0ZGFiZDUtMjQyYi00ODFiLWFjNWQtOTJiZTVjNjgzZTlmO3N1YnNjcmlwdGlvbklkPWIyYWYyMGFkLTk4ZmEtNGFhNy05NGMzLTA1OTY2MzY0MWQ5Zjt0ZW5hbnRJZD01MzgwMzY0ZS0zNWQ0LTQyOTMtOGJmZS1mYTc2ZTgzNTM4NGU=",
            "object_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "tenant",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9YzY0ZGFiZDUtMjQyYi00ODFiLWFjNWQtOTJiZTVjNjgzZTlmO3N1YnNjcmlwdGlvbklkPWIyYWYyMGFkLTk4ZmEtNGFhNy05NGMzLTA1OTY2MzY0MWQ5Zjt0ZW5hbnRJZD01MzgwMzY0ZS0zNWQ0LTQyOTMtOGJmZS1mYTc2ZTgzNTM4NGU=",
            "object_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_role_definition",
      "name": "blob_data_contributor",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "assignable_scopes": [
              "/"
            ],
            "description": "Allows for read, write and delete access to Azure Storage blob containers and data",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
            "name": "Storage Blob Data Contributor",
            "permissions": [
              {
                "actions": [
                  "Microsoft.Storage/storageAccounts/blobServices/containers/delete",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/read",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/write",
                  "Microsoft.Storage/storageAccounts/blobServices/generateUserDelegationKey/action"
                ],
                "condition": "",
                "condition_version": "",
                "data_actions": [
                  "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/add/action",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/delete",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/move/action",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read",
                  "Microsoft.Storage/storageAccounts/blobServices/containers/blobs/write"
                ],
                "not_actions": [],
                "not_data_actions": []
              }
            ],
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001",
            "timeouts": null,
            "type": "BuiltInRole"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_role_definition",
      "name": "kv_secrets_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "assignable_scopes": [
              "/"
            ],
            "description": "Read secret contents. Only works for key vaults that use the 'Azure role-based access control' permission model.",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "name": "Key Vault Secrets User",
            "permissions": [
              {
                "actions": [],
                "condition": "",
                "condition_version": "",
                "data_actions": [
                  "Microsoft.KeyVault/vaults/secrets/getSecret/action",
                  "Microsoft.KeyVault/vaults/secrets/readMetadata/action"
                ],
                "not_actions": [],
                "not_data_actions": []
              }
            ],
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001",
            "timeouts": null,
            "type": "BuiltInRole"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "http",
      "name": "myip",
      "provider": "provider[\"registry.terraform.io/hashicorp/http\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "80.219.164.55",
            "ca_cert_pem": null,
            "client_cert_pem": null,
            "client_key_pem": null,
            "id": "https://api.ipify.org?format=text",
            "insecure": null,
            "method": null,
            "request_body": null,
            "request_headers": null,
            "request_timeout_ms": null,
            "response_body": "80.219.164.55",
            "response_body_base64": "ODAuMjE5LjE2NC41NQ==",
            "response_headers": {
              "Cf-Cache-Status": "DYNAMIC",
              "Cf-Ray": "9721e3dd5e65985f-ZRH",
              "Content-Length": "13",
              "Content-Type": "text/plain",
              "Date": "Wed, 20 Aug 2025 12:28:22 GMT",
              "Server": "cloudflare",
              "Server-Timing": "cfL4;desc=\"?proto=TCP\u0026rtt=11980\u0026min_rtt=10775\u0026rtt_var=4076\u0026sent=8\u0026recv=12\u0026lost=0\u0026retrans=0\u0026sent_bytes=4282\u0026recv_bytes=1751\u0026delivery_rate=313193\u0026cwnd=254\u0026unsent_bytes=0\u0026cid=6aacbfa6e105787d\u0026ts=138\u0026x=0\"",
              "Vary": "Origin"
            },
            "retry": null,
            "status_code": 200,
            "url": "https://api.ipify.org?format=text"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azapi_update_resource",
      "name": "aks_enable_asvni",
      "provider": "provider[\"registry.terraform.io/azure/azapi\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 2,
          "attributes": {
            "body": {
              "value": {
                "properties": {
                  "apiServerAccessProfile": {
                    "enablePrivateCluster": false,
                    "enableVnetIntegration": true,
                    "subnetId": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001"
                  }
                }
              },
              "type": [
                "object",
                {
                  "properties": [
                    "object",
                    {
                      "apiServerAccessProfile": [
                        "object",
                        {
                          "enablePrivateCluster": "bool",
                          "enableVnetIntegration": "bool",
                          "subnetId": "string"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "ignore_casing": false,
            "ignore_missing_property": true,
            "locks": null,
            "name": "aks-prod-aks104-backend-eus2-001",
            "output": {
              "value": {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
                "identity": {
                  "userAssignedIdentities": {
                    "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-backend-prod-eus2-001": {
                      "clientId": "6b92ef5a-be48-49f4-be3b-5e3f44904efb",
                      "principalId": "6db3bb76-5e82-46e4-a9b3-21fa6e0054fd"
                    }
                  }
                },
                "properties": {
                  "addonProfiles": {
                    "azureKeyvaultSecretsProvider": {
                      "config": {
                        "enableSecretRotation": "true",
                        "rotationPollInterval": "2m"
                      }
                    },
                    "omsagent": {
                      "config": {
                        "logAnalyticsWorkspaceResourceID": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
                        "useAADAuth": "true"
                      }
                    }
                  },
                  "agentPoolProfiles": [
                    {
                      "availabilityZones": [
                        "1"
                      ],
                      "currentOrchestratorVersion": "1.31.9",
                      "nodeImageVersion": "AKSAzureLinux-V2gen2-202507.21.0",
                      "provisioningState": "Succeeded"
                    }
                  ],
                  "azurePortalFQDN": "aks-prod-aks104-backend-eus2-6hi1kqcl.portal.hcp.eastus2.azmk8s.io",
                  "currentKubernetesVersion": "1.31.9",
                  "fqdn": "aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io",
                  "identityProfile": {
                    "kubeletidentity": {}
                  },
                  "maxAgentPools": 100,
                  "networkProfile": {
                    "ipFamilies": [
                      "IPv4"
                    ],
                    "loadBalancerProfile": {
                      "effectiveOutboundIPs": [
                        {}
                      ]
                    },
                    "podCidrs": [
                      "192.168.0.0/16"
                    ],
                    "serviceCidrs": [
                      "172.16.0.0/16"
                    ]
                  },
                  "oidcIssuerProfile": {
                    "issuerURL": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/"
                  },
                  "provisioningState": "Succeeded",
                  "resourceUID": "68a5b691679f75000195c9b8"
                },
                "tags": {
                  "Demo": "true",
                  "DeployedBy": "terraform-deployment",
                  "Environment": "production",
                  "FirewallMode": "Audit",
                  "Location": "East US 2",
                  "ManagedBy": "terraform",
                  "Project": "aks-secure-baseline"
                },
                "type": "Microsoft.ContainerService/ManagedClusters"
              },
              "type": [
                "object",
                {
                  "id": "string",
                  "identity": [
                    "object",
                    {
                      "userAssignedIdentities": [
                        "object",
                        {
                          "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-backend-prod-eus2-001": [
                            "object",
                            {
                              "clientId": "string",
                              "principalId": "string"
                            }
                          ]
                        }
                      ]
                    }
                  ],
                  "properties": [
                    "object",
                    {
                      "addonProfiles": [
                        "object",
                        {
                          "azureKeyvaultSecretsProvider": [
                            "object",
                            {
                              "config": [
                                "object",
                                {
                                  "enableSecretRotation": "string",
                                  "rotationPollInterval": "string"
                                }
                              ]
                            }
                          ],
                          "omsagent": [
                            "object",
                            {
                              "config": [
                                "object",
                                {
                                  "logAnalyticsWorkspaceResourceID": "string",
                                  "useAADAuth": "string"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "agentPoolProfiles": [
                        "tuple",
                        [
                          [
                            "object",
                            {
                              "availabilityZones": [
                                "tuple",
                                [
                                  "string"
                                ]
                              ],
                              "currentOrchestratorVersion": "string",
                              "nodeImageVersion": "string",
                              "provisioningState": "string"
                            }
                          ]
                        ]
                      ],
                      "azurePortalFQDN": "string",
                      "currentKubernetesVersion": "string",
                      "fqdn": "string",
                      "identityProfile": [
                        "object",
                        {
                          "kubeletidentity": [
                            "object",
                            {}
                          ]
                        }
                      ],
                      "maxAgentPools": "number",
                      "networkProfile": [
                        "object",
                        {
                          "ipFamilies": [
                            "tuple",
                            [
                              "string"
                            ]
                          ],
                          "loadBalancerProfile": [
                            "object",
                            {
                              "effectiveOutboundIPs": [
                                "tuple",
                                [
                                  [
                                    "object",
                                    {}
                                  ]
                                ]
                              ]
                            }
                          ],
                          "podCidrs": [
                            "tuple",
                            [
                              "string"
                            ]
                          ],
                          "serviceCidrs": [
                            "tuple",
                            [
                              "string"
                            ]
                          ]
                        }
                      ],
                      "oidcIssuerProfile": [
                        "object",
                        {
                          "issuerURL": "string"
                        }
                      ],
                      "provisioningState": "string",
                      "resourceUID": "string"
                    }
                  ],
                  "tags": [
                    "object",
                    {
                      "Demo": "string",
                      "DeployedBy": "string",
                      "Environment": "string",
                      "FirewallMode": "string",
                      "Location": "string",
                      "ManagedBy": "string",
                      "Project": "string"
                    }
                  ],
                  "type": "string"
                }
              ]
            },
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001",
            "read_headers": null,
            "read_query_parameters": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "response_export_values": null,
            "retry": null,
            "sensitive_body": null,
            "sensitive_body_version": null,
            "timeouts": null,
            "type": "Microsoft.ContainerService/managedClusters@2024-05-01",
            "update_headers": null,
            "update_query_parameters": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzZW5zaXRpdmVfYm9keSI6ImV5Sm9ZWE5vSWpvaVpFTk9UMjFMTDI1VFdTc3hNblpJZW1GelRGaHBjM2Q2YkVkVU5WVklRVGRxUVVkWmEzWnRRM1ZSY3owaWZRPT0ifQ==",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.aks_identity_network_contributor_vnet",
            "azurerm_subnet.apiserver",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 2,
          "attributes": {
            "body": {
              "value": {
                "properties": {
                  "apiServerAccessProfile": {
                    "enablePrivateCluster": false,
                    "enableVnetIntegration": true,
                    "subnetId": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001"
                  }
                }
              },
              "type": [
                "object",
                {
                  "properties": [
                    "object",
                    {
                      "apiServerAccessProfile": [
                        "object",
                        {
                          "enablePrivateCluster": "bool",
                          "enableVnetIntegration": "bool",
                          "subnetId": "string"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "ignore_casing": false,
            "ignore_missing_property": true,
            "locks": null,
            "name": "aks-prod-aks104-public-eus2-001",
            "output": {
              "value": {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
                "identity": {
                  "userAssignedIdentities": {
                    "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-public-prod-eus2-001": {
                      "clientId": "07ed8ad4-6e0f-475e-9f43-432bcf0aac97",
                      "principalId": "05f89f7e-fa26-438e-b924-f31d5b6c284b"
                    }
                  }
                },
                "properties": {
                  "addonProfiles": {
                    "azureKeyvaultSecretsProvider": {
                      "config": {
                        "enableSecretRotation": "true",
                        "rotationPollInterval": "2m"
                      }
                    },
                    "omsagent": {
                      "config": {
                        "logAnalyticsWorkspaceResourceID": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
                        "useAADAuth": "true"
                      }
                    }
                  },
                  "agentPoolProfiles": [
                    {
                      "availabilityZones": [
                        "1"
                      ],
                      "currentOrchestratorVersion": "1.31.9",
                      "nodeImageVersion": "AKSAzureLinux-V2gen2-202507.21.0",
                      "provisioningState": "Succeeded"
                    }
                  ],
                  "azurePortalFQDN": "aks-prod-aks104-public-eus2-9wno8lte.portal.hcp.eastus2.azmk8s.io",
                  "currentKubernetesVersion": "1.31.9",
                  "fqdn": "aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io",
                  "identityProfile": {
                    "kubeletidentity": {}
                  },
                  "maxAgentPools": 100,
                  "networkProfile": {
                    "ipFamilies": [
                      "IPv4"
                    ],
                    "loadBalancerProfile": {
                      "effectiveOutboundIPs": [
                        {}
                      ]
                    },
                    "podCidrs": [
                      "192.168.0.0/16"
                    ],
                    "serviceCidrs": [
                      "172.16.0.0/16"
                    ]
                  },
                  "oidcIssuerProfile": {
                    "issuerURL": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/"
                  },
                  "provisioningState": "Succeeded",
                  "resourceUID": "68a5b692679f75000195c9b9"
                },
                "tags": {
                  "Demo": "true",
                  "DeployedBy": "terraform-deployment",
                  "Environment": "production",
                  "FirewallMode": "Audit",
                  "Location": "East US 2",
                  "ManagedBy": "terraform",
                  "Project": "aks-secure-baseline"
                },
                "type": "Microsoft.ContainerService/ManagedClusters"
              },
              "type": [
                "object",
                {
                  "id": "string",
                  "identity": [
                    "object",
                    {
                      "userAssignedIdentities": [
                        "object",
                        {
                          "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-public-prod-eus2-001": [
                            "object",
                            {
                              "clientId": "string",
                              "principalId": "string"
                            }
                          ]
                        }
                      ]
                    }
                  ],
                  "properties": [
                    "object",
                    {
                      "addonProfiles": [
                        "object",
                        {
                          "azureKeyvaultSecretsProvider": [
                            "object",
                            {
                              "config": [
                                "object",
                                {
                                  "enableSecretRotation": "string",
                                  "rotationPollInterval": "string"
                                }
                              ]
                            }
                          ],
                          "omsagent": [
                            "object",
                            {
                              "config": [
                                "object",
                                {
                                  "logAnalyticsWorkspaceResourceID": "string",
                                  "useAADAuth": "string"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "agentPoolProfiles": [
                        "tuple",
                        [
                          [
                            "object",
                            {
                              "availabilityZones": [
                                "tuple",
                                [
                                  "string"
                                ]
                              ],
                              "currentOrchestratorVersion": "string",
                              "nodeImageVersion": "string",
                              "provisioningState": "string"
                            }
                          ]
                        ]
                      ],
                      "azurePortalFQDN": "string",
                      "currentKubernetesVersion": "string",
                      "fqdn": "string",
                      "identityProfile": [
                        "object",
                        {
                          "kubeletidentity": [
                            "object",
                            {}
                          ]
                        }
                      ],
                      "maxAgentPools": "number",
                      "networkProfile": [
                        "object",
                        {
                          "ipFamilies": [
                            "tuple",
                            [
                              "string"
                            ]
                          ],
                          "loadBalancerProfile": [
                            "object",
                            {
                              "effectiveOutboundIPs": [
                                "tuple",
                                [
                                  [
                                    "object",
                                    {}
                                  ]
                                ]
                              ]
                            }
                          ],
                          "podCidrs": [
                            "tuple",
                            [
                              "string"
                            ]
                          ],
                          "serviceCidrs": [
                            "tuple",
                            [
                              "string"
                            ]
                          ]
                        }
                      ],
                      "oidcIssuerProfile": [
                        "object",
                        {
                          "issuerURL": "string"
                        }
                      ],
                      "provisioningState": "string",
                      "resourceUID": "string"
                    }
                  ],
                  "tags": [
                    "object",
                    {
                      "Demo": "string",
                      "DeployedBy": "string",
                      "Environment": "string",
                      "FirewallMode": "string",
                      "Location": "string",
                      "ManagedBy": "string",
                      "Project": "string"
                    }
                  ],
                  "type": "string"
                }
              ]
            },
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001",
            "read_headers": null,
            "read_query_parameters": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "response_export_values": null,
            "retry": null,
            "sensitive_body": null,
            "sensitive_body_version": null,
            "timeouts": null,
            "type": "Microsoft.ContainerService/managedClusters@2024-05-01",
            "update_headers": null,
            "update_query_parameters": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzZW5zaXRpdmVfYm9keSI6ImV5Sm9ZWE5vSWpvaVpFTk9UMjFMTDI1VFdTc3hNblpJZW1GelRGaHBjM2Q2YkVkVU5WVklRVGRxUVVkWmEzWnRRM1ZSY3owaWZRPT0ifQ==",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.aks_identity_network_contributor_vnet",
            "azurerm_subnet.apiserver",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_application_gateway",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authentication_certificate": [],
            "autoscale_configuration": [
              {
                "max_capacity": 10,
                "min_capacity": 1
              }
            ],
            "backend_address_pool": [
              {
                "fqdns": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendAddressPools/backend-backend-pool",
                "ip_addresses": [
                  "10.240.4.100"
                ],
                "name": "backend-backend-pool"
              },
              {
                "fqdns": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendAddressPools/public-backend-pool",
                "ip_addresses": [
                  "10.240.0.100"
                ],
                "name": "public-backend-pool"
              }
            ],
            "backend_http_settings": [
              {
                "affinity_cookie_name": "",
                "authentication_certificate": [],
                "connection_draining": [
                  {
                    "drain_timeout_sec": 300,
                    "enabled": true
                  }
                ],
                "cookie_based_affinity": "Disabled",
                "host_name": "",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendHttpSettingsCollection/backend-backend-settings",
                "name": "backend-backend-settings",
                "path": "/",
                "pick_host_name_from_backend_address": false,
                "port": 80,
                "probe_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/probes/backend-health-probe",
                "probe_name": "backend-health-probe",
                "protocol": "Http",
                "request_timeout": 60,
                "trusted_root_certificate_names": []
              },
              {
                "affinity_cookie_name": "",
                "authentication_certificate": [],
                "connection_draining": [
                  {
                    "drain_timeout_sec": 300,
                    "enabled": true
                  }
                ],
                "cookie_based_affinity": "Disabled",
                "host_name": "",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendHttpSettingsCollection/public-backend-settings",
                "name": "public-backend-settings",
                "path": "/",
                "pick_host_name_from_backend_address": false,
                "port": 80,
                "probe_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/probes/public-health-probe",
                "probe_name": "public-health-probe",
                "protocol": "Http",
                "request_timeout": 60,
                "trusted_root_certificate_names": []
              }
            ],
            "custom_error_configuration": [],
            "enable_http2": false,
            "fips_enabled": false,
            "firewall_policy_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGatewayWebApplicationFirewallPolicies/waf-policy-prod-eus2-001",
            "force_firewall_policy_association": false,
            "frontend_ip_configuration": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendIPConfigurations/appGwPublicFrontendIp",
                "name": "appGwPublicFrontendIp",
                "private_ip_address": "",
                "private_ip_address_allocation": "Dynamic",
                "private_link_configuration_id": "",
                "private_link_configuration_name": "",
                "public_ip_address_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/publicIPAddresses/pip-agw-prod-eus2-001",
                "subnet_id": ""
              }
            ],
            "frontend_port": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendPorts/port_443",
                "name": "port_443",
                "port": 443
              },
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendPorts/port_80",
                "name": "port_80",
                "port": 80
              }
            ],
            "gateway_ip_configuration": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/gatewayIPConfigurations/appGatewayIpConfig",
                "name": "appGatewayIpConfig",
                "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001"
              }
            ],
            "global": [],
            "http_listener": [
              {
                "custom_error_configuration": [],
                "firewall_policy_id": "",
                "frontend_ip_configuration_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendIPConfigurations/appGwPublicFrontendIp",
                "frontend_ip_configuration_name": "appGwPublicFrontendIp",
                "frontend_port_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendPorts/port_443",
                "frontend_port_name": "port_443",
                "host_name": "api.yourdomain.com",
                "host_names": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/backend-api-listener",
                "name": "backend-api-listener",
                "protocol": "Https",
                "require_sni": false,
                "ssl_certificate_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/sslCertificates/wildcard-ssl-cert",
                "ssl_certificate_name": "wildcard-ssl-cert",
                "ssl_profile_id": "",
                "ssl_profile_name": ""
              },
              {
                "custom_error_configuration": [],
                "firewall_policy_id": "",
                "frontend_ip_configuration_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendIPConfigurations/appGwPublicFrontendIp",
                "frontend_ip_configuration_name": "appGwPublicFrontendIp",
                "frontend_port_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendPorts/port_443",
                "frontend_port_name": "port_443",
                "host_name": "app.yourdomain.com",
                "host_names": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/public-app-listener",
                "name": "public-app-listener",
                "protocol": "Https",
                "require_sni": false,
                "ssl_certificate_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/sslCertificates/wildcard-ssl-cert",
                "ssl_certificate_name": "wildcard-ssl-cert",
                "ssl_profile_id": "",
                "ssl_profile_name": ""
              },
              {
                "custom_error_configuration": [],
                "firewall_policy_id": "",
                "frontend_ip_configuration_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendIPConfigurations/appGwPublicFrontendIp",
                "frontend_ip_configuration_name": "appGwPublicFrontendIp",
                "frontend_port_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/frontendPorts/port_80",
                "frontend_port_name": "port_80",
                "host_name": "",
                "host_names": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/appGwHttpListener",
                "name": "appGwHttpListener",
                "protocol": "Http",
                "require_sni": false,
                "ssl_certificate_id": "",
                "ssl_certificate_name": "",
                "ssl_profile_id": "",
                "ssl_profile_name": ""
              }
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-agw-prod-eus2-001"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "location": "eastus2",
            "name": "agw-main-prod-eus2-001",
            "private_endpoint_connection": [],
            "private_link_configuration": [],
            "probe": [
              {
                "host": "10.240.0.100",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/probes/public-health-probe",
                "interval": 30,
                "match": [
                  {
                    "body": "",
                    "status_code": [
                      "200"
                    ]
                  }
                ],
                "minimum_servers": 0,
                "name": "public-health-probe",
                "path": "/healthz",
                "pick_host_name_from_backend_http_settings": false,
                "port": 80,
                "protocol": "Http",
                "timeout": 20,
                "unhealthy_threshold": 3
              },
              {
                "host": "10.240.4.100",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/probes/backend-health-probe",
                "interval": 30,
                "match": [
                  {
                    "body": "",
                    "status_code": [
                      "200"
                    ]
                  }
                ],
                "minimum_servers": 0,
                "name": "backend-health-probe",
                "path": "/healthz",
                "pick_host_name_from_backend_http_settings": false,
                "port": 80,
                "protocol": "Http",
                "timeout": 20,
                "unhealthy_threshold": 3
              }
            ],
            "redirect_configuration": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/redirectConfigurations/http-to-https-redirect",
                "include_path": true,
                "include_query_string": true,
                "name": "http-to-https-redirect",
                "redirect_type": "Permanent",
                "target_listener_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/public-app-listener",
                "target_listener_name": "public-app-listener",
                "target_url": ""
              }
            ],
            "request_routing_rule": [
              {
                "backend_address_pool_id": "",
                "backend_address_pool_name": "",
                "backend_http_settings_id": "",
                "backend_http_settings_name": "",
                "http_listener_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/appGwHttpListener",
                "http_listener_name": "appGwHttpListener",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/requestRoutingRules/http-redirect-rule",
                "name": "http-redirect-rule",
                "priority": 100,
                "redirect_configuration_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/redirectConfigurations/http-to-https-redirect",
                "redirect_configuration_name": "http-to-https-redirect",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              },
              {
                "backend_address_pool_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendAddressPools/backend-backend-pool",
                "backend_address_pool_name": "backend-backend-pool",
                "backend_http_settings_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendHttpSettingsCollection/backend-backend-settings",
                "backend_http_settings_name": "backend-backend-settings",
                "http_listener_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/backend-api-listener",
                "http_listener_name": "backend-api-listener",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/requestRoutingRules/backend-api-routing",
                "name": "backend-api-routing",
                "priority": 300,
                "redirect_configuration_id": "",
                "redirect_configuration_name": "",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              },
              {
                "backend_address_pool_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendAddressPools/public-backend-pool",
                "backend_address_pool_name": "public-backend-pool",
                "backend_http_settings_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/backendHttpSettingsCollection/public-backend-settings",
                "backend_http_settings_name": "public-backend-settings",
                "http_listener_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/httpListeners/public-app-listener",
                "http_listener_name": "public-app-listener",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/requestRoutingRules/public-app-routing",
                "name": "public-app-routing",
                "priority": 200,
                "redirect_configuration_id": "",
                "redirect_configuration_name": "",
                "rewrite_rule_set_id": "",
                "rewrite_rule_set_name": "",
                "rule_type": "Basic",
                "url_path_map_id": "",
                "url_path_map_name": ""
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "rewrite_rule_set": [],
            "sku": [
              {
                "capacity": 0,
                "name": "WAF_v2",
                "tier": "WAF_v2"
              }
            ],
            "ssl_certificate": [
              {
                "data": "MIIJqwIBAzCCCXcGCSqGSIb3DQEHAaCCCWgEgglkMIIJYDCCBBcGCSqGSIb3DQEHBqCCBAgwggQEAgEAMIID/QYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIJqJjMR5l8YECAggAgIID0OdAqa04medMjrajCutxlQnk3WhvaN6nC4v9LhAsJ/P+lpyWIk014NBGfEo0vQAlu/2hnDqgZawXqqYou90Gu0/5CvQzvPAbxU2Ut7tY5G2apnYGBArT8ekCRgUccY4H94XdfqXwXaabXEwy8s4cvQMi8S4cXt23c2PqJIAIWktwrAfGUo6M9kC1WD/XhLpKPIV7awcTzYe3T5fowxXsf30OuC+tDh/UeLQJJG92MrTUMc62BJQuhrgPnM0FU+B4+Rrebjg/by73AuL8Jmnkx/SJOITi9YQJ8dg53M/Q9B581q9vDvbyEIsNb5ZRkYk71vlnjquOneXcy1lRrxIa/Pv3xMqLILTUsC9gjlUFN4VkxpSl0KGNGxb9Sa1jarL4/sk74hDWcmtwhGpK5oZ2MkwBs1LN0OjF7Kgdc1ciDqFWAO/JAk0p9xBWblJBrcT6rjASb4DZkHgF3/0SneI8wLOU8g9g1Aj4gESbwTAvQAkd2diPywGaS0/qKrg0hFxOFkCV5pWY6H5dR1ZPCBOwUKGIaZUXIWeMWwGbCzCQ6vn0FbHGyXagrIwIR8p5h24FQexhti6rj5pdxFzsDd/Uf9m3S4ll8KO1gcL4SXffy0IKAoxufbCzzzPqpALn4lvyD91wogv9skShZOyOoF9PQq4Hvm7R05HqtqKariVzDUjKZnsOmGEuQSUH8KC4Q6lYXYpkemuSUi1hvGqt+d3gemu5UuJK5g3ebMc8vUCbEx7OqMyYDT8NAxQp/phgH2uGEQSAS1do9579wIuXhwm5vQcI1i7giliYLAE9y2P5pdi2zlYI3AGCNVbVBnpwe5OORJ7VRIl7s68J6U/I+pSVGRUoVdrmbZciJfOc273h7U2aIB5WPwOliyU0luVMgle81+wVKWtbNmlgPQKoB3cG1MK4iiWcD1PF/9vJytPpKL861O9QUKqH0hfEtzANvPBaqf4iff8P3wPWA9y7wV9qu399nn9xg3RtfLJiEXawktXDhblLQVtDKkzLNogmXNbtBjj7nZKvght0FyXCri89mzRLcrHIPA913vJVt0vBOidbEbktB7EGd3CzjhVYrgGnfDNAFKDd/ob4MlC8kNoHPNgQ5GPmA1gVhCn2mthpwEzAFb59+1Pg/nUwfjLCWZKKZXVyPqDbeHvz0oXUGgUa1T806gaY+nYazY/ow1DfXd2ffgobmvpLWYtnlVfSbQV7UmtbtHQM0KHNlVzaLZhme8D/89ogGTfhZk2NlreN6mC+Kc6TVb2kMR4OeOpL6aXKBoKwb2CYEnAGrA+XLZzNMVowggVBBgkqhkiG9w0BBwGgggUyBIIFLjCCBSowggUmBgsqhkiG9w0BDAoBAqCCBO4wggTqMBwGCiqGSIb3DQEMAQMwDgQIW+W7mdrPNNICAggABIIEyFiRiOr8f+g5sdMSZFrtOi6tzORc/jnIYXq8jL2lbY6G6HSGtUnbZxq3Z6j8S/XJn2E18n5dh7VoyKgHK6ucIHGs8m1DqOYzX1PJKRe1cDxDe91HVPhF8TrC/raHO46E+YOljCK4V48zZji4D7T+DcZD5PF3Di36nZhAjDFl8mij1JDWKUknil6Kc7xImT56xdznp0QsqcDtuTuln/mNCcao5ER4Dvkj27i9bhCAW1V6959pD3Hv1uyKk68sUWe1cwUWvlQ8muIPjMjVGtGrrc60FLRXloIGln8e3wXnRj0vtbHR4vqiAd0tRLqr62lDVDk3DQ2ZjkljmQbjcFijmWCRx0XoSwiQ2fTtoE3dB6fRI1WPKPajEFzARLZGt6QxqPs+zfrxeXKE3EPgKG4tkvlfV23LKbOoa261HFDnckgyCI6qHWyxPe1i4dSHOawblh7w+Ez2NH/BxjeoaFy90cSg8xe13/mkFU5IMWrqBjjXf6OrgXEAFhJ1unNG1jgoOZyL/hN1HQGiWpOsvCHFyc4N2nm5k7q0Og0l2roRdO1EsdeqpeSXeHTG3GN5vb1T0eSpt5Bo2CLUm1/yj+d37Phr41o5ZEuKdlTM3uqR5ohWJYAlOAP5ZMA9d3lciQf9AO5IwEtxG+W2em/iQnKrPuRn7a+qHnEdbifBV/wwGCh2MZ+PvIHrXmW93h5RcSnbVHv5pIEvnrwHV5hNlpiboGc8EHIntBZGv4ROqQZCEOZJVXvzwtKwh8snvw4on32VHn+Cst/xzgNn/Z8QuQmeNEA38Sr1j4oln6Wfs7chBlC6CjkjHM3ahf7yu0LRrMtXlnAXfmv3aNYyO8obVr+w/HpbFQNCLMle9Z7Dxt46/9tb/1DZH2219WjVqOmwTk2G8FIQ37TU9ZIqekq0fBALXGtl1vMwHTmPNibeWJokE6yNzIAuQtIniT0gWPWZal+Wh2W5SSgaj+WJRgVnoxYrSCgQflE3MRkiALPc7tnL0ALiaE8yPGuBFdsEb5Bjct5hc14pAVLDTqMOl/Zg22HEQx55YG/T756EPhNlrvLRxvX68MlKnNXfRL+AUacRmOaxhbeQRH0pcp0kDPdyQNoiiiAZ97J1ZtLCIxvdgLbYeoWR3HupFcAcTa4iK41ztZY0lb7xYcEKVm8GzTxZEYQvfu7VOMqHZ8p/v/Clgry+1/5IuRqWRUCfXAAz1f7VK41vduCm1EOLBCAREk9Dk1NZcHEi14S//mFBmxMWO7kWQFj0mifY7x9USavtSQ6rkjqFQ99JOmZCCj+vYQKnPQ47FkDMdz/UOcH2in8PicWpxaTuagY5UccF66cdnpoHBa2HfWyTfrb/yrO9tvz8ALECVQrQSOE1AVugQ2Ka3doXbIrEO+H7J4v23RS8avptcgq3ACLD9w0nPrtXMnQfPOc2ISqUiFOCVJRXjGCQXK38Ot2CtesIXfQ5ETlqYx116NbNkmJVu4Hnvda4o7QUE6rg6GMvEgtAO8cd0vh/dt/1udnBDT5p3AzEq7VYOHQSjduQZMxK5ZM6SLOUGPnXrNpnmFK2kos1PdlKBzEMICa0zeOcrqMr/6Se4L5cTvmjPRAOe+1L4XMnTk+yZFpsPZzkxRym+Z+d2ab0OTElMCMGCSqGSIb3DQEJFTEWBBS8kapb+Fx+YkeMx1tnTaKg9CjAajArMB8wBwYFKw4DAhoEFAf44vZqI3vTVwpdb9ryyUcygyWTBAhpSXQaRnzL9g==",
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGateways/agw-main-prod-eus2-001/sslCertificates/wildcard-ssl-cert",
                "key_vault_secret_id": "",
                "name": "wildcard-ssl-cert",
                "password": "n4Z{kEr9X5hS\u0026Lc|",
                "public_cert_data": "MIIDogYJKoZIhvcNAQcCoIIDkzCCA48CAQExADALBgkqhkiG9w0BBwGgggN3MIIDczCCAlugAwIBAgIRALtYmMIZbd9ashM0iEBe31kwDQYJKoZIhvcNAQELBQAwLjERMA8GA1UEChMIQUtTIERlbW8xGTAXBgNVBAMMECoueW91cmRvbWFpbi5jb20wHhcNMjUwODIwMTE0OTI5WhcNMjYwODIwMTE0OTI5WjAuMREwDwYDVQQKEwhBS1MgRGVtbzEZMBcGA1UEAwwQKi55b3VyZG9tYWluLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMXQJT9OJhCkUfpE0qhaSQ6DzG0UNfYrH9XimlnUPZHzFsipb31MSkMVC6zv6ywqOpkqKWJk2116WWFaJDoJx3mz5nRX3xDBFFXqRSA0bG9SmIIlCdQvICzflNwx9Gh7hgq7no/28I01gfSOQPCqVmvIlm1aVqt1c1VutCo4BjpUU40DEIO36gZtEuto5ChElpwUmFT3vC6Y+qe+38MdrS6y9s+XAwwS41gIaaEIrfWBqLPCTv+NADmtGDmjpVbHQdKNpxNmYCQ+xIu+jwbFDEiDmxx/7VN6NKT2iVjeyLoT7GG+amJjX4oqvS4c5h/cUvE8rf4pOsybAlk4tPeGMUMCAwEAAaOBizCBiDAOBgNVHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIwADBTBgNVHREETDBKghAqLnlvdXJkb21haW4uY29tgg55b3VyZG9tYWluLmNvbYISYXBwLnlvdXJkb21haW4uY29tghJhcGkueW91cmRvbWFpbi5jb20wDQYJKoZIhvcNAQELBQADggEBAFA0Kmv4X7OHcoHPALArR/YP36OzJlVHTvtYMm5fJ/0tvs1FDuXP9/qAZJl98bfQCwc40xG6BBSUDeyjjRkjWIucS+UOU80O1LGg5/KYqOJI1qp4eCcjH511HTayQDXbtv+sk7+zpnbBYtrQ+k7esey8ISsJzKW1d77lOx+S5Fqj/Up24KqrCc7omvHbbNWujIupE78G7PZRoN5CsJFhXGGI3vrWotDHX2hTTZ+oYk6BNgHjaS/AmtFHA+YMX4uptnsDHcJ6mUibSxElSramuVkt5DCFfGozRWxUF3gd/ztO+0khV9WtWSCXpcTArNCaEEiqCqpXzqXT6GJ6+CVw9U0xAA=="
              }
            ],
            "ssl_policy": [
              {
                "cipher_suites": [],
                "disabled_protocols": [],
                "min_protocol_version": "",
                "policy_name": "AppGwSslPolicy20220101",
                "policy_type": "Predefined"
              }
            ],
            "ssl_profile": [],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "trusted_client_certificate": [],
            "trusted_root_certificate": [],
            "url_path_map": [],
            "waf_configuration": [],
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ssl_certificate"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "name": "agw-main-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.app_gateway",
            "azurerm_resource_group.main",
            "azurerm_subnet.app_gateway",
            "azurerm_user_assigned_identity.app_gateway",
            "azurerm_virtual_network.main",
            "azurerm_web_application_firewall_policy.main",
            "pkcs12_from_pem.wildcard",
            "random_password.generated",
            "tls_private_key.app_gateway",
            "tls_self_signed_cert.wildcard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_application_insights",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "app_id": "8ce476c0-e88b-4cf0-a467-515139e55da7",
            "application_type": "web",
            "connection_string": "InstrumentationKey=37df6a41-9198-4f6c-9f17-c050fcdec490;IngestionEndpoint=https://eastus2-3.in.applicationinsights.azure.com/;LiveEndpoint=https://eastus2.livediagnostics.monitor.azure.com/;ApplicationId=8ce476c0-e88b-4cf0-a467-515139e55da7",
            "daily_data_cap_in_gb": 100,
            "daily_data_cap_notifications_disabled": false,
            "disable_ip_masking": false,
            "force_customer_storage_for_profiler": false,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/components/appi-prod-aks104-eus2-001",
            "instrumentation_key": "37df6a41-9198-4f6c-9f17-c050fcdec490",
            "internet_ingestion_enabled": true,
            "internet_query_enabled": true,
            "local_authentication_disabled": false,
            "location": "eastus2",
            "name": "appi-prod-aks104-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "retention_in_days": 90,
            "sampling_percentage": 100,
            "tags": {},
            "timeouts": null,
            "workspace_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "instrumentation_key"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_container_registry",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "admin_enabled": false,
            "admin_password": "",
            "admin_username": "",
            "anonymous_pull_enabled": false,
            "data_endpoint_enabled": false,
            "data_endpoint_host_names": [],
            "encryption": [],
            "export_policy_enabled": true,
            "georeplications": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerRegistry/registries/acrprodaks104eus25xhr55",
            "identity": [],
            "location": "eastus2",
            "login_server": "acrprodaks104eus25xhr55.azurecr.io",
            "name": "acrprodaks104eus25xhr55",
            "network_rule_bypass_option": "AzureServices",
            "network_rule_set": [
              {
                "default_action": "Allow",
                "ip_rule": []
              }
            ],
            "public_network_access_enabled": true,
            "quarantine_policy_enabled": false,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "retention_policy_in_days": 0,
            "sku": "Premium",
            "tags": {},
            "timeouts": null,
            "trust_policy_enabled": false,
            "zone_redundancy_enabled": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_federated_identity_credential",
      "name": "csi_driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-backend-prod-eus2-001/federatedIdentityCredentials/fc-csi-prod-aks104-backend",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/",
            "name": "fc-csi-prod-aks104-backend",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:kube-system:secrets-store-csi-driver",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.workload_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-public-prod-eus2-001/federatedIdentityCredentials/fc-csi-prod-aks104-public",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/",
            "name": "fc-csi-prod-aks104-public",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:kube-system:secrets-store-csi-driver",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.workload_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_federated_identity_credential",
      "name": "default_service_account",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-backend-prod-eus2-001/federatedIdentityCredentials/fc-default-prod-aks104-backend",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/",
            "name": "fc-default-prod-aks104-backend",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:aks-app:workload-identity-sa",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.workload_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-public-prod-eus2-001/federatedIdentityCredentials/fc-default-prod-aks104-public",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/",
            "name": "fc-default-prod-aks104-public",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:aks-app:workload-identity-sa",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.workload_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_federated_identity_credential",
      "name": "sql_app_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001/federatedIdentityCredentials/fc-sql-app-backend-prod-aks104",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/",
            "name": "fc-sql-app-backend-prod-aks104",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:aks-app:sql-identity-sa-backend",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.sql_app_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "audience": [
              "api://AzureADTokenExchange"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001/federatedIdentityCredentials/fc-sql-app-public-prod-aks104",
            "issuer": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/",
            "name": "fc-sql-app-public-prod-aks104",
            "parent_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subject": "system:serviceaccount:aks-app:sql-identity-sa-public",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_user_assigned_identity.sql_app_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_proxy_enabled": false,
            "dns_servers": [],
            "firewall_policy_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/firewallPolicies/fwpol-main-prod-eus2-001",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/azureFirewalls/fw-hub-prod-eus2-001",
            "ip_configuration": [
              {
                "name": "configuration",
                "private_ip_address": "10.240.2.4",
                "public_ip_address_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/publicIPAddresses/pip-fw-prod-eus2-001",
                "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/AzureFirewallSubnet"
              }
            ],
            "location": "eastus2",
            "management_ip_configuration": [],
            "name": "fw-hub-prod-eus2-001",
            "private_ip_ranges": [],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "sku_name": "AZFW_VNet",
            "sku_tier": "Standard",
            "tags": {},
            "threat_intel_mode": "Alert",
            "timeouts": null,
            "virtual_hub": [],
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "fw-hub-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.main",
            "azurerm_public_ip.firewall",
            "azurerm_resource_group.main",
            "azurerm_subnet.firewall",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_learn_private_ranges_enabled": false,
            "base_policy_id": "",
            "child_policies": [],
            "dns": [
              {
                "proxy_enabled": true,
                "servers": []
              }
            ],
            "explicit_proxy": [],
            "firewalls": [
              "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/azureFirewalls/fw-hub-prod-eus2-001"
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/firewallPolicies/fwpol-main-prod-eus2-001",
            "identity": [],
            "insights": [],
            "intrusion_detection": [],
            "location": "eastus2",
            "name": "fwpol-main-prod-eus2-001",
            "private_ip_ranges": [],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "rule_collection_groups": [
              "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/firewallPolicies/fwpol-main-prod-eus2-001/ruleCollectionGroups/aks-egress-rules"
            ],
            "sku": "Standard",
            "sql_redirect_allowed": null,
            "tags": {},
            "threat_intelligence_allowlist": [],
            "threat_intelligence_mode": "Off",
            "timeouts": null,
            "tls_certificate": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "fwpol-main-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_firewall_policy_rule_collection_group",
      "name": "aks_egress",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_rule_collection": [
              {
                "action": "Allow",
                "name": "aks-fqdn-rules",
                "priority": 100,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [],
                    "destination_fqdn_tags": [],
                    "destination_fqdns": [
                      "*.hcp.eus2.azmk8s.io",
                      "mcr.microsoft.com",
                      "*.data.mcr.microsoft.com",
                      "management.azure.com",
                      "login.microsoftonline.com",
                      "packages.microsoft.com",
                      "acs-mirror.azureedge.net",
                      "packages.aks.azure.com",
                      "security.ubuntu.com",
                      "azure.archive.ubuntu.com",
                      "changelogs.ubuntu.com",
                      "*.docker.io",
                      "*.docker.com",
                      "registry-1.docker.io",
                      "auth.docker.io",
                      "production.cloudflare.docker.com",
                      "ghcr.io",
                      "pkg-containers.githubusercontent.com"
                    ],
                    "destination_urls": [],
                    "http_headers": [],
                    "name": "aks-core-dependencies",
                    "protocols": [
                      {
                        "port": 443,
                        "type": "Https"
                      },
                      {
                        "port": 80,
                        "type": "Http"
                      }
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": [],
                    "terminate_tls": false,
                    "web_categories": []
                  },
                  {
                    "description": "",
                    "destination_addresses": [],
                    "destination_fqdn_tags": [],
                    "destination_fqdns": [
                      "dc.services.visualstudio.com",
                      "*.ods.opinsights.azure.com",
                      "*.oms.opinsights.azure.com",
                      "*.monitoring.azure.com"
                    ],
                    "destination_urls": [],
                    "http_headers": [],
                    "name": "azure-monitor",
                    "protocols": [
                      {
                        "port": 443,
                        "type": "Https"
                      }
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": [],
                    "terminate_tls": false,
                    "web_categories": []
                  }
                ]
              }
            ],
            "firewall_policy_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/firewallPolicies/fwpol-main-prod-eus2-001",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/firewallPolicies/fwpol-main-prod-eus2-001/ruleCollectionGroups/aks-egress-rules",
            "name": "aks-egress-rules",
            "nat_rule_collection": [],
            "network_rule_collection": [
              {
                "action": "Allow",
                "name": "aks-network-rules",
                "priority": 200,
                "rule": [
                  {
                    "description": "",
                    "destination_addresses": [
                      "AzureCloud.East US 2"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "9000",
                      "443"
                    ],
                    "name": "aks-tcp-ports",
                    "protocols": [
                      "TCP"
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": []
                  },
                  {
                    "description": "",
                    "destination_addresses": [
                      "168.63.129.16"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "53"
                    ],
                    "name": "dns-azure-vip",
                    "protocols": [
                      "UDP",
                      "TCP"
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": []
                  },
                  {
                    "description": "",
                    "destination_addresses": [
                      "AzureCloud.East US 2"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "1194",
                      "123"
                    ],
                    "name": "aks-udp-ports",
                    "protocols": [
                      "UDP"
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": []
                  },
                  {
                    "description": "",
                    "destination_addresses": [
                      "*"
                    ],
                    "destination_fqdns": [],
                    "destination_ip_groups": [],
                    "destination_ports": [
                      "123"
                    ],
                    "name": "ntp-time-sync",
                    "protocols": [
                      "UDP"
                    ],
                    "source_addresses": [
                      "10.240.0.0/24",
                      "10.240.4.0/24"
                    ],
                    "source_ip_groups": []
                  }
                ]
              }
            ],
            "priority": 100,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall_policy.main",
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "app1",
          "schema_version": 2,
          "attributes": {
            "access_policy": [],
            "contact": [],
            "enable_rbac_authorization": true,
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app15xhr55",
            "location": "eastus2",
            "name": "kv-prodaks104app15xhr55",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Deny",
                "ip_rules": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "public_network_access_enabled": false,
            "purge_protection_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "sku_name": "standard",
            "soft_delete_retention_days": 7,
            "tags": {
              "App": "app1",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null,
            "vault_uri": "https://kv-prodaks104app15xhr55.vault.azure.net/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "app2",
          "schema_version": 2,
          "attributes": {
            "access_policy": [],
            "contact": [],
            "enable_rbac_authorization": true,
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app25xhr55",
            "location": "eastus2",
            "name": "kv-prodaks104app25xhr55",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Deny",
                "ip_rules": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "public_network_access_enabled": false,
            "purge_protection_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "sku_name": "standard",
            "soft_delete_retention_days": 7,
            "tags": {
              "App": "app2",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null,
            "vault_uri": "https://kv-prodaks104app25xhr55.vault.azure.net/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "access_policy": [],
            "contact": [],
            "enable_rbac_authorization": true,
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "location": "eastus2",
            "name": "kv-prodaks1045xhr55",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Allow",
                "ip_rules": [
                  "80.219.164.55/32"
                ],
                "virtual_network_subnet_ids": []
              }
            ],
            "public_network_access_enabled": true,
            "purge_protection_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "sku_name": "standard",
            "soft_delete_retention_days": 7,
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null,
            "vault_uri": "https://kv-prodaks1045xhr55.vault.azure.net/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "database_connection",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-string-backend/149d3a1225c24384bdee6836981a6e39",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "database-connection-string-backend",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-string-backend/versions/149d3a1225c24384bdee6836981a6e39",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-string-backend",
            "tags": {},
            "timeouts": null,
            "value": "Server=sql-main-prod-eus2-5xhr55.database.windows.net;Database=sqldb-app-prod-eus2;Authentication=Active Directory Managed Identity;User Id=03cd48e3-72a7-4530-9878-e6eba7581779;",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "149d3a1225c24384bdee6836981a6e39",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-string-backend"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_mssql_database.main",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-string-public/4b6685781ad24fae9d4bf93b6af4724d",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "database-connection-string-public",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-string-public/versions/4b6685781ad24fae9d4bf93b6af4724d",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-string-public",
            "tags": {},
            "timeouts": null,
            "value": "Server=sql-main-prod-eus2-5xhr55.database.windows.net;Database=sqldb-app-prod-eus2;Authentication=Active Directory Managed Identity;User Id=ebd7c5da-9452-4018-8bd9-4748f8383364;",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "4b6685781ad24fae9d4bf93b6af4724d",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-string-public"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_mssql_database.main",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "database_connection_app_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "text/plain",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-app-identity/459e41d31bac44bd86967beba7ee281b",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "database-connection-app-identity",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-app-identity/versions/459e41d31bac44bd86967beba7ee281b",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/database-connection-app-identity",
            "tags": {},
            "timeouts": null,
            "value": "Server=sql-main-prod-eus2-5xhr55.database.windows.net;Database=sqldb-app-prod-eus2;Authentication=Active Directory Managed Identity;User Id=1aac2aba-d3f1-4ba0-b3ee-f9bbb0c8b6be;",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "459e41d31bac44bd86967beba7ee281b",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/database-connection-app-identity"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_mssql_database.main",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.sql_app_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "passwords",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "sql_admin",
          "schema_version": 0,
          "attributes": {
            "content_type": "text/plain",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/sql-admin-password/770f55f438ad466298a42d6024b66f65",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "sql-admin-password",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/sql-admin-password/versions/770f55f438ad466298a42d6024b66f65",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/sql-admin-password",
            "tags": {},
            "timeouts": null,
            "value": "*m)G6}3Xz!F{ED{-vKe7",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "770f55f438ad466298a42d6024b66f65",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/sql-admin-password"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        },
        {
          "index_key": "ssl_cert",
          "schema_version": 0,
          "attributes": {
            "content_type": "text/plain",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/ssl-certificate-password/0cd9e9b904c34f798dca4d292df872de",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "ssl-certificate-password",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/ssl-certificate-password/versions/0cd9e9b904c34f798dca4d292df872de",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/ssl-certificate-password",
            "tags": {},
            "timeouts": null,
            "value": "n4Z{kEr9X5hS\u0026Lc|",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "0cd9e9b904c34f798dca4d292df872de",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/ssl-certificate-password"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "sql_app_identity_client_id",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "text/plain",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/sql-app-identity-client-id/c3a6e24015d84b0db2778d0d8c05f899",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "sql-app-identity-client-id",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/sql-app-identity-client-id/versions/c3a6e24015d84b0db2778d0d8c05f899",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/sql-app-identity-client-id",
            "tags": {},
            "timeouts": null,
            "value": "1aac2aba-d3f1-4ba0-b3ee-f9bbb0c8b6be",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "c3a6e24015d84b0db2778d0d8c05f899",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/sql-app-identity-client-id"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.sql_app_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "ssl_certificate",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "application/x-pkcs12",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/wildcard-ssl-certificate/39663a0c147b4881bd40d116d0692c40",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "wildcard-ssl-certificate",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/wildcard-ssl-certificate/versions/39663a0c147b4881bd40d116d0692c40",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/wildcard-ssl-certificate",
            "tags": {},
            "timeouts": null,
            "value": "TUlJSnF3SUJBekNDQ1hjR0NTcUdTSWIzRFFFSEFhQ0NDV2dFZ2dsa01JSUpZRENDQkJjR0NTcUdTSWIzRFFFSEJxQ0NCQWd3Z2dRRUFnRUFNSUlEL1FZSktvWklodmNOQVFjQk1Cd0dDaXFHU0liM0RRRU1BUVl3RGdRSUpxSmpNUjVsOFlFQ0FnZ0FnSUlEME9kQXFhMDRtZWRNanJhakN1dHhsUW5rM1dodmFONm5DNHY5TGhBc0ovUCtscHlXSWswMTROQkdmRW8wdlFBbHUvMmhuRHFnWmF3WHFxWW91OTBHdTAvNUN2UXp2UEFieFUyVXQ3dFk1RzJhcG5ZR0JBclQ4ZWtDUmdVY2NZNEg5NFhkZnFYd1hhYWJYRXd5OHM0Y3ZRTWk4UzRjWHQyM2MyUHFKSUFJV2t0d3JBZkdVbzZNOWtDMVdEL1hoTHBLUElWN2F3Y1R6WWUzVDVmb3d4WHNmMzBPdUMrdERoL1VlTFFKSkc5Mk1yVFVNYzYyQkpRdWhyZ1BuTTBGVStCNCtScmViamcvYnk3M0F1TDhKbW5reC9TSk9JVGk5WVFKOGRnNTNNL1E5QjU4MXE5dkR2YnlFSXNOYjVaUmtZazcxdmxuanF1T25lWGN5MWxScnhJYS9QdjN4TXFMSUxUVXNDOWdqbFVGTjRWa3hwU2wwS0dOR3hiOVNhMWphckw0L3NrNzRoRFdjbXR3aEdwSzVvWjJNa3dCczFMTjBPakY3S2dkYzFjaURxRldBTy9KQWswcDl4QldibEpCcmNUNnJqQVNiNERaa0hnRjMvMFNuZUk4d0xPVThnOWcxQWo0Z0VTYndUQXZRQWtkMmRpUHl3R2FTMC9xS3JnMGhGeE9Ga0NWNXBXWTZINWRSMVpQQ0JPd1VLR0lhWlVYSVdlTVd3R2JDekNRNnZuMEZiSEd5WGFnckl3SVI4cDVoMjRGUWV4aHRpNnJqNXBkeEZ6c0RkL1VmOW0zUzRsbDhLTzFnY0w0U1hmZnkwSUtBb3h1ZmJDenp6UHFwQUxuNGx2eUQ5MXdvZ3Y5c2tTaFpPeU9vRjlQUXE0SHZtN1IwNUhxdHFLYXJpVnpEVWpLWm5zT21HRXVRU1VIOEtDNFE2bFlYWXBrZW11U1VpMWh2R3F0K2QzZ2VtdTVVdUpLNWczZWJNYzh2VUNiRXg3T3FNeVlEVDhOQXhRcC9waGdIMnVHRVFTQVMxZG85NTc5d0l1WGh3bTV2UWNJMWk3Z2lsaVlMQUU5eTJQNXBkaTJ6bFlJM0FHQ05WYlZCbnB3ZTVPT1JKN1ZSSWw3czY4SjZVL0krcFNWR1JVb1Zkcm1iWmNpSmZPYzI3M2g3VTJhSUI1V1B3T2xpeVUwbHVWTWdsZTgxK3dWS1d0Yk5tbGdQUUtvQjNjRzFNSzRpaVdjRDFQRi85dkp5dFBwS0w4NjFPOVFVS3FIMGhmRXR6QU52UEJhcWY0aWZmOFAzd1BXQTl5N3dWOXF1Mzk5bm45eGczUnRmTEppRVhhd2t0WERoYmxMUVZ0REtrekxOb2dtWE5idEJqajduWkt2Z2h0MEZ5WENyaTg5bXpSTGNySElQQTkxM3ZKVnQwdkJPaWRiRWJrdEI3RUdkM0N6amhWWXJnR25mRE5BRktEZC9vYjRNbEM4a05vSFBOZ1E1R1BtQTFnVmhDbjJtdGhwd0V6QUZiNTkrMVBnL25Vd2ZqTENXWktLWlhWeVBxRGJlSHZ6MG9YVUdnVWExVDgwNmdhWStuWWF6WS9vdzFEZlhkMmZmZ29ibXZwTFdZdG5sVmZTYlFWN1VtdGJ0SFFNMEtITmxWemFMWmhtZThELzg5b2dHVGZoWmsyTmxyZU42bUMrS2M2VFZiMmtNUjRPZU9wTDZhWEtCb0t3YjJDWUVuQUdyQStYTFp6Tk1Wb3dnZ1ZCQmdrcWhraUc5dzBCQndHZ2dnVXlCSUlGTGpDQ0JTb3dnZ1VtQmdzcWhraUc5dzBCREFvQkFxQ0NCTzR3Z2dUcU1Cd0dDaXFHU0liM0RRRU1BUU13RGdRSVcrVzdtZHJQTk5JQ0FnZ0FCSUlFeUZpUmlPcjhmK2c1c2RNU1pGcnRPaTZ0ek9SYy9qbklZWHE4akwybGJZNkc2SFNHdFVuYlp4cTNaNmo4Uy9YSm4yRTE4bjVkaDdWb3lLZ0hLNnVjSUhHczhtMURxT1l6WDFQSktSZTFjRHhEZTkxSFZQaEY4VHJDL3JhSE80NkUrWU9sakNLNFY0OHpaamk0RDdUK0RjWkQ1UEYzRGkzNm5aaEFqREZsOG1pajFKRFdLVWtuaWw2S2M3eEltVDU2eGR6bnAwUXNxY0R0dVR1bG4vbU5DY2FvNUVSNER2a2oyN2k5YmhDQVcxVjY5NTlwRDNIdjF1eUtrNjhzVVdlMWN3VVd2bFE4bXVJUGpNalZHdEdycmM2MEZMUlhsb0lHbG44ZTN3WG5SajB2dGJIUjR2cWlBZDB0UkxxcjYybERWRGszRFEyWmprbGptUWJqY0Zpam1XQ1J4MFhvU3dpUTJmVHRvRTNkQjZmUkkxV1BLUGFqRUZ6QVJMWkd0NlF4cVBzK3pmcnhlWEtFM0VQZ0tHNHRrdmxmVjIzTEtiT29hMjYxSEZEbmNrZ3lDSTZxSFd5eFBlMWk0ZFNIT2F3YmxoN3crRXoyTkgvQnhqZW9hRnk5MGNTZzh4ZTEzL21rRlU1SU1XcnFCampYZjZPcmdYRUFGaEoxdW5ORzFqZ29PWnlML2hOMUhRR2lXcE9zdkNIRnljNE4ybm01azdxME9nMGwycm9SZE8xRXNkZXFwZVNYZUhURzNHTjV2YjFUMGVTcHQ1Qm8yQ0xVbTEveWorZDM3UGhyNDFvNVpFdUtkbFRNM3VxUjVvaFdKWUFsT0FQNVpNQTlkM2xjaVFmOUFPNUl3RXR4RytXMmVtL2lRbktyUHVSbjdhK3FIbkVkYmlmQlYvd3dHQ2gyTVorUHZJSHJYbVc5M2g1UmNTbmJWSHY1cElFdm5yd0hWNWhObHBpYm9HYzhFSEludEJaR3Y0Uk9xUVpDRU9aSlZYdnp3dEt3aDhzbnZ3NG9uMzJWSG4rQ3N0L3h6Z05uL1o4UXVRbWVORUEzOFNyMWo0b2xuNldmczdjaEJsQzZDamtqSE0zYWhmN3l1MExSck10WGxuQVhmbXYzYU5ZeU84b2JWcit3L0hwYkZRTkNMTWxlOVo3RHh0NDYvOXRiLzFEWkgyMjE5V2pWcU9td1RrMkc4RklRMzdUVTlaSXFla3EwZkJBTFhHdGwxdk13SFRtUE5pYmVXSm9rRTZ5TnpJQXVRdEluaVQwZ1dQV1phbCtXaDJXNVNTZ2FqK1dKUmdWbm94WXJTQ2dRZmxFM01Sa2lBTFBjN3RuTDBBTGlhRTh5UEd1QkZkc0ViNUJqY3Q1aGMxNHBBVkxEVHFNT2wvWmcyMkhFUXg1NVlHL1Q3NTZFUGhObHJ2TFJ4dlg2OE1sS25OWGZSTCtBVWFjUm1PYXhoYmVRUkgwcGNwMGtEUGR5UU5vaWlpQVo5N0oxWnRMQ0l4dmRnTGJZZW9XUjNIdXBGY0FjVGE0aUs0MXp0WlkwbGI3eFljRUtWbThHelR4WkVZUXZmdTdWT01xSFo4cC92L0NsZ3J5KzEvNUl1UnFXUlVDZlhBQXoxZjdWSzQxdmR1Q20xRU9MQkNBUkVrOURrMU5aY0hFaTE0Uy8vbUZCbXhNV083a1dRRmowbWlmWTd4OVVTYXZ0U1E2cmtqcUZROTlKT21aQ0NqK3ZZUUtuUFE0N0ZrRE1kei9VT2NIMmluOFBpY1dweGFUdWFnWTVVY2NGNjZjZG5wb0hCYTJIZld5VGZyYi95ck85dHZ6OEFMRUNWUXJRU09FMUFWdWdRMkthM2RvWGJJckVPK0g3SjR2MjNSUzhhdnB0Y2dxM0FDTEQ5dzBuUHJ0WE1uUWZQT2MySVNxVWlGT0NWSlJYakdDUVhLMzhPdDJDdGVzSVhmUTVFVGxxWXgxMTZOYk5rbUpWdTRIbnZkYTRvN1FVRTZyZzZHTXZFZ3RBTzhjZDB2aC9kdC8xdWRuQkRUNXAzQXpFcTdWWU9IUVNqZHVRWk14SzVaTTZTTE9VR1BuWHJOcG5tRksya29zMVBkbEtCekVNSUNhMHplT2NycU1yLzZTZTRMNWNUdm1qUFJBT2UrMUw0WE1uVGsreVpGcHNQWnpreFJ5bStaK2QyYWIwT1RFbE1DTUdDU3FHU0liM0RRRUpGVEVXQkJTOGthcGIrRngrWWtlTXgxdG5UYUtnOUNqQWFqQXJNQjh3QndZRkt3NERBaG9FRkFmNDR2WnFJM3ZUVndwZGI5cnl5VWN5Z3lXVEJBaHBTWFFhUm56TDlnPT0=",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "39663a0c147b4881bd40d116d0692c40",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/wildcard-ssl-certificate"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "pkcs12_from_pem.wildcard",
            "random_password.generated",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation",
            "tls_private_key.app_gateway",
            "tls_self_signed_cert.wildcard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_secret",
      "name": "storage_connection",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/storage-account-key-backend/a3823fa7eee64857abd35c679824ff0c",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "storage-account-key-backend",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/storage-account-key-backend/versions/a3823fa7eee64857abd35c679824ff0c",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/storage-account-key-backend",
            "tags": {},
            "timeouts": null,
            "value": "OvaYxVb2aLDzWHwtkFqCl7K3ujHGAJ1Mm4225GkIwC4z7dv3mKfQhTJnVy34yCgYmhfYzhnQwoov+AStm7z/wA==",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "a3823fa7eee64857abd35c679824ff0c",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/storage-account-key-backend"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "azurerm_storage_account.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/storage-account-key-public/0b7947aead2f4e75857b1a999cb41001",
            "key_vault_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "name": "storage-account-key-public",
            "not_before_date": null,
            "resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/storage-account-key-public/versions/0b7947aead2f4e75857b1a999cb41001",
            "resource_versionless_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/secrets/storage-account-key-public",
            "tags": {},
            "timeouts": null,
            "value": "OvaYxVb2aLDzWHwtkFqCl7K3ujHGAJ1Mm4225GkIwC4z7dv3mKfQhTJnVy34yCgYmhfYzhnQwoov+AStm7z/wA==",
            "value_wo": null,
            "value_wo_version": 0,
            "version": "0b7947aead2f4e75857b1a999cb41001",
            "versionless_id": "https://kv-prodaks1045xhr55.vault.azure.net/secrets/storage-account-key-public"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "azurerm_storage_account.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix",
            "time_sleep.kv_rbac_propagation"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_kubernetes_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 2,
          "attributes": {
            "aci_connector_linux": [],
            "api_server_access_profile": [],
            "auto_scaler_profile": [
              {
                "balance_similar_node_groups": false,
                "daemonset_eviction_for_empty_nodes_enabled": false,
                "daemonset_eviction_for_occupied_nodes_enabled": true,
                "empty_bulk_delete_max": "5",
                "expander": "random",
                "ignore_daemonsets_utilization_enabled": false,
                "max_graceful_termination_sec": "600",
                "max_node_provisioning_time": "5m",
                "max_unready_nodes": 1,
                "max_unready_percentage": 45,
                "new_pod_scale_up_delay": "5s",
                "scale_down_delay_after_add": "5m",
                "scale_down_delay_after_delete": "10s",
                "scale_down_delay_after_failure": "3m",
                "scale_down_unneeded": "5m",
                "scale_down_unready": "20m",
                "scale_down_utilization_threshold": "0.5",
                "scan_interval": "10s",
                "skip_nodes_with_local_storage": false,
                "skip_nodes_with_system_pods": true
              }
            ],
            "automatic_upgrade_channel": "",
            "azure_active_directory_role_based_access_control": [
              {
                "admin_group_object_ids": [],
                "azure_rbac_enabled": true,
                "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e"
              }
            ],
            "azure_policy_enabled": false,
            "confidential_computing": [],
            "cost_analysis_enabled": false,
            "current_kubernetes_version": "1.31.9",
            "custom_ca_trust_certificates_base64": [],
            "default_node_pool": [
              {
                "auto_scaling_enabled": true,
                "capacity_reservation_group_id": "",
                "fips_enabled": false,
                "gpu_driver": "",
                "gpu_instance": "",
                "host_encryption_enabled": false,
                "host_group_id": "",
                "kubelet_config": [],
                "kubelet_disk_type": "OS",
                "linux_os_config": [],
                "max_count": 2,
                "max_pods": 30,
                "min_count": 1,
                "name": "default",
                "node_count": 2,
                "node_labels": {},
                "node_network_profile": [],
                "node_public_ip_enabled": false,
                "node_public_ip_prefix_id": "",
                "only_critical_addons_enabled": false,
                "orchestrator_version": "1.31.9",
                "os_disk_size_gb": 30,
                "os_disk_type": "Managed",
                "os_sku": "AzureLinux",
                "pod_subnet_id": "",
                "proximity_placement_group_id": "",
                "scale_down_mode": "Delete",
                "snapshot_id": "",
                "tags": {},
                "temporary_name_for_rotation": "",
                "type": "VirtualMachineScaleSets",
                "ultra_ssd_enabled": false,
                "upgrade_settings": [
                  {
                    "drain_timeout_in_minutes": 0,
                    "max_surge": "100%",
                    "node_soak_duration_in_minutes": 0
                  }
                ],
                "vm_size": "Standard_D2s_v3",
                "vnet_subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
                "workload_runtime": "",
                "zones": [
                  "1"
                ]
              }
            ],
            "disk_encryption_set_id": "",
            "dns_prefix": "aks-prod-aks104-backend-eus2",
            "dns_prefix_private_cluster": "",
            "edge_zone": "",
            "fqdn": "aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io",
            "http_application_routing_enabled": false,
            "http_application_routing_zone_name": "",
            "http_proxy_config": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-backend-prod-eus2-001"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "image_cleaner_enabled": null,
            "image_cleaner_interval_hours": null,
            "ingress_application_gateway": [],
            "key_management_service": [],
            "key_vault_secrets_provider": [
              {
                "secret_identity": [
                  {
                    "client_id": "09bcd24e-4068-405f-a0ee-fb628b5631f3",
                    "object_id": "48939d96-7692-4f34-a2df-fab214530ab7",
                    "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/azurekeyvaultsecretsprovider-aks-prod-aks104-backend-eus2-001"
                  }
                ],
                "secret_rotation_enabled": true,
                "secret_rotation_interval": "2m"
              }
            ],
            "kube_admin_config": [],
            "kube_admin_config_raw": "",
            "kube_config": [
              {
                "client_certificate": "",
                "client_key": "",
                "cluster_ca_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2RENDQXRDZ0F3SUJBZ0lRZGV1YUtvcGNWYTR2K2hzU0ZyZjl4REFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TlRBNE1qQXhNVFF4TVROYUdBOHlNRFUxTURneU1ERXhOVEV4TTFvdwpEVEVMTUFrR0ExVUVBeE1DWTJFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURvCmJaYm1wcGtpTURGaU0rUUt2VnU1SzIwQVk4TkJyZTZrWWJYbzAxbzBNdFk3bElWekgxQlkvTVVsR3hSbWdjREYKakhQRHYvemYwNUFDazN2ZDNId0VMQXhOYzV6N3BMZ3B2bVZKRlMyL3pRNGpnU3FkT1l6c0hLNWRINGJoWkFSegpJWDVOMUg5OEFSSWEwTGJZK3RUd3U3ckV0UWFja1V5dC9iNVhxM3Y2eVk1MW5OZHlWbmNrWEhtY2JndjFJN0tKCkpZeUpkeUd3aEpJQWRaWldHMUZwR3h4SkExck9JNEc1eFp6eENUVGdtT0tML1hYK1o1OXcyMExSYTZSUzVpTTQKUXlCQlpIaXF4WlhodE5OVm1CZ2lsUGY4T25WNll6WkRsckpMUERrbTNBQkpiRGx2TldXaEcxcDBQbWkxb05FUApVbjFtYTNZNC80OHBCQlEwK3ZzVDk4bkM5djhnRnY1NW15YnI5dXN3N0N4Yittd0owdlRsV2k1VURhMjg1enN6CmJ4dWNoUElsM0RvVjF1ZUd6S2RVVC8zV2swVXQvRHpKQW02TDlGcjIrRTVuQWJuUzI5aHJTYmpTeEFHZmFnZ1IKR2dMb1B1ZW5YWFdKMlZOWExMQmlpci9iNXZOdmplMHZGTkV5VEJQOVNGcHBLajI1eWdIUnRCM2pBL1U5Q2Uwdgpkd3hsS1NER1VpRXArcS9wWk42amZZUDN4YWJybG9QTGsrc2NiVTRkRytrbzFiVmhXakxzRjQyeU9ONnBjVElECmFIVWp4Yy9tYlV1UGhVVXNMaFdid0d3Z0pvQ3RobWtKT2lxUjZSNE1KTWpnY2dUOTFDQzFXd1d5dXR2c0tuTWMKdURNUnZMank4RGdMT1B1VjRXdnNuL0RDMzRuc096Qzl0NGtJSzcyQkxRSURBUUFCbzBJd1FEQU9CZ05WSFE4QgpBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVmd1dTOXRoR1Y4UGN3bHlwCkYveFA5dSs1dm9Jd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFFM2ticlZITURFWDh1R0g0SHhkV3V6d2hTTjQKR2NJTDI2QzhCU0JSKzhkNFJ4b1ZxVUJMdEVDeVhMYWJTRGxZOHN2K3NoUXd4RXRKWXRJWEYrb3RwMC9Qc3I0bApEa0F3dzRtTHRHd1pqeWFRUHNsdVV0eWVkTExJWFR4NzNuME5hU3RUUDBBUGxvUjg4Uzh6OTdodFdiY3RnSVM5Cng3eVNHL25adzZyQTNnWk5DQy92Lzl6Nm9oTmgzYThlSTNPbnVBYVZrWlM3aEpkMkNpZzFBdzVubGJKc0puR2cKNytnUncwZ0pkeksyb3k2VjZHdTk2aG9EUk5TVXlEazZndWNsai84VDg0Q1dWZ25wcjYxWlNZRC9nd3M4a3F3cAptaFdkNitNSmp0cXhNU0xIS2QrdVdnQy9USG5kRllkOUp5TFBKY1h6R1QwK2Y1QUhGUW9HWk9vVkdqNzRENGsrCnNjNmQxUG5HOWxMVVAvY3hYV1pGTjlpQmwyL1p6VVN0eHNIN0tyQWg5U2hFd2FFK3JqZFJ6clJtVnBmTGtIVVkKbUhiTTZ5dkhKSW5Qa3FvdHgrNXo2YUd2QUoxUW9vOVB0TE9TN2pXWUNNUGxFQ3ludXowUFFrUFZjS0d2QmpZRwp6bWkvdG5mV05PaGlWQkRsdDdLekkxVjhXUUNac0dxTlJBZHdUTjJ5eFgvbUNXbVJLS3BtQVhtYlRicWZ2b0J1CkE5RUtWaGg0bUEzc09RR0ZLV1Bsb0JLSWdiTUdDeWpadzVZWXU0bVc1YnBWQTV5WHA1MlJGRDBNa1U0OWw5UTMKcDVZTnMvbnN2dVkrWENQR1I2ZU55SDlFNzY0bUh4eDNoc0JnUWJYODlXaHFLMWN0Skt6OVN2anZ0WTF1QlAvNApkUWhNcnBlQSt4Rm5NQ2thCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
                "host": "https://aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io:443",
                "password": "",
                "username": "clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001"
              }
            ],
            "kube_config_raw": "apiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2RENDQXRDZ0F3SUJBZ0lRZGV1YUtvcGNWYTR2K2hzU0ZyZjl4REFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWdGdzB5TlRBNE1qQXhNVFF4TVROYUdBOHlNRFUxTURneU1ERXhOVEV4TTFvdwpEVEVMTUFrR0ExVUVBeE1DWTJFd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURvCmJaYm1wcGtpTURGaU0rUUt2VnU1SzIwQVk4TkJyZTZrWWJYbzAxbzBNdFk3bElWekgxQlkvTVVsR3hSbWdjREYKakhQRHYvemYwNUFDazN2ZDNId0VMQXhOYzV6N3BMZ3B2bVZKRlMyL3pRNGpnU3FkT1l6c0hLNWRINGJoWkFSegpJWDVOMUg5OEFSSWEwTGJZK3RUd3U3ckV0UWFja1V5dC9iNVhxM3Y2eVk1MW5OZHlWbmNrWEhtY2JndjFJN0tKCkpZeUpkeUd3aEpJQWRaWldHMUZwR3h4SkExck9JNEc1eFp6eENUVGdtT0tML1hYK1o1OXcyMExSYTZSUzVpTTQKUXlCQlpIaXF4WlhodE5OVm1CZ2lsUGY4T25WNll6WkRsckpMUERrbTNBQkpiRGx2TldXaEcxcDBQbWkxb05FUApVbjFtYTNZNC80OHBCQlEwK3ZzVDk4bkM5djhnRnY1NW15YnI5dXN3N0N4Yittd0owdlRsV2k1VURhMjg1enN6CmJ4dWNoUElsM0RvVjF1ZUd6S2RVVC8zV2swVXQvRHpKQW02TDlGcjIrRTVuQWJuUzI5aHJTYmpTeEFHZmFnZ1IKR2dMb1B1ZW5YWFdKMlZOWExMQmlpci9iNXZOdmplMHZGTkV5VEJQOVNGcHBLajI1eWdIUnRCM2pBL1U5Q2Uwdgpkd3hsS1NER1VpRXArcS9wWk42amZZUDN4YWJybG9QTGsrc2NiVTRkRytrbzFiVmhXakxzRjQyeU9ONnBjVElECmFIVWp4Yy9tYlV1UGhVVXNMaFdid0d3Z0pvQ3RobWtKT2lxUjZSNE1KTWpnY2dUOTFDQzFXd1d5dXR2c0tuTWMKdURNUnZMank4RGdMT1B1VjRXdnNuL0RDMzRuc096Qzl0NGtJSzcyQkxRSURBUUFCbzBJd1FEQU9CZ05WSFE4QgpBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVmd1dTOXRoR1Y4UGN3bHlwCkYveFA5dSs1dm9Jd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFFM2ticlZITURFWDh1R0g0SHhkV3V6d2hTTjQKR2NJTDI2QzhCU0JSKzhkNFJ4b1ZxVUJMdEVDeVhMYWJTRGxZOHN2K3NoUXd4RXRKWXRJWEYrb3RwMC9Qc3I0bApEa0F3dzRtTHRHd1pqeWFRUHNsdVV0eWVkTExJWFR4NzNuME5hU3RUUDBBUGxvUjg4Uzh6OTdodFdiY3RnSVM5Cng3eVNHL25adzZyQTNnWk5DQy92Lzl6Nm9oTmgzYThlSTNPbnVBYVZrWlM3aEpkMkNpZzFBdzVubGJKc0puR2cKNytnUncwZ0pkeksyb3k2VjZHdTk2aG9EUk5TVXlEazZndWNsai84VDg0Q1dWZ25wcjYxWlNZRC9nd3M4a3F3cAptaFdkNitNSmp0cXhNU0xIS2QrdVdnQy9USG5kRllkOUp5TFBKY1h6R1QwK2Y1QUhGUW9HWk9vVkdqNzRENGsrCnNjNmQxUG5HOWxMVVAvY3hYV1pGTjlpQmwyL1p6VVN0eHNIN0tyQWg5U2hFd2FFK3JqZFJ6clJtVnBmTGtIVVkKbUhiTTZ5dkhKSW5Qa3FvdHgrNXo2YUd2QUoxUW9vOVB0TE9TN2pXWUNNUGxFQ3ludXowUFFrUFZjS0d2QmpZRwp6bWkvdG5mV05PaGlWQkRsdDdLekkxVjhXUUNac0dxTlJBZHdUTjJ5eFgvbUNXbVJLS3BtQVhtYlRicWZ2b0J1CkE5RUtWaGg0bUEzc09RR0ZLV1Bsb0JLSWdiTUdDeWpadzVZWXU0bVc1YnBWQTV5WHA1MlJGRDBNa1U0OWw5UTMKcDVZTnMvbnN2dVkrWENQR1I2ZU55SDlFNzY0bUh4eDNoc0JnUWJYODlXaHFLMWN0Skt6OVN2anZ0WTF1QlAvNApkUWhNcnBlQSt4Rm5NQ2thCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n    server: https://aks-prod-aks104-backend-eus2-6hi1kqcl.hcp.eastus2.azmk8s.io:443\n  name: aks-prod-aks104-backend-eus2-001\ncontexts:\n- context:\n    cluster: aks-prod-aks104-backend-eus2-001\n    user: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001\n  name: aks-prod-aks104-backend-eus2-001\ncurrent-context: aks-prod-aks104-backend-eus2-001\nkind: Config\npreferences: {}\nusers:\n- name: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - get-token\n      - --environment\n      - AzurePublicCloud\n      - --server-id\n      - 6dae42f8-4368-4678-94ff-3960e28e3630\n      - --client-id\n      - 80faf920-1908-4b52-b5ef-a8e7bedfc67a\n      - --tenant-id\n      - 5380364e-35d4-4293-8bfe-fa76e835384e\n      - --login\n      - devicecode\n      command: kubelogin\n      env: null\n      installHint: |2\n\n        kubelogin is not installed which is required to connect to AAD enabled cluster.\n\n        To learn more, please go to https://aka.ms/aks/kubelogin\n      provideClusterInfo: false\n",
            "kubelet_identity": [
              {
                "client_id": "5912d9ed-8468-4efd-9a93-57ca7166e4f0",
                "object_id": "8c727b28-d811-408f-8b0a-1d4e6089a9fb",
                "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/aks-prod-aks104-backend-eus2-001-agentpool"
              }
            ],
            "kubernetes_version": "1.31.9",
            "linux_profile": [],
            "local_account_disabled": true,
            "location": "eastus2",
            "maintenance_window": [],
            "maintenance_window_auto_upgrade": [
              {
                "day_of_month": 0,
                "day_of_week": "Sunday",
                "duration": 4,
                "frequency": "Weekly",
                "interval": 1,
                "not_allowed": [],
                "start_date": "2025-08-20T00:00:00Z",
                "start_time": "00:00",
                "utc_offset": "+00:00",
                "week_index": ""
              }
            ],
            "maintenance_window_node_os": [
              {
                "day_of_month": 0,
                "day_of_week": "Sunday",
                "duration": 4,
                "frequency": "Weekly",
                "interval": 1,
                "not_allowed": [],
                "start_date": "2025-08-20T00:00:00Z",
                "start_time": "00:00",
                "utc_offset": "+00:00",
                "week_index": ""
              }
            ],
            "microsoft_defender": [],
            "monitor_metrics": [
              {
                "annotations_allowed": "prometheus.io/scrape,prometheus.io/path,prometheus.io/port",
                "labels_allowed": "app.kubernetes.io/name,app.kubernetes.io/instance"
              }
            ],
            "name": "aks-prod-aks104-backend-eus2-001",
            "network_profile": [
              {
                "dns_service_ip": "172.16.0.10",
                "ip_versions": [
                  "IPv4"
                ],
                "load_balancer_profile": [
                  {
                    "backend_pool_type": "NodeIPConfiguration",
                    "effective_outbound_ips": [
                      "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2/providers/Microsoft.Network/publicIPAddresses/8871da41-1fb6-41ad-9002-39e3c3a17faa"
                    ],
                    "idle_timeout_in_minutes": 0,
                    "managed_outbound_ip_count": 1,
                    "managed_outbound_ipv6_count": 0,
                    "outbound_ip_address_ids": [],
                    "outbound_ip_prefix_ids": [],
                    "outbound_ports_allocated": 0
                  }
                ],
                "load_balancer_sku": "standard",
                "nat_gateway_profile": [],
                "network_data_plane": "cilium",
                "network_mode": "",
                "network_plugin": "azure",
                "network_plugin_mode": "overlay",
                "network_policy": "cilium",
                "outbound_type": "loadBalancer",
                "pod_cidr": "192.168.0.0/16",
                "pod_cidrs": [
                  "192.168.0.0/16"
                ],
                "service_cidr": "172.16.0.0/16",
                "service_cidrs": [
                  "172.16.0.0/16"
                ]
              }
            ],
            "node_os_upgrade_channel": "NodeImage",
            "node_resource_group": "MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2",
            "node_resource_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2",
            "oidc_issuer_enabled": true,
            "oidc_issuer_url": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/48ebd612-903a-42b5-a263-11bce8d6c62a/",
            "oms_agent": [
              {
                "log_analytics_workspace_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
                "msi_auth_for_monitoring_enabled": true,
                "oms_agent_identity": []
              }
            ],
            "open_service_mesh_enabled": false,
            "portal_fqdn": "aks-prod-aks104-backend-eus2-6hi1kqcl.portal.hcp.eastus2.azmk8s.io",
            "private_cluster_enabled": false,
            "private_cluster_public_fqdn_enabled": false,
            "private_dns_zone_id": "",
            "private_fqdn": "",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "role_based_access_control_enabled": true,
            "run_command_enabled": true,
            "service_mesh_profile": [],
            "service_principal": [],
            "sku_tier": "Free",
            "storage_profile": [],
            "support_plan": "KubernetesOfficial",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "upgrade_override": [],
            "web_app_routing": [
              {
                "default_nginx_controller": "AnnotationControlled",
                "dns_zone_ids": [],
                "web_app_routing_identity": [
                  {
                    "client_id": "567dbe48-c017-4343-8208-31396082a1c5",
                    "object_id": "4717fd57-cbca-4d5f-83a9-2f7f039f94f2",
                    "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-backend-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/webapprouting-aks-prod-aks104-backend-eus2-001"
                  }
                ]
              }
            ],
            "windows_profile": [
              {
                "admin_password": "",
                "admin_username": "azureuser",
                "gmsa": [],
                "license": ""
              }
            ],
            "workload_autoscaler_profile": [],
            "workload_identity_enabled": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "kube_admin_config"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_admin_config_raw"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config_raw"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "windows_profile"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 2,
          "attributes": {
            "aci_connector_linux": [],
            "api_server_access_profile": [],
            "auto_scaler_profile": [
              {
                "balance_similar_node_groups": false,
                "daemonset_eviction_for_empty_nodes_enabled": false,
                "daemonset_eviction_for_occupied_nodes_enabled": true,
                "empty_bulk_delete_max": "5",
                "expander": "random",
                "ignore_daemonsets_utilization_enabled": false,
                "max_graceful_termination_sec": "600",
                "max_node_provisioning_time": "5m",
                "max_unready_nodes": 1,
                "max_unready_percentage": 45,
                "new_pod_scale_up_delay": "5s",
                "scale_down_delay_after_add": "5m",
                "scale_down_delay_after_delete": "10s",
                "scale_down_delay_after_failure": "3m",
                "scale_down_unneeded": "5m",
                "scale_down_unready": "20m",
                "scale_down_utilization_threshold": "0.5",
                "scan_interval": "10s",
                "skip_nodes_with_local_storage": false,
                "skip_nodes_with_system_pods": true
              }
            ],
            "automatic_upgrade_channel": "",
            "azure_active_directory_role_based_access_control": [
              {
                "admin_group_object_ids": [],
                "azure_rbac_enabled": true,
                "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e"
              }
            ],
            "azure_policy_enabled": false,
            "confidential_computing": [],
            "cost_analysis_enabled": false,
            "current_kubernetes_version": "1.31.9",
            "custom_ca_trust_certificates_base64": [],
            "default_node_pool": [
              {
                "auto_scaling_enabled": true,
                "capacity_reservation_group_id": "",
                "fips_enabled": false,
                "gpu_driver": "",
                "gpu_instance": "",
                "host_encryption_enabled": false,
                "host_group_id": "",
                "kubelet_config": [],
                "kubelet_disk_type": "OS",
                "linux_os_config": [],
                "max_count": 3,
                "max_pods": 30,
                "min_count": 1,
                "name": "default",
                "node_count": 3,
                "node_labels": {},
                "node_network_profile": [],
                "node_public_ip_enabled": false,
                "node_public_ip_prefix_id": "",
                "only_critical_addons_enabled": false,
                "orchestrator_version": "1.31.9",
                "os_disk_size_gb": 30,
                "os_disk_type": "Managed",
                "os_sku": "AzureLinux",
                "pod_subnet_id": "",
                "proximity_placement_group_id": "",
                "scale_down_mode": "Delete",
                "snapshot_id": "",
                "tags": {},
                "temporary_name_for_rotation": "",
                "type": "VirtualMachineScaleSets",
                "ultra_ssd_enabled": false,
                "upgrade_settings": [
                  {
                    "drain_timeout_in_minutes": 0,
                    "max_surge": "100%",
                    "node_soak_duration_in_minutes": 0
                  }
                ],
                "vm_size": "Standard_D2s_v3",
                "vnet_subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001",
                "workload_runtime": "",
                "zones": [
                  "1"
                ]
              }
            ],
            "disk_encryption_set_id": "",
            "dns_prefix": "aks-prod-aks104-public-eus2",
            "dns_prefix_private_cluster": "",
            "edge_zone": "",
            "fqdn": "aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io",
            "http_application_routing_enabled": false,
            "http_application_routing_zone_name": "",
            "http_proxy_config": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-public-prod-eus2-001"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "image_cleaner_enabled": null,
            "image_cleaner_interval_hours": null,
            "ingress_application_gateway": [],
            "key_management_service": [],
            "key_vault_secrets_provider": [
              {
                "secret_identity": [
                  {
                    "client_id": "9b8ecf21-0c0e-4964-b166-3f1565189c9b",
                    "object_id": "9987270c-4579-4d0a-8758-6f97b5b9e699",
                    "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/azurekeyvaultsecretsprovider-aks-prod-aks104-public-eus2-001"
                  }
                ],
                "secret_rotation_enabled": true,
                "secret_rotation_interval": "2m"
              }
            ],
            "kube_admin_config": [],
            "kube_admin_config_raw": "",
            "kube_config": [
              {
                "client_certificate": "",
                "client_key": "",
                "cluster_ca_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2VENDQXRHZ0F3SUJBZ0lSQUw1ZjhKYjc4TjFNU1pYdlNnd3BnSzh3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdJQmNOTWpVd09ESXdNVEUwTVRFMFdoZ1BNakExTlRBNE1qQXhNVFV4TVRSYQpNQTB4Q3pBSkJnTlZCQU1UQW1OaE1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCnYrRm5jNDRVbHpuNjhGNHdBb1VMQnFaYXFhOFhDTVFIOGFWS2hzQUprZjY4ZzVoK3VJcU14MkJOY3Z2ODZrMnMKdnYzV2xxM2tHeFFGMFg3MEhOUkxiZVZoNmZSN29xY0tYcGx6aWJoK1MvUHZ1cW9GZHZnRkR2aisyeGZBSjkvVQpHYjFkREtmbEk3b1RDeUtFbzArWEVaU3FTNXlkSDFwQTZONklhM2x2aDVkdHprQ0xqYXdXdU5QSUozN3Z2UWswCjFCZnpCUjZ2UUhLalR2Yk95RkU1U3plTUF3Z3dFWVByK0ZxZHFvTnUzakxSVXc3L2hvZ2hCQXZmbGVOZVJwcmQKejNOUDhKd2ovVUsvaUE4cU9paktqcWxlb1doSnBhaXZJeGFFbVhzM1c5alFzS1VBaEprZjQrejJoNEpmZG4yLwpHR3hURURrenBWQmpsQTZoNUU3ejFRZzJjT1ltbG80VjlFS2JHZHJVNG9UUDFvM3FzU2JNWUxKYS9QK3N6NnJNCnFsWHpvRDlmWm9UdUovRUxqKy9oaWZZUU1BalpPakh4Uk1vRjNlYkd0bDgwaWx6Wkl5ditEeFliZ0J1ZDFjT2kKQ1VFcDVwZGpWTWtLWTlSQ2g5U0NyYzNEQTEwRVBOU3pGZExkVE1XWGhHRlYyd2pzNUVmS2JoRm5ZRzNvOVZZbgp1b25aMjJqRDU1V2xtc0VINjFDNU9BSXMySHA4YVFJWGNhQ0szQTNUM1lrYnduZnNPeUZYZGdpdlQ2dHJTb1FICmM2Mkpkd1RIM0o5dmYyTHQrQ2tDZ1BaL1hqZGsrb0UyV1ROSVpUUTR5TEhXb3RKNUE0RmtEY29oM1dERGY1NWoKVmlaMEdZelA3UEJVS3o0WkFhVlhRQmFLR2lTRWZFVUpQaFpYZ0RRaThHTUNBd0VBQWFOQ01FQXdEZ1lEVlIwUApBUUgvQkFRREFnS2tNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGSHovMEwwL0RLVnlHSjcwCmxKQmhJY0RPTUJ3Q01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQzJYTGxUR2Z1NkI5Y1UzY1ZQYVRndTZxUk0KK3BPN1Z1YmtlR25nZHpUclYyc3ppbm5KUThUTXlWM0xEaDRjYXQxd3JHbGhmUVI2eVRWdWcycGd5MEVod2lmdAp0N2oyMHAzMSsvR2Z4dW9XN2o2VkZEVUtiSWczMjJBSzg4c3BTTUpaUVBtMDF3akZuRVk0TGRZWXdsbzhJRDNpClVtak40dTU4MGx3NVJZWUE4MzJYVWlDZ2JCWHNDY3JlVnpJSU1rV1IxM0hVRDVoSDh0SjNlbHd6NjJpT2VOdEYKS08vcEV3VkRZSDJvWTRJRjRjdGRzVkxMeFJlMHVtanhVQU5rMUhDbFlDQjg2d21jdzBFSzN6VVNvc1grejFsUgpXbkxNbHFhVGdOcXB3UzAvTkpXclN1c3I4U2xTb1BtWVdtbm5vOHNWRnRDMmNMVVFUbUlNeUloYWdJdUtlSjFjCk5hcDJ1a3k4emp0cnB0dWRqTmxuS3lYamRSaFJtbEoweEFMQjNLS0krRGRKRXVzeTgxVjZMdXRPa2daa2x2WEcKWGdFajQzN3pBcEVnQUdWZ1lSRG84SWdkZlFOSWR1MG9ubGdNK0JLa2FNdVdkZllYWmM2cnZESTZ1M0dIek5NWQpWVWlGZ1VZWitxbWh0QWNjMWlVMmNRTWxBSGF5NW1OcFJlRUtOYnFZUkxHd3BIZW1NdzkxR00rUVUvMnRMbWRmCkF5YlVPeGZCU1BUcFF1dTRNSFRSeDVwZXUrcmoxaXZuOVF2L2hEcDFTNi9TNTRuMzFabWZQemJvYUp1eVNKK0EKM2VKRTRRamdVRFUxZmQreWwrc2tuK2E3YVVpVlNZdGNURU5peWJtRlZpVlBoaEM2Qkc3UCs4cWd6ZUc2QmJ2aAo3ZW5PV1UxMUdCU0JSOExEYXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
                "host": "https://aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io:443",
                "password": "",
                "username": "clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001"
              }
            ],
            "kube_config_raw": "apiVersion: v1\nclusters:\n- cluster:\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUU2VENDQXRHZ0F3SUJBZ0lSQUw1ZjhKYjc4TjFNU1pYdlNnd3BnSzh3RFFZSktvWklodmNOQVFFTEJRQXcKRFRFTE1Ba0dBMVVFQXhNQ1kyRXdJQmNOTWpVd09ESXdNVEUwTVRFMFdoZ1BNakExTlRBNE1qQXhNVFV4TVRSYQpNQTB4Q3pBSkJnTlZCQU1UQW1OaE1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NBZ0VBCnYrRm5jNDRVbHpuNjhGNHdBb1VMQnFaYXFhOFhDTVFIOGFWS2hzQUprZjY4ZzVoK3VJcU14MkJOY3Z2ODZrMnMKdnYzV2xxM2tHeFFGMFg3MEhOUkxiZVZoNmZSN29xY0tYcGx6aWJoK1MvUHZ1cW9GZHZnRkR2aisyeGZBSjkvVQpHYjFkREtmbEk3b1RDeUtFbzArWEVaU3FTNXlkSDFwQTZONklhM2x2aDVkdHprQ0xqYXdXdU5QSUozN3Z2UWswCjFCZnpCUjZ2UUhLalR2Yk95RkU1U3plTUF3Z3dFWVByK0ZxZHFvTnUzakxSVXc3L2hvZ2hCQXZmbGVOZVJwcmQKejNOUDhKd2ovVUsvaUE4cU9paktqcWxlb1doSnBhaXZJeGFFbVhzM1c5alFzS1VBaEprZjQrejJoNEpmZG4yLwpHR3hURURrenBWQmpsQTZoNUU3ejFRZzJjT1ltbG80VjlFS2JHZHJVNG9UUDFvM3FzU2JNWUxKYS9QK3N6NnJNCnFsWHpvRDlmWm9UdUovRUxqKy9oaWZZUU1BalpPakh4Uk1vRjNlYkd0bDgwaWx6Wkl5ditEeFliZ0J1ZDFjT2kKQ1VFcDVwZGpWTWtLWTlSQ2g5U0NyYzNEQTEwRVBOU3pGZExkVE1XWGhHRlYyd2pzNUVmS2JoRm5ZRzNvOVZZbgp1b25aMjJqRDU1V2xtc0VINjFDNU9BSXMySHA4YVFJWGNhQ0szQTNUM1lrYnduZnNPeUZYZGdpdlQ2dHJTb1FICmM2Mkpkd1RIM0o5dmYyTHQrQ2tDZ1BaL1hqZGsrb0UyV1ROSVpUUTR5TEhXb3RKNUE0RmtEY29oM1dERGY1NWoKVmlaMEdZelA3UEJVS3o0WkFhVlhRQmFLR2lTRWZFVUpQaFpYZ0RRaThHTUNBd0VBQWFOQ01FQXdEZ1lEVlIwUApBUUgvQkFRREFnS2tNQThHQTFVZEV3RUIvd1FGTUFNQkFmOHdIUVlEVlIwT0JCWUVGSHovMEwwL0RLVnlHSjcwCmxKQmhJY0RPTUJ3Q01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQzJYTGxUR2Z1NkI5Y1UzY1ZQYVRndTZxUk0KK3BPN1Z1YmtlR25nZHpUclYyc3ppbm5KUThUTXlWM0xEaDRjYXQxd3JHbGhmUVI2eVRWdWcycGd5MEVod2lmdAp0N2oyMHAzMSsvR2Z4dW9XN2o2VkZEVUtiSWczMjJBSzg4c3BTTUpaUVBtMDF3akZuRVk0TGRZWXdsbzhJRDNpClVtak40dTU4MGx3NVJZWUE4MzJYVWlDZ2JCWHNDY3JlVnpJSU1rV1IxM0hVRDVoSDh0SjNlbHd6NjJpT2VOdEYKS08vcEV3VkRZSDJvWTRJRjRjdGRzVkxMeFJlMHVtanhVQU5rMUhDbFlDQjg2d21jdzBFSzN6VVNvc1grejFsUgpXbkxNbHFhVGdOcXB3UzAvTkpXclN1c3I4U2xTb1BtWVdtbm5vOHNWRnRDMmNMVVFUbUlNeUloYWdJdUtlSjFjCk5hcDJ1a3k4emp0cnB0dWRqTmxuS3lYamRSaFJtbEoweEFMQjNLS0krRGRKRXVzeTgxVjZMdXRPa2daa2x2WEcKWGdFajQzN3pBcEVnQUdWZ1lSRG84SWdkZlFOSWR1MG9ubGdNK0JLa2FNdVdkZllYWmM2cnZESTZ1M0dIek5NWQpWVWlGZ1VZWitxbWh0QWNjMWlVMmNRTWxBSGF5NW1OcFJlRUtOYnFZUkxHd3BIZW1NdzkxR00rUVUvMnRMbWRmCkF5YlVPeGZCU1BUcFF1dTRNSFRSeDVwZXUrcmoxaXZuOVF2L2hEcDFTNi9TNTRuMzFabWZQemJvYUp1eVNKK0EKM2VKRTRRamdVRFUxZmQreWwrc2tuK2E3YVVpVlNZdGNURU5peWJtRlZpVlBoaEM2Qkc3UCs4cWd6ZUc2QmJ2aAo3ZW5PV1UxMUdCU0JSOExEYXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\n    server: https://aks-prod-aks104-public-eus2-9wno8lte.hcp.eastus2.azmk8s.io:443\n  name: aks-prod-aks104-public-eus2-001\ncontexts:\n- context:\n    cluster: aks-prod-aks104-public-eus2-001\n    user: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001\n  name: aks-prod-aks104-public-eus2-001\ncurrent-context: aks-prod-aks104-public-eus2-001\nkind: Config\npreferences: {}\nusers:\n- name: clusterUser_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1beta1\n      args:\n      - get-token\n      - --environment\n      - AzurePublicCloud\n      - --server-id\n      - 6dae42f8-4368-4678-94ff-3960e28e3630\n      - --client-id\n      - 80faf920-1908-4b52-b5ef-a8e7bedfc67a\n      - --tenant-id\n      - 5380364e-35d4-4293-8bfe-fa76e835384e\n      - --login\n      - devicecode\n      command: kubelogin\n      env: null\n      installHint: |2\n\n        kubelogin is not installed which is required to connect to AAD enabled cluster.\n\n        To learn more, please go to https://aka.ms/aks/kubelogin\n      provideClusterInfo: false\n",
            "kubelet_identity": [
              {
                "client_id": "a291c33a-657d-406d-a4cf-589ee237a135",
                "object_id": "d7ca3a76-af9a-40bc-8232-bc5392536a72",
                "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/aks-prod-aks104-public-eus2-001-agentpool"
              }
            ],
            "kubernetes_version": "1.31.9",
            "linux_profile": [],
            "local_account_disabled": true,
            "location": "eastus2",
            "maintenance_window": [],
            "maintenance_window_auto_upgrade": [
              {
                "day_of_month": 0,
                "day_of_week": "Sunday",
                "duration": 4,
                "frequency": "Weekly",
                "interval": 1,
                "not_allowed": [],
                "start_date": "2025-08-20T00:00:00Z",
                "start_time": "00:00",
                "utc_offset": "+00:00",
                "week_index": ""
              }
            ],
            "maintenance_window_node_os": [
              {
                "day_of_month": 0,
                "day_of_week": "Sunday",
                "duration": 4,
                "frequency": "Weekly",
                "interval": 1,
                "not_allowed": [],
                "start_date": "2025-08-20T00:00:00Z",
                "start_time": "00:00",
                "utc_offset": "+00:00",
                "week_index": ""
              }
            ],
            "microsoft_defender": [],
            "monitor_metrics": [
              {
                "annotations_allowed": "prometheus.io/scrape,prometheus.io/path,prometheus.io/port",
                "labels_allowed": "app.kubernetes.io/name,app.kubernetes.io/instance"
              }
            ],
            "name": "aks-prod-aks104-public-eus2-001",
            "network_profile": [
              {
                "dns_service_ip": "172.16.0.10",
                "ip_versions": [
                  "IPv4"
                ],
                "load_balancer_profile": [
                  {
                    "backend_pool_type": "NodeIPConfiguration",
                    "effective_outbound_ips": [
                      "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2/providers/Microsoft.Network/publicIPAddresses/5922312b-64cf-40c7-b030-06e8f8bc2936"
                    ],
                    "idle_timeout_in_minutes": 0,
                    "managed_outbound_ip_count": 1,
                    "managed_outbound_ipv6_count": 0,
                    "outbound_ip_address_ids": [],
                    "outbound_ip_prefix_ids": [],
                    "outbound_ports_allocated": 0
                  }
                ],
                "load_balancer_sku": "standard",
                "nat_gateway_profile": [],
                "network_data_plane": "cilium",
                "network_mode": "",
                "network_plugin": "azure",
                "network_plugin_mode": "overlay",
                "network_policy": "cilium",
                "outbound_type": "loadBalancer",
                "pod_cidr": "192.168.0.0/16",
                "pod_cidrs": [
                  "192.168.0.0/16"
                ],
                "service_cidr": "172.16.0.0/16",
                "service_cidrs": [
                  "172.16.0.0/16"
                ]
              }
            ],
            "node_os_upgrade_channel": "NodeImage",
            "node_resource_group": "MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2",
            "node_resource_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2",
            "oidc_issuer_enabled": true,
            "oidc_issuer_url": "https://eastus2.oic.prod-aks.azure.com/5380364e-35d4-4293-8bfe-fa76e835384e/030f212d-cf54-4795-b8fb-e8177975091b/",
            "oms_agent": [
              {
                "log_analytics_workspace_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
                "msi_auth_for_monitoring_enabled": true,
                "oms_agent_identity": []
              }
            ],
            "open_service_mesh_enabled": false,
            "portal_fqdn": "aks-prod-aks104-public-eus2-9wno8lte.portal.hcp.eastus2.azmk8s.io",
            "private_cluster_enabled": false,
            "private_cluster_public_fqdn_enabled": false,
            "private_dns_zone_id": "",
            "private_fqdn": "",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "role_based_access_control_enabled": true,
            "run_command_enabled": true,
            "service_mesh_profile": [],
            "service_principal": [],
            "sku_tier": "Free",
            "storage_profile": [],
            "support_plan": "KubernetesOfficial",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "upgrade_override": [],
            "web_app_routing": [
              {
                "default_nginx_controller": "AnnotationControlled",
                "dns_zone_ids": [],
                "web_app_routing_identity": [
                  {
                    "client_id": "76c5144a-7e3a-469a-9734-721d51aa99ee",
                    "object_id": "ff0f2c9c-56f9-4518-88ca-4d463e15b6ac",
                    "user_assigned_identity_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourcegroups/MC_rg-prod-aks104-eus2-001_aks-prod-aks104-public-eus2-001_eastus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/webapprouting-aks-prod-aks104-public-eus2-001"
                  }
                ]
              }
            ],
            "windows_profile": [
              {
                "admin_password": "",
                "admin_username": "azureuser",
                "gmsa": [],
                "license": ""
              }
            ],
            "workload_autoscaler_profile": [],
            "workload_identity_enabled": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "kube_admin_config"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_admin_config_raw"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "kube_config_raw"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "windows_profile"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_log_analytics_workspace",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "allow_resource_only_permissions": true,
            "cmk_for_query_forced": false,
            "daily_quota_gb": -1,
            "data_collection_rule_id": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
            "identity": [],
            "immediate_data_purge_on_30_days_enabled": false,
            "internet_ingestion_enabled": true,
            "internet_query_enabled": true,
            "local_authentication_disabled": true,
            "local_authentication_enabled": false,
            "location": "eastus2",
            "name": "log-aks-prod-eus2-001",
            "primary_shared_key": "PXveEyoaKj9cmp5xl9nwNON0t09YxNEUNdi2oqyyILJ2VxCIOHD62AUpQv/5jjTyKMv9Zm3D0CoMNM25619OpQ==",
            "reservation_capacity_in_gb_per_day": null,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "retention_in_days": 30,
            "secondary_shared_key": "uSymidIy56nCbO5khSOCBTt1a2r/hKvQpKb+A96BQ+xaOEDcHatAxlhkHIJZzvOgCvQ/IXIqJa19rFXQx9OpYQ==",
            "sku": "PerGB2018",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "workspace_id": "493505e0-d025-4d1b-b730-17eafbf04d4d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "primary_shared_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_shared_key"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIzIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_data_collection_endpoint",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "configuration_access_endpoint": "https://dce-prod-aks104-eus2-001-z81m.eastus2-1.handler.control.monitor.azure.com",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionEndpoints/dce-prod-aks104-eus2-001",
            "immutable_id": "dce-987bf33b9ff642a98dfd0837a5b5c10b",
            "kind": "Linux",
            "location": "eastus2",
            "logs_ingestion_endpoint": "https://dce-prod-aks104-eus2-001-z81m.eastus2-1.ingest.monitor.azure.com",
            "metrics_ingestion_endpoint": "https://dce-prod-aks104-eus2-001-z81m.eastus2-1.metrics.ingest.monitor.azure.com",
            "name": "dce-prod-aks104-eus2-001",
            "public_network_access_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_data_collection_rule",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "data_collection_endpoint_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionEndpoints/dce-prod-aks104-eus2-001",
            "data_flow": [
              {
                "built_in_transform": "",
                "destinations": [
                  "MonitoringAccount1"
                ],
                "output_stream": "",
                "streams": [
                  "Microsoft-PrometheusMetrics"
                ],
                "transform_kql": ""
              }
            ],
            "data_sources": [
              {
                "data_import": [],
                "extension": [],
                "iis_log": [],
                "log_file": [],
                "performance_counter": [],
                "platform_telemetry": [],
                "prometheus_forwarder": [
                  {
                    "label_include_filter": [],
                    "name": "PrometheusDataSource",
                    "streams": [
                      "Microsoft-PrometheusMetrics"
                    ]
                  }
                ],
                "syslog": [],
                "windows_event_log": [],
                "windows_firewall_log": []
              }
            ],
            "description": "",
            "destinations": [
              {
                "azure_monitor_metrics": [],
                "event_hub": [],
                "event_hub_direct": [],
                "log_analytics": [],
                "monitor_account": [
                  {
                    "monitor_account_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Monitor/accounts/amw-prod-aks104-eus2-001",
                    "name": "MonitoringAccount1"
                  }
                ],
                "storage_blob": [],
                "storage_blob_direct": [],
                "storage_table_direct": []
              }
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionRules/dcr-prod-aks104-eus2-001",
            "identity": [],
            "immutable_id": "dcr-072a26f924604626862fb9a53f0172b1",
            "kind": "Linux",
            "location": "eastus2",
            "name": "dcr-prod-aks104-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "stream_declaration": [],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_monitor_data_collection_endpoint.prometheus",
            "azurerm_monitor_workspace.prometheus",
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_data_collection_rule_association",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "data_collection_endpoint_id": "",
            "data_collection_rule_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionRules/dcr-prod-aks104-eus2-001",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001/providers/Microsoft.Insights/dataCollectionRuleAssociations/dcra-prod-aks104-backend-eus2-001",
            "name": "dcra-prod-aks104-backend-eus2-001",
            "target_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_monitor_data_collection_endpoint.prometheus",
            "azurerm_monitor_data_collection_rule.prometheus",
            "azurerm_monitor_workspace.prometheus",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "data_collection_endpoint_id": "",
            "data_collection_rule_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionRules/dcr-prod-aks104-eus2-001",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001/providers/Microsoft.Insights/dataCollectionRuleAssociations/dcra-prod-aks104-public-eus2-001",
            "name": "dcra-prod-aks104-public-eus2-001",
            "target_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_monitor_data_collection_endpoint.prometheus",
            "azurerm_monitor_data_collection_rule.prometheus",
            "azurerm_monitor_workspace.prometheus",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_data_collection_rule_association",
      "name": "prometheus_configuration_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "data_collection_endpoint_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionEndpoints/dce-prod-aks104-eus2-001",
            "data_collection_rule_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001/providers/Microsoft.Insights/dataCollectionRuleAssociations/configurationAccessEndpoint",
            "name": "configurationAccessEndpoint",
            "target_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_monitor_data_collection_endpoint.prometheus",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "data_collection_endpoint_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Insights/dataCollectionEndpoints/dce-prod-aks104-eus2-001",
            "data_collection_rule_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001/providers/Microsoft.Insights/dataCollectionRuleAssociations/configurationAccessEndpoint",
            "name": "configurationAccessEndpoint",
            "target_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_monitor_data_collection_endpoint.prometheus",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_diagnostic_setting",
      "name": "firewall_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "enabled_log": [
              {
                "category": "AZFWApplicationRule",
                "category_group": "",
                "retention_policy": [
                  {
                    "days": 0,
                    "enabled": false
                  }
                ]
              },
              {
                "category": "AZFWDnsQuery",
                "category_group": "",
                "retention_policy": [
                  {
                    "days": 0,
                    "enabled": false
                  }
                ]
              },
              {
                "category": "AZFWNetworkRule",
                "category_group": "",
                "retention_policy": [
                  {
                    "days": 0,
                    "enabled": false
                  }
                ]
              },
              {
                "category": "AZFWThreatIntel",
                "category_group": "",
                "retention_policy": [
                  {
                    "days": 0,
                    "enabled": false
                  }
                ]
              }
            ],
            "enabled_metric": [],
            "eventhub_authorization_rule_id": "",
            "eventhub_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/azureFirewalls/fw-hub-prod-eus2-001|fw-logs-to-law",
            "log_analytics_destination_type": "Dedicated",
            "log_analytics_workspace_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.OperationalInsights/workspaces/log-aks-prod-eus2-001",
            "metric": [
              {
                "category": "AllMetrics",
                "enabled": false,
                "retention_policy": [
                  {
                    "days": 0,
                    "enabled": false
                  }
                ]
              }
            ],
            "name": "fw-logs-to-law",
            "partner_solution_id": null,
            "storage_account_id": null,
            "target_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/azureFirewalls/fw-hub-prod-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.main",
            "azurerm_firewall_policy.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_public_ip.firewall",
            "azurerm_resource_group.main",
            "azurerm_subnet.firewall",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_monitor_workspace",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_data_collection_endpoint_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MA_amw-prod-aks104-eus2-001_eastus2_managed/providers/Microsoft.Insights/dataCollectionEndpoints/amw-prod-aks104-eus2-001",
            "default_data_collection_rule_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/MA_amw-prod-aks104-eus2-001_eastus2_managed/providers/Microsoft.Insights/dataCollectionRules/amw-prod-aks104-eus2-001",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Monitor/accounts/amw-prod-aks104-eus2-001",
            "location": "eastus2",
            "name": "amw-prod-aks104-eus2-001",
            "public_network_access_enabled": true,
            "query_endpoint": "https://amw-prod-aks104-eus2-001-hufgcae8fufeade0.eastus2.prometheus.monitor.azure.com",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_mssql_database",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "auto_pause_delay_in_minutes": 0,
            "collation": "SQL_Latin1_General_CP1_CI_AS",
            "create_mode": "Default",
            "creation_source_database_id": null,
            "elastic_pool_id": "",
            "enclave_type": "",
            "geo_backup_enabled": true,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/databases/sqldb-app-prod-eus2",
            "identity": [],
            "import": [],
            "ledger_enabled": false,
            "license_type": "LicenseIncluded",
            "long_term_retention_policy": [
              {
                "immutable_backups_enabled": false,
                "monthly_retention": "PT0S",
                "week_of_year": 1,
                "weekly_retention": "PT0S",
                "yearly_retention": "PT0S"
              }
            ],
            "maintenance_configuration_name": "SQL_Default",
            "max_size_gb": 250,
            "min_capacity": 0,
            "name": "sqldb-app-prod-eus2",
            "read_replica_count": 0,
            "read_scale": false,
            "recover_database_id": null,
            "recovery_point_id": null,
            "restore_dropped_database_id": null,
            "restore_long_term_retention_backup_id": null,
            "restore_point_in_time": null,
            "sample_name": null,
            "secondary_type": "",
            "server_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55",
            "short_term_retention_policy": [
              {
                "backup_interval_in_hours": 24,
                "retention_days": 7
              }
            ],
            "sku_name": "S1",
            "storage_account_type": "Geo",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "threat_detection_policy": [
              {
                "disabled_alerts": [],
                "email_account_admins": "Disabled",
                "email_addresses": [
                  "admin@example.com"
                ],
                "retention_days": 0,
                "state": "Enabled",
                "storage_account_access_key": "",
                "storage_endpoint": ""
              }
            ],
            "timeouts": null,
            "transparent_data_encryption_enabled": true,
            "transparent_data_encryption_key_automatic_rotation_enabled": false,
            "transparent_data_encryption_key_vault_key_id": "",
            "zone_redundant": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "threat_detection_policy"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "storage_account_access_key"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_mssql_firewall_rule",
      "name": "client_ip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "end_ip_address": "80.219.164.55",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/firewallRules/AllowCurrentClientIP",
            "name": "AllowCurrentClientIP",
            "server_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55",
            "start_ip_address": "80.219.164.55",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_mssql_server",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "administrator_login": "sqladmin",
            "administrator_login_password": "*m)G6}3Xz!F{ED{-vKe7",
            "administrator_login_password_wo": null,
            "administrator_login_password_wo_version": 0,
            "azuread_administrator": [
              {
                "azuread_authentication_only": false,
                "login_username": "admin@example.com",
                "object_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
                "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e"
              }
            ],
            "connection_policy": "Default",
            "express_vulnerability_assessment_enabled": false,
            "fully_qualified_domain_name": "sql-main-prod-eus2-5xhr55.database.windows.net",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55",
            "identity": [
              {
                "identity_ids": [],
                "principal_id": "713a83bb-88e9-49df-ad89-4f58571a6604",
                "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
                "type": "SystemAssigned"
              }
            ],
            "location": "eastus2",
            "minimum_tls_version": "1.2",
            "name": "sql-main-prod-eus2-5xhr55",
            "outbound_network_restriction_enabled": false,
            "primary_user_assigned_identity_id": "",
            "public_network_access_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "restorable_dropped_database_ids": [],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "transparent_data_encryption_key_vault_key_id": "",
            "version": "12.0"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "administrator_login"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "administrator_login_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "administrator_login_password_wo"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-agw-prod-eus2-001",
            "location": "eastus2",
            "name": "nsg-agw-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "",
                "destination_port_ranges": [
                  "443",
                  "80"
                ],
                "direction": "Inbound",
                "name": "AllowHttpsInbound",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "Internet",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "65200-65535",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowGatewayManager",
                "priority": 1100,
                "protocol": "Tcp",
                "source_address_prefix": "GatewayManager",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.240.0.0/16",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "",
                "destination_port_ranges": [
                  "443",
                  "80"
                ],
                "direction": "Outbound",
                "name": "AllowAksOutbound",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "Internet",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowInternetOutbound",
                "priority": 1100,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "nsg-agw-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "clusters",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-backend-prod-eus2-001",
            "location": "eastus2",
            "name": "nsg-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.240.4.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "",
                "destination_port_ranges": [
                  "443",
                  "80"
                ],
                "direction": "Inbound",
                "name": "AllowAppGatewayInbound",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "10.240.1.0/24",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "Internet",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowInternetOutbound",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "VirtualNetwork",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowVnetInbound",
                "priority": 1100,
                "protocol": "*",
                "source_address_prefix": "VirtualNetwork",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "VirtualNetwork",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowVnetOutbound",
                "priority": 1100,
                "protocol": "*",
                "source_address_prefix": "VirtualNetwork",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "nsg-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-public-prod-eus2-001",
            "location": "eastus2",
            "name": "nsg-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.240.0.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "",
                "destination_port_ranges": [
                  "443",
                  "80"
                ],
                "direction": "Inbound",
                "name": "AllowAppGatewayInbound",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "10.240.1.0/24",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "Internet",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowInternetOutbound",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "VirtualNetwork",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowVnetInbound",
                "priority": 1100,
                "protocol": "*",
                "source_address_prefix": "VirtualNetwork",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "VirtualNetwork",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowVnetOutbound",
                "priority": 1100,
                "protocol": "*",
                "source_address_prefix": "VirtualNetwork",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "nsg-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "private_endpoints",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-pe-prod-eus2-001",
            "location": "eastus2",
            "name": "nsg-pe-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "",
                "destination_port_ranges": [
                  "1433",
                  "443"
                ],
                "direction": "Inbound",
                "name": "AllowVnetInbound",
                "priority": 1000,
                "protocol": "Tcp",
                "source_address_prefix": "VirtualNetwork",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Deny",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "DenyAllInbound",
                "priority": 4000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "nsg-pe-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "key_vault",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "privatelink.vaultcore.azure.net",
            "number_of_record_sets": 4,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "privatelink.vaultcore.azure.net.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "privatelink.vaultcore.azure.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "sql_database",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.database.windows.net",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "privatelink.database.windows.net",
            "number_of_record_sets": 1,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "privatelink.database.windows.net.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "privatelink.database.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "storage_blob",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "privatelink.blob.core.windows.net",
            "number_of_record_sets": 2,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "privatelink.blob.core.windows.net.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "privatelink.blob.core.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "storage_file",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "privatelink.file.core.windows.net",
            "number_of_record_sets": 2,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "privatelink.file.core.windows.net.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "privatelink.file.core.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_dns_zone_virtual_network_link",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "key_vault",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net/virtualNetworkLinks/key_vault-dns-link",
            "name": "key_vault-dns-link",
            "private_dns_zone_name": "privatelink.vaultcore.azure.net",
            "registration_enabled": false,
            "resolution_policy": "Default",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "key_vault-dns-link",
            "private_dns_zone_name": "privatelink.vaultcore.azure.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "sql_database",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.database.windows.net/virtualNetworkLinks/sql_database-dns-link",
            "name": "sql_database-dns-link",
            "private_dns_zone_name": "privatelink.database.windows.net",
            "registration_enabled": false,
            "resolution_policy": "Default",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "sql_database-dns-link",
            "private_dns_zone_name": "privatelink.database.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "storage_blob",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net/virtualNetworkLinks/storage_blob-dns-link",
            "name": "storage_blob-dns-link",
            "private_dns_zone_name": "privatelink.blob.core.windows.net",
            "registration_enabled": false,
            "resolution_policy": "Default",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "storage_blob-dns-link",
            "private_dns_zone_name": "privatelink.blob.core.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "storage_file",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net/virtualNetworkLinks/storage_file-dns-link",
            "name": "storage_file-dns-link",
            "private_dns_zone_name": "privatelink.file.core.windows.net",
            "registration_enabled": false,
            "resolution_policy": "Default",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "timeouts": null,
            "virtual_network_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "storage_file-dns-link",
            "private_dns_zone_name": "privatelink.file.core.windows.net",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_endpoint",
      "name": "app_kv",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "app1",
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app1-prod-eus2-001",
            "ip_configuration": [],
            "location": "eastus2",
            "name": "pe-kv-app1-prod-eus2-001",
            "network_interface": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkInterfaces/pe-kv-app1-prod-eus2-001.nic.c987d528-1e9c-4278-9d3c-64049aee327d",
                "name": "pe-kv-app1-prod-eus2-001.nic.c987d528-1e9c-4278-9d3c-64049aee327d"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app1-prod-eus2-001/privateDnsZoneGroups/kv-app1-dns-zone-group/privateDnsZoneConfigs/privatelink.vaultcore.azure.net",
                "name": "privatelink.vaultcore.azure.net",
                "private_dns_zone_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
                "record_sets": [
                  {
                    "fqdn": "kv-prodaks104app15xhr55.privatelink.vaultcore.azure.net",
                    "ip_addresses": [
                      "10.240.3.8"
                    ],
                    "name": "kv-prodaks104app15xhr55",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app1-prod-eus2-001/privateDnsZoneGroups/kv-app1-dns-zone-group",
                "name": "kv-app1-dns-zone-group",
                "private_dns_zone_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "kv-app1-private-connection",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app15xhr55",
                "private_ip_address": "10.240.3.8",
                "request_message": "",
                "subresource_names": [
                  "vault"
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "tags": {
              "App": "app1",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-kv-app1-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.app",
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main",
            "data.azurerm_client_config.current",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "app2",
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app2-prod-eus2-001",
            "ip_configuration": [],
            "location": "eastus2",
            "name": "pe-kv-app2-prod-eus2-001",
            "network_interface": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkInterfaces/pe-kv-app2-prod-eus2-001.nic.9d460c52-f4fc-4266-9e02-591a21b77cf0",
                "name": "pe-kv-app2-prod-eus2-001.nic.9d460c52-f4fc-4266-9e02-591a21b77cf0"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app2-prod-eus2-001/privateDnsZoneGroups/kv-app2-dns-zone-group/privateDnsZoneConfigs/privatelink.vaultcore.azure.net",
                "name": "privatelink.vaultcore.azure.net",
                "private_dns_zone_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
                "record_sets": [
                  {
                    "fqdn": "kv-prodaks104app25xhr55.privatelink.vaultcore.azure.net",
                    "ip_addresses": [
                      "10.240.3.7"
                    ],
                    "name": "kv-prodaks104app25xhr55",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-app2-prod-eus2-001/privateDnsZoneGroups/kv-app2-dns-zone-group",
                "name": "kv-app2-dns-zone-group",
                "private_dns_zone_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "kv-app2-private-connection",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app25xhr55",
                "private_ip_address": "10.240.3.7",
                "request_message": "",
                "subresource_names": [
                  "vault"
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "tags": {
              "App": "app2",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-kv-app2-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.app",
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main",
            "data.azurerm_client_config.current",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_endpoint",
      "name": "key_vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-prod-eus2-001",
            "ip_configuration": [],
            "location": "eastus2",
            "name": "pe-kv-prod-eus2-001",
            "network_interface": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkInterfaces/pe-kv-prod-eus2-001.nic.343eba5b-3d1f-4c5c-8482-a8fb334d63c2",
                "name": "pe-kv-prod-eus2-001.nic.343eba5b-3d1f-4c5c-8482-a8fb334d63c2"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-prod-eus2-001/privateDnsZoneGroups/kv-dns-zone-group/privateDnsZoneConfigs/privatelink.vaultcore.azure.net",
                "name": "privatelink.vaultcore.azure.net",
                "private_dns_zone_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net",
                "record_sets": [
                  {
                    "fqdn": "kv-prodaks1045xhr55.privatelink.vaultcore.azure.net",
                    "ip_addresses": [
                      "10.240.3.6"
                    ],
                    "name": "kv-prodaks1045xhr55",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-kv-prod-eus2-001/privateDnsZoneGroups/kv-dns-zone-group",
                "name": "kv-dns-zone-group",
                "private_dns_zone_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.vaultcore.azure.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "kv-private-connection",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
                "private_ip_address": "10.240.3.6",
                "request_message": "",
                "subresource_names": [
                  "vault"
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-kv-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_private_endpoint",
      "name": "storage",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "blob",
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-blob",
            "ip_configuration": [],
            "location": "eastus2",
            "name": "pe-st-prod-eus2-001-blob",
            "network_interface": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkInterfaces/pe-st-prod-eus2-001-blob.nic.834179b6-f34f-4cf8-a4d5-143df4d5e721",
                "name": "pe-st-prod-eus2-001-blob.nic.834179b6-f34f-4cf8-a4d5-143df4d5e721"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-blob/privateDnsZoneGroups/storage-blob-dns-zone-group/privateDnsZoneConfigs/privatelink.blob.core.windows.net",
                "name": "privatelink.blob.core.windows.net",
                "private_dns_zone_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net",
                "record_sets": [
                  {
                    "fqdn": "stprodaks104eus25xhr55.privatelink.blob.core.windows.net",
                    "ip_addresses": [
                      "10.240.3.4"
                    ],
                    "name": "stprodaks104eus25xhr55",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-blob/privateDnsZoneGroups/storage-blob-dns-zone-group",
                "name": "storage-blob-dns-zone-group",
                "private_dns_zone_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.blob.core.windows.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "storage-blob-private-connection",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
                "private_ip_address": "10.240.3.4",
                "request_message": "",
                "subresource_names": [
                  "blob"
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-st-prod-eus2-001-blob",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_storage_account.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "file",
          "schema_version": 0,
          "attributes": {
            "custom_dns_configs": [],
            "custom_network_interface_name": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-file",
            "ip_configuration": [],
            "location": "eastus2",
            "name": "pe-st-prod-eus2-001-file",
            "network_interface": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkInterfaces/pe-st-prod-eus2-001-file.nic.8d44c9b0-2564-4d5c-b9df-578848edf14a",
                "name": "pe-st-prod-eus2-001-file.nic.8d44c9b0-2564-4d5c-b9df-578848edf14a"
              }
            ],
            "private_dns_zone_configs": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-file/privateDnsZoneGroups/storage-file-dns-zone-group/privateDnsZoneConfigs/privatelink.file.core.windows.net",
                "name": "privatelink.file.core.windows.net",
                "private_dns_zone_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net",
                "record_sets": [
                  {
                    "fqdn": "stprodaks104eus25xhr55.privatelink.file.core.windows.net",
                    "ip_addresses": [
                      "10.240.3.5"
                    ],
                    "name": "stprodaks104eus25xhr55",
                    "ttl": 10,
                    "type": "A"
                  }
                ]
              }
            ],
            "private_dns_zone_group": [
              {
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateEndpoints/pe-st-prod-eus2-001-file/privateDnsZoneGroups/storage-file-dns-zone-group",
                "name": "storage-file-dns-zone-group",
                "private_dns_zone_ids": [
                  "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/privateDnsZones/privatelink.file.core.windows.net"
                ]
              }
            ],
            "private_service_connection": [
              {
                "is_manual_connection": false,
                "name": "storage-file-private-connection",
                "private_connection_resource_alias": "",
                "private_connection_resource_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
                "private_ip_address": "10.240.3.5",
                "request_message": "",
                "subresource_names": [
                  "file"
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "pe-st-prod-eus2-001-file",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_private_dns_zone.main",
            "azurerm_resource_group.main",
            "azurerm_storage_account.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/publicIPAddresses/pip-agw-prod-eus2-001",
            "idle_timeout_in_minutes": 4,
            "ip_address": "40.67.139.106",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "eastus2",
            "name": "pip-agw-prod-eus2-001",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null,
            "zones": [
              "1"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/publicIPAddresses/pip-fw-prod-eus2-001",
            "idle_timeout_in_minutes": 4,
            "ip_address": "132.196.234.142",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "eastus2",
            "name": "pip-fw-prod-eus2-001",
            "public_ip_prefix_id": null,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {},
            "timeouts": null,
            "zones": [
              "1",
              "2",
              "3"
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001",
            "location": "eastus2",
            "managed_by": "",
            "name": "rg-prod-aks104-eus2-001",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "aks_acr_pull",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerRegistry/registries/acrprodaks104eus25xhr55/providers/Microsoft.Authorization/roleAssignments/1f210c20-a34a-94f0-5504-a193b265c57d",
            "name": "1f210c20-a34a-94f0-5504-a193b265c57d",
            "principal_id": "8c727b28-d811-408f-8b0a-1d4e6089a9fb",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/7f951dda-4ed3-4680-a7ca-43fe172d538d",
            "role_definition_name": "AcrPull",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerRegistry/registries/acrprodaks104eus25xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_container_registry.main",
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerRegistry/registries/acrprodaks104eus25xhr55/providers/Microsoft.Authorization/roleAssignments/2967415f-d005-c5a6-4460-4ae09ddae606",
            "name": "2967415f-d005-c5a6-4460-4ae09ddae606",
            "principal_id": "d7ca3a76-af9a-40bc-8232-bc5392536a72",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/7f951dda-4ed3-4680-a7ca-43fe172d538d",
            "role_definition_name": "AcrPull",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerRegistry/registries/acrprodaks104eus25xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_container_registry.main",
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "aks_identity_network_contributor_vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/providers/Microsoft.Authorization/roleAssignments/c7311881-0494-bfd7-998a-31945de33616",
            "name": "c7311881-0494-bfd7-998a-31945de33616",
            "principal_id": "6db3bb76-5e82-46e4-a9b3-21fa6e0054fd",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7",
            "role_definition_name": "Network Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/providers/Microsoft.Authorization/roleAssignments/9086c792-9024-eeaf-1f5d-9be53a99e419",
            "name": "9086c792-9024-eeaf-1f5d-9be53a99e419",
            "principal_id": "05f89f7e-fa26-438e-b924-f31d5b6c284b",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7",
            "role_definition_name": "Network Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "aks_kubelet_network_contributor_vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/providers/Microsoft.Authorization/roleAssignments/69ebf64a-8b70-92b3-fe5e-0c7fb082b08f",
            "name": "69ebf64a-8b70-92b3-fe5e-0c7fb082b08f",
            "principal_id": "8c727b28-d811-408f-8b0a-1d4e6089a9fb",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7",
            "role_definition_name": "Network Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/providers/Microsoft.Authorization/roleAssignments/2d057452-3ffb-312f-b019-396ece3114a7",
            "name": "2d057452-3ffb-312f-b019-396ece3114a7",
            "principal_id": "d7ca3a76-af9a-40bc-8232-bc5392536a72",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4d97b98b-1d4f-4787-a291-c67834d212e7",
            "role_definition_name": "Network Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "app1_blob_contributor",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/staks104prodapp1eusw1h6n/providers/Microsoft.Authorization/roleAssignments/6563ed38-176f-928d-0a57-6b12185000aa",
            "name": "6563ed38-176f-928d-0a57-6b12185000aa",
            "principal_id": "175c24d4-800b-4a16-8319-73f4b109c8e5",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
            "role_definition_name": "Storage Blob Data Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/staks104prodapp1eusw1h6n",
            "skip_service_principal_aad_check": true,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_storage_account.app1",
            "azurerm_user_assigned_identity.app",
            "data.azurerm_role_definition.blob_data_contributor",
            "random_string.app1_storage_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "app_gateway_key_vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/providers/Microsoft.Authorization/roleAssignments/caa3108a-3544-7b32-bb64-3c78be8e7718",
            "name": "caa3108a-3544-7b32-bb64-3c78be8e7718",
            "principal_id": "b9b3b57d-1b1c-478f-b71a-ac3c3102ff8c",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.app_gateway",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "app_kv_secrets_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "app1",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app15xhr55/providers/Microsoft.Authorization/roleAssignments/489bf5ff-6a13-0ba8-d094-9e920e782a83",
            "name": "489bf5ff-6a13-0ba8-d094-9e920e782a83",
            "principal_id": "175c24d4-800b-4a16-8319-73f4b109c8e5",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app15xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.app",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.app",
            "data.azurerm_client_config.current",
            "data.azurerm_role_definition.kv_secrets_user",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "app2",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app25xhr55/providers/Microsoft.Authorization/roleAssignments/42bcf988-fe59-d441-00e6-d004a1494e1e",
            "name": "42bcf988-fe59-d441-00e6-d004a1494e1e",
            "principal_id": "894e8043-f736-421e-abf3-3cfbd55b79ed",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks104app25xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.app",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.app",
            "data.azurerm_client_config.current",
            "data.azurerm_role_definition.kv_secrets_user",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "current_user_aks_rbac_cluster_admin",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001/providers/Microsoft.Authorization/roleAssignments/2c8f34d8-5389-dc2f-e85a-6a5b34346591",
            "name": "2c8f34d8-5389-dc2f-e85a-6a5b34346591",
            "principal_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "principal_type": "User",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/b1ff04bb-8a4e-4dc4-8eb5-8693973ce19b",
            "role_definition_name": "Azure Kubernetes Service RBAC Cluster Admin",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-backend-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main",
            "data.azurerm_client_config.current"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001/providers/Microsoft.Authorization/roleAssignments/fddb2dc2-7b4c-150b-710e-519c65ee34d4",
            "name": "fddb2dc2-7b4c-150b-710e-519c65ee34d4",
            "principal_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "principal_type": "User",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/b1ff04bb-8a4e-4dc4-8eb5-8693973ce19b",
            "role_definition_name": "Azure Kubernetes Service RBAC Cluster Admin",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ContainerService/managedClusters/aks-prod-aks104-public-eus2-001",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_kubernetes_cluster.main",
            "azurerm_log_analytics_workspace.main",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_user_assigned_identity.control_plane_identity",
            "azurerm_virtual_network.main",
            "data.azurerm_client_config.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "current_user_key_vault_admin",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/providers/Microsoft.Authorization/roleAssignments/e320ee9b-c52e-48df-68e1-a0d6c1d2de42",
            "name": "e320ee9b-c52e-48df-68e1-a0d6c1d2de42",
            "principal_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "principal_type": "User",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/00482a5a-887f-4fb3-b363-3b7fe8e74483",
            "role_definition_name": "Key Vault Administrator",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "workload_identity_key_vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/providers/Microsoft.Authorization/roleAssignments/42e23de0-1da8-1022-ce40-2c4167a8d1ae",
            "name": "42e23de0-1da8-1022-ce40-2c4167a8d1ae",
            "principal_id": "a4018293-474f-433b-ab3b-fa34a2844a92",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55/providers/Microsoft.Authorization/roleAssignments/d84af5cf-9894-d8f7-23d3-e37a61a1b8c8",
            "name": "d84af5cf-9894-d8f7-23d3-e37a61a1b8c8",
            "principal_id": "76ee8033-75d7-4b49-ad08-d81e1db77606",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/4633458b-17de-408a-b874-0445c86b69e6",
            "role_definition_name": "Key Vault Secrets User",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.KeyVault/vaults/kv-prodaks1045xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "workload_identity_sql",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/databases/sqldb-app-prod-eus2/providers/Microsoft.Authorization/roleAssignments/29a51aca-16a9-9adc-524b-284fad6b7b65",
            "name": "29a51aca-16a9-9adc-524b-284fad6b7b65",
            "principal_id": "a4018293-474f-433b-ab3b-fa34a2844a92",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/9b7fa17d-e63e-47b0-bb0a-15c516ac86ec",
            "role_definition_name": "SQL DB Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/databases/sqldb-app-prod-eus2",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_mssql_database.main",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/databases/sqldb-app-prod-eus2/providers/Microsoft.Authorization/roleAssignments/71bcf682-98ce-7180-1bcc-2429a62f9369",
            "name": "71bcf682-98ce-7180-1bcc-2429a62f9369",
            "principal_id": "76ee8033-75d7-4b49-ad08-d81e1db77606",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/9b7fa17d-e63e-47b0-bb0a-15c516ac86ec",
            "role_definition_name": "SQL DB Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Sql/servers/sql-main-prod-eus2-5xhr55/databases/sqldb-app-prod-eus2",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_mssql_database.main",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.current",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "workload_identity_storage",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55/providers/Microsoft.Authorization/roleAssignments/804fe52b-2983-6d76-c321-c327cf483a9d",
            "name": "804fe52b-2983-6d76-c321-c327cf483a9d",
            "principal_id": "a4018293-474f-433b-ab3b-fa34a2844a92",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
            "role_definition_name": "Storage Blob Data Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_storage_account.main",
            "azurerm_user_assigned_identity.workload_identity",
            "random_string.unique_suffix"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55/providers/Microsoft.Authorization/roleAssignments/03ba3afa-6a31-8af1-112a-cf59103648c0",
            "name": "03ba3afa-6a31-8af1-112a-cf59103648c0",
            "principal_id": "76ee8033-75d7-4b49-ad08-d81e1db77606",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
            "role_definition_name": "Storage Blob Data Contributor",
            "scope": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_storage_account.main",
            "azurerm_user_assigned_identity.workload_identity",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_route_table",
      "name": "aks_routes",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bgp_route_propagation_enabled": true,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/routeTables/rt-fw-prod-eus2-001",
            "location": "eastus2",
            "name": "rt-fw-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "route": [
              {
                "address_prefix": "0.0.0.0/0",
                "name": "default-via-firewall",
                "next_hop_in_ip_address": "10.240.2.4",
                "next_hop_type": "VirtualAppliance"
              }
            ],
            "subnets": [],
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "rt-fw-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_firewall.main",
            "azurerm_firewall_policy.main",
            "azurerm_public_ip.firewall",
            "azurerm_resource_group.main",
            "azurerm_subnet.firewall",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_storage_account",
      "name": "app1",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 4,
          "attributes": {
            "access_tier": "Hot",
            "account_kind": "StorageV2",
            "account_replication_type": "LRS",
            "account_tier": "Standard",
            "allow_nested_items_to_be_public": false,
            "allowed_copy_scope": "",
            "azure_files_authentication": [],
            "blob_properties": [
              {
                "change_feed_enabled": false,
                "change_feed_retention_in_days": 0,
                "container_delete_retention_policy": [],
                "cors_rule": [],
                "default_service_version": "",
                "delete_retention_policy": [],
                "last_access_time_enabled": false,
                "restore_policy": [],
                "versioning_enabled": false
              }
            ],
            "cross_tenant_replication_enabled": false,
            "custom_domain": [],
            "customer_managed_key": [],
            "default_to_oauth_authentication": false,
            "dns_endpoint_type": "Standard",
            "edge_zone": "",
            "https_traffic_only_enabled": true,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/staks104prodapp1eusw1h6n",
            "identity": [],
            "immutability_policy": [],
            "infrastructure_encryption_enabled": false,
            "is_hns_enabled": false,
            "large_file_share_enabled": false,
            "local_user_enabled": true,
            "location": "eastus2",
            "min_tls_version": "TLS1_2",
            "name": "staks104prodapp1eusw1h6n",
            "network_rules": [],
            "nfsv3_enabled": false,
            "primary_access_key": "jaQW99mpKcYPe4dNjUPS+0rsf2Bmhm66Im69V12DK52X2mD7QCzL6fW48GKEgCTeT406WJNqrf3V+AStR1lnXw==",
            "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://staks104prodapp1eusw1h6n.blob.core.windows.net/;AccountName=staks104prodapp1eusw1h6n;AccountKey=jaQW99mpKcYPe4dNjUPS+0rsf2Bmhm66Im69V12DK52X2mD7QCzL6fW48GKEgCTeT406WJNqrf3V+AStR1lnXw==",
            "primary_blob_endpoint": "https://staks104prodapp1eusw1h6n.blob.core.windows.net/",
            "primary_blob_host": "staks104prodapp1eusw1h6n.blob.core.windows.net",
            "primary_blob_internet_endpoint": "",
            "primary_blob_internet_host": "",
            "primary_blob_microsoft_endpoint": "",
            "primary_blob_microsoft_host": "",
            "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=staks104prodapp1eusw1h6n;AccountKey=jaQW99mpKcYPe4dNjUPS+0rsf2Bmhm66Im69V12DK52X2mD7QCzL6fW48GKEgCTeT406WJNqrf3V+AStR1lnXw==;EndpointSuffix=core.windows.net",
            "primary_dfs_endpoint": "https://staks104prodapp1eusw1h6n.dfs.core.windows.net/",
            "primary_dfs_host": "staks104prodapp1eusw1h6n.dfs.core.windows.net",
            "primary_dfs_internet_endpoint": "",
            "primary_dfs_internet_host": "",
            "primary_dfs_microsoft_endpoint": "",
            "primary_dfs_microsoft_host": "",
            "primary_file_endpoint": "https://staks104prodapp1eusw1h6n.file.core.windows.net/",
            "primary_file_host": "staks104prodapp1eusw1h6n.file.core.windows.net",
            "primary_file_internet_endpoint": "",
            "primary_file_internet_host": "",
            "primary_file_microsoft_endpoint": "",
            "primary_file_microsoft_host": "",
            "primary_location": "eastus2",
            "primary_queue_endpoint": "https://staks104prodapp1eusw1h6n.queue.core.windows.net/",
            "primary_queue_host": "staks104prodapp1eusw1h6n.queue.core.windows.net",
            "primary_queue_microsoft_endpoint": "",
            "primary_queue_microsoft_host": "",
            "primary_table_endpoint": "https://staks104prodapp1eusw1h6n.table.core.windows.net/",
            "primary_table_host": "staks104prodapp1eusw1h6n.table.core.windows.net",
            "primary_table_microsoft_endpoint": "",
            "primary_table_microsoft_host": "",
            "primary_web_endpoint": "https://staks104prodapp1eusw1h6n.z20.web.core.windows.net/",
            "primary_web_host": "staks104prodapp1eusw1h6n.z20.web.core.windows.net",
            "primary_web_internet_endpoint": "",
            "primary_web_internet_host": "",
            "primary_web_microsoft_endpoint": "",
            "primary_web_microsoft_host": "",
            "provisioned_billing_model_version": "",
            "public_network_access_enabled": false,
            "queue_encryption_key_type": "Service",
            "queue_properties": [
              {
                "cors_rule": [],
                "hour_metrics": [
                  {
                    "enabled": false,
                    "include_apis": false,
                    "retention_policy_days": 0,
                    "version": "1.0"
                  }
                ],
                "logging": [
                  {
                    "delete": false,
                    "read": false,
                    "retention_policy_days": 0,
                    "version": "1.0",
                    "write": false
                  }
                ],
                "minute_metrics": [
                  {
                    "enabled": false,
                    "include_apis": false,
                    "retention_policy_days": 0,
                    "version": "1.0"
                  }
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "routing": [],
            "sas_policy": [],
            "secondary_access_key": "47Hi88Ev7GovxVBP2OjgrwDW7dkChhk/cigEaYBKbGvxrXAOhR0fig+s/PROePqATmtlzZ1UZooZ+AStmlbRfw==",
            "secondary_blob_connection_string": "",
            "secondary_blob_endpoint": "",
            "secondary_blob_host": "",
            "secondary_blob_internet_endpoint": "",
            "secondary_blob_internet_host": "",
            "secondary_blob_microsoft_endpoint": "",
            "secondary_blob_microsoft_host": "",
            "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=staks104prodapp1eusw1h6n;AccountKey=47Hi88Ev7GovxVBP2OjgrwDW7dkChhk/cigEaYBKbGvxrXAOhR0fig+s/PROePqATmtlzZ1UZooZ+AStmlbRfw==;EndpointSuffix=core.windows.net",
            "secondary_dfs_endpoint": "",
            "secondary_dfs_host": "",
            "secondary_dfs_internet_endpoint": "",
            "secondary_dfs_internet_host": "",
            "secondary_dfs_microsoft_endpoint": "",
            "secondary_dfs_microsoft_host": "",
            "secondary_file_endpoint": "",
            "secondary_file_host": "",
            "secondary_file_internet_endpoint": "",
            "secondary_file_internet_host": "",
            "secondary_file_microsoft_endpoint": "",
            "secondary_file_microsoft_host": "",
            "secondary_location": "",
            "secondary_queue_endpoint": "",
            "secondary_queue_host": "",
            "secondary_queue_microsoft_endpoint": "",
            "secondary_queue_microsoft_host": "",
            "secondary_table_endpoint": "",
            "secondary_table_host": "",
            "secondary_table_microsoft_endpoint": "",
            "secondary_table_microsoft_host": "",
            "secondary_web_endpoint": "",
            "secondary_web_host": "",
            "secondary_web_internet_endpoint": "",
            "secondary_web_internet_host": "",
            "secondary_web_microsoft_endpoint": "",
            "secondary_web_microsoft_host": "",
            "sftp_enabled": false,
            "share_properties": [
              {
                "cors_rule": [],
                "retention_policy": [
                  {
                    "days": 7
                  }
                ],
                "smb": []
              }
            ],
            "shared_access_key_enabled": false,
            "static_website": [],
            "table_encryption_key_type": "Service",
            "tags": {
              "App": "app1",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "primary_access_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "primary_blob_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "primary_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_access_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_blob_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_connection_string"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "name": "staks104prodapp1eusw1h6n",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiI0In0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "random_string.app1_storage_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_storage_account",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 4,
          "attributes": {
            "access_tier": "Hot",
            "account_kind": "StorageV2",
            "account_replication_type": "LRS",
            "account_tier": "Standard",
            "allow_nested_items_to_be_public": false,
            "allowed_copy_scope": "",
            "azure_files_authentication": [],
            "blob_properties": [
              {
                "change_feed_enabled": false,
                "change_feed_retention_in_days": 0,
                "container_delete_retention_policy": [
                  {
                    "days": 7
                  }
                ],
                "cors_rule": [],
                "default_service_version": "",
                "delete_retention_policy": [
                  {
                    "days": 7,
                    "permanent_delete_enabled": false
                  }
                ],
                "last_access_time_enabled": false,
                "restore_policy": [],
                "versioning_enabled": false
              }
            ],
            "cross_tenant_replication_enabled": false,
            "custom_domain": [],
            "customer_managed_key": [],
            "default_to_oauth_authentication": false,
            "dns_endpoint_type": "Standard",
            "edge_zone": "",
            "https_traffic_only_enabled": true,
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Storage/storageAccounts/stprodaks104eus25xhr55",
            "identity": [],
            "immutability_policy": [],
            "infrastructure_encryption_enabled": false,
            "is_hns_enabled": true,
            "large_file_share_enabled": false,
            "local_user_enabled": true,
            "location": "eastus2",
            "min_tls_version": "TLS1_2",
            "name": "stprodaks104eus25xhr55",
            "network_rules": [
              {
                "bypass": [
                  "AzureServices"
                ],
                "default_action": "Deny",
                "ip_rules": [],
                "private_link_access": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "nfsv3_enabled": false,
            "primary_access_key": "OvaYxVb2aLDzWHwtkFqCl7K3ujHGAJ1Mm4225GkIwC4z7dv3mKfQhTJnVy34yCgYmhfYzhnQwoov+AStm7z/wA==",
            "primary_blob_connection_string": "DefaultEndpointsProtocol=https;BlobEndpoint=https://stprodaks104eus25xhr55.blob.core.windows.net/;AccountName=stprodaks104eus25xhr55;AccountKey=OvaYxVb2aLDzWHwtkFqCl7K3ujHGAJ1Mm4225GkIwC4z7dv3mKfQhTJnVy34yCgYmhfYzhnQwoov+AStm7z/wA==",
            "primary_blob_endpoint": "https://stprodaks104eus25xhr55.blob.core.windows.net/",
            "primary_blob_host": "stprodaks104eus25xhr55.blob.core.windows.net",
            "primary_blob_internet_endpoint": "",
            "primary_blob_internet_host": "",
            "primary_blob_microsoft_endpoint": "",
            "primary_blob_microsoft_host": "",
            "primary_connection_string": "DefaultEndpointsProtocol=https;AccountName=stprodaks104eus25xhr55;AccountKey=OvaYxVb2aLDzWHwtkFqCl7K3ujHGAJ1Mm4225GkIwC4z7dv3mKfQhTJnVy34yCgYmhfYzhnQwoov+AStm7z/wA==;EndpointSuffix=core.windows.net",
            "primary_dfs_endpoint": "https://stprodaks104eus25xhr55.dfs.core.windows.net/",
            "primary_dfs_host": "stprodaks104eus25xhr55.dfs.core.windows.net",
            "primary_dfs_internet_endpoint": "",
            "primary_dfs_internet_host": "",
            "primary_dfs_microsoft_endpoint": "",
            "primary_dfs_microsoft_host": "",
            "primary_file_endpoint": "https://stprodaks104eus25xhr55.file.core.windows.net/",
            "primary_file_host": "stprodaks104eus25xhr55.file.core.windows.net",
            "primary_file_internet_endpoint": "",
            "primary_file_internet_host": "",
            "primary_file_microsoft_endpoint": "",
            "primary_file_microsoft_host": "",
            "primary_location": "eastus2",
            "primary_queue_endpoint": "https://stprodaks104eus25xhr55.queue.core.windows.net/",
            "primary_queue_host": "stprodaks104eus25xhr55.queue.core.windows.net",
            "primary_queue_microsoft_endpoint": "",
            "primary_queue_microsoft_host": "",
            "primary_table_endpoint": "https://stprodaks104eus25xhr55.table.core.windows.net/",
            "primary_table_host": "stprodaks104eus25xhr55.table.core.windows.net",
            "primary_table_microsoft_endpoint": "",
            "primary_table_microsoft_host": "",
            "primary_web_endpoint": "https://stprodaks104eus25xhr55.z20.web.core.windows.net/",
            "primary_web_host": "stprodaks104eus25xhr55.z20.web.core.windows.net",
            "primary_web_internet_endpoint": "",
            "primary_web_internet_host": "",
            "primary_web_microsoft_endpoint": "",
            "primary_web_microsoft_host": "",
            "provisioned_billing_model_version": "",
            "public_network_access_enabled": false,
            "queue_encryption_key_type": "Service",
            "queue_properties": [
              {
                "cors_rule": [],
                "hour_metrics": [
                  {
                    "enabled": false,
                    "include_apis": false,
                    "retention_policy_days": 0,
                    "version": "1.0"
                  }
                ],
                "logging": [
                  {
                    "delete": false,
                    "read": false,
                    "retention_policy_days": 0,
                    "version": "1.0",
                    "write": false
                  }
                ],
                "minute_metrics": [
                  {
                    "enabled": false,
                    "include_apis": false,
                    "retention_policy_days": 0,
                    "version": "1.0"
                  }
                ]
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "routing": [],
            "sas_policy": [],
            "secondary_access_key": "vpP/kR1c92YyT8DY6h9AK7cUciQQAUes161wzXl35BCquCz5ZXSbcUaY1g6+5zy/joStROhW+7/S+AStEzm5VQ==",
            "secondary_blob_connection_string": "",
            "secondary_blob_endpoint": "",
            "secondary_blob_host": "",
            "secondary_blob_internet_endpoint": "",
            "secondary_blob_internet_host": "",
            "secondary_blob_microsoft_endpoint": "",
            "secondary_blob_microsoft_host": "",
            "secondary_connection_string": "DefaultEndpointsProtocol=https;AccountName=stprodaks104eus25xhr55;AccountKey=vpP/kR1c92YyT8DY6h9AK7cUciQQAUes161wzXl35BCquCz5ZXSbcUaY1g6+5zy/joStROhW+7/S+AStEzm5VQ==;EndpointSuffix=core.windows.net",
            "secondary_dfs_endpoint": "",
            "secondary_dfs_host": "",
            "secondary_dfs_internet_endpoint": "",
            "secondary_dfs_internet_host": "",
            "secondary_dfs_microsoft_endpoint": "",
            "secondary_dfs_microsoft_host": "",
            "secondary_file_endpoint": "",
            "secondary_file_host": "",
            "secondary_file_internet_endpoint": "",
            "secondary_file_internet_host": "",
            "secondary_file_microsoft_endpoint": "",
            "secondary_file_microsoft_host": "",
            "secondary_location": "",
            "secondary_queue_endpoint": "",
            "secondary_queue_host": "",
            "secondary_queue_microsoft_endpoint": "",
            "secondary_queue_microsoft_host": "",
            "secondary_table_endpoint": "",
            "secondary_table_host": "",
            "secondary_table_microsoft_endpoint": "",
            "secondary_table_microsoft_host": "",
            "secondary_web_endpoint": "",
            "secondary_web_host": "",
            "secondary_web_internet_endpoint": "",
            "secondary_web_internet_host": "",
            "secondary_web_microsoft_endpoint": "",
            "secondary_web_microsoft_host": "",
            "sftp_enabled": false,
            "share_properties": [
              {
                "cors_rule": [],
                "retention_policy": [
                  {
                    "days": 7
                  }
                ],
                "smb": []
              }
            ],
            "shared_access_key_enabled": true,
            "static_website": [],
            "table_encryption_key_type": "Service",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "primary_access_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "primary_blob_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "primary_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_access_key"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_blob_connection_string"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "secondary_connection_string"
              }
            ]
          ],
          "identity_schema_version": 0,
          "identity": {
            "name": "stprodaks104eus25xhr55",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiI0In0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "apiserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.200.0/28"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [
              {
                "name": "aks-managedclusters",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.ContainerService/managedClusters"
                  }
                ]
              }
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-apiserver-backend-prod-eus2-001",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-apiserver-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.200.16/28"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [
              {
                "name": "aks-managedclusters",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.ContainerService/managedClusters"
                  }
                ]
              }
            ],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-apiserver-public-prod-eus2-001",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-apiserver-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.1.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-agw-prod-eus2-001",
            "private_endpoint_network_policies": "Enabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-agw-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "clusters",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.4.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-backend-prod-eus2-001",
            "private_endpoint_network_policies": "Enabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-backend-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.0.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-public-prod-eus2-001",
            "private_endpoint_network_policies": "Enabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-public-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "firewall",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.2.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/AzureFirewallSubnet",
            "ip_address_pool": [],
            "name": "AzureFirewallSubnet",
            "private_endpoint_network_policies": "Enabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "AzureFirewallSubnet",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "private_endpoints",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.240.3.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "ip_address_pool": [],
            "name": "snet-pe-prod-eus2-001",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "timeouts": null,
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "snet-pe-prod-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f",
            "virtual_network_name": "vnet-prod-aks104-eus2-001"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001",
            "network_security_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-agw-prod-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.app_gateway",
            "azurerm_resource_group.main",
            "azurerm_subnet.app_gateway",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "clusters",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
            "network_security_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-backend-prod-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.clusters",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001",
            "network_security_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-public-prod-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.clusters",
            "azurerm_resource_group.main",
            "azurerm_subnet.clusters",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "private_endpoints",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "network_security_group_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-pe-prod-eus2-001",
            "subnet_id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.private_endpoints",
            "azurerm_resource_group.main",
            "azurerm_subnet.private_endpoints",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "app1",
          "schema_version": 1,
          "attributes": {
            "client_id": "f132dfed-6a22-4956-88ea-ee4ffa931efc",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-app-app1-prod-eus2-001",
            "location": "eastus2",
            "name": "id-app-app1-prod-eus2-001",
            "principal_id": "175c24d4-800b-4a16-8319-73f4b109c8e5",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {
              "App": "app1",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "app2",
          "schema_version": 1,
          "attributes": {
            "client_id": "d927571d-2687-4e73-b657-a64090e0a2f9",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-app-app2-prod-eus2-001",
            "location": "eastus2",
            "name": "id-app-app2-prod-eus2-001",
            "principal_id": "894e8043-f736-421e-abf3-3cfbd55b79ed",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {
              "App": "app2",
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "client_id": "4f1f0f9e-466c-4190-b57b-120ed046f0ff",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-agw-prod-eus2-001",
            "location": "eastus2",
            "name": "id-agw-prod-eus2-001",
            "principal_id": "b9b3b57d-1b1c-478f-b71a-ac3c3102ff8c",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "control_plane_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 1,
          "attributes": {
            "client_id": "6b92ef5a-be48-49f4-be3b-5e3f44904efb",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-backend-prod-eus2-001",
            "location": "eastus2",
            "name": "id-aksctrl-backend-prod-eus2-001",
            "principal_id": "6db3bb76-5e82-46e4-a9b3-21fa6e0054fd",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 1,
          "attributes": {
            "client_id": "07ed8ad4-6e0f-475e-9f43-432bcf0aac97",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-aksctrl-public-prod-eus2-001",
            "location": "eastus2",
            "name": "id-aksctrl-public-prod-eus2-001",
            "principal_id": "05f89f7e-fa26-438e-b924-f31d5b6c284b",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "sql_app_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "client_id": "1aac2aba-d3f1-4ba0-b3ee-f9bbb0c8b6be",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-sql-app-prod-eus2-001",
            "location": "eastus2",
            "name": "id-sql-app-prod-eus2-001",
            "principal_id": "76c4e4a9-ef43-4163-905f-73ff75e7d93a",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "workload_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 1,
          "attributes": {
            "client_id": "03cd48e3-72a7-4530-9878-e6eba7581779",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-backend-prod-eus2-001",
            "location": "eastus2",
            "name": "id-workload-backend-prod-eus2-001",
            "principal_id": "a4018293-474f-433b-ab3b-fa34a2844a92",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 1,
          "attributes": {
            "client_id": "ebd7c5da-9452-4018-8bd9-4748f8383364",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id-workload-public-prod-eus2-001",
            "location": "eastus2",
            "name": "id-workload-public-prod-eus2-001",
            "principal_id": "76ee8033-75d7-4b49-ad08-d81e1db77606",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "tenant_id": "5380364e-35d4-4293-8bfe-fa76e835384e",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.240.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "2d56ecd1-edb8-4487-b708-5437de56dcae",
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001",
            "ip_address_pool": [],
            "location": "eastus2",
            "name": "vnet-prod-aks104-eus2-001",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subnet": [
              {
                "address_prefixes": [
                  "10.240.0.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-public-prod-eus2-001",
                "name": "snet-public-prod-eus2-001",
                "private_endpoint_network_policies": "Enabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-public-prod-eus2-001",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.1.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-agw-prod-eus2-001",
                "name": "snet-agw-prod-eus2-001",
                "private_endpoint_network_policies": "Enabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-agw-prod-eus2-001",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.2.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/AzureFirewallSubnet",
                "name": "AzureFirewallSubnet",
                "private_endpoint_network_policies": "Enabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.200.0/28"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [
                  {
                    "name": "aks-managedclusters",
                    "service_delegation": [
                      {
                        "actions": [
                          "Microsoft.Network/virtualNetworks/subnets/join/action"
                        ],
                        "name": "Microsoft.ContainerService/managedClusters"
                      }
                    ]
                  }
                ],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001",
                "name": "snet-apiserver-backend-prod-eus2-001",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.200.16/28"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [
                  {
                    "name": "aks-managedclusters",
                    "service_delegation": [
                      {
                        "actions": [
                          "Microsoft.Network/virtualNetworks/subnets/join/action"
                        ],
                        "name": "Microsoft.ContainerService/managedClusters"
                      }
                    ]
                  }
                ],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001",
                "name": "snet-apiserver-public-prod-eus2-001",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.3.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-pe-prod-eus2-001",
                "name": "snet-pe-prod-eus2-001",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-pe-prod-eus2-001",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.240.4.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-backend-prod-eus2-001",
                "name": "snet-backend-prod-eus2-001",
                "private_endpoint_network_policies": "Enabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/networkSecurityGroups/nsg-backend-prod-eus2-001",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {
              "Demo": "true",
              "DeployedBy": "terraform-deployment",
              "Environment": "production",
              "FirewallMode": "Audit",
              "Location": "East US 2",
              "ManagedBy": "terraform",
              "Project": "aks-secure-baseline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "vnet-prod-aks104-eus2-001",
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "subscription_id": "b2af20ad-98fa-4aa7-94c3-059663641d9f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_web_application_firewall_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "custom_rules": [
              {
                "action": "Block",
                "enabled": true,
                "group_rate_limit_by": "",
                "match_conditions": [
                  {
                    "match_values": [
                      "api.yourdomain.com"
                    ],
                    "match_variables": [
                      {
                        "selector": "Host",
                        "variable_name": "RequestHeaders"
                      }
                    ],
                    "negation_condition": false,
                    "operator": "Equal",
                    "transforms": []
                  },
                  {
                    "match_values": [
                      "10.240.0.0/24",
                      "10.240.1.0/24"
                    ],
                    "match_variables": [
                      {
                        "selector": "",
                        "variable_name": "RemoteAddr"
                      }
                    ],
                    "negation_condition": true,
                    "operator": "IPMatch",
                    "transforms": []
                  }
                ],
                "name": "RestrictAPIToInternalOnly",
                "priority": 1,
                "rate_limit_duration": "",
                "rate_limit_threshold": 0,
                "rule_type": "MatchRule"
              }
            ],
            "http_listener_ids": [],
            "id": "/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/applicationGatewayWebApplicationFirewallPolicies/waf-policy-prod-eus2-001",
            "location": "eastus2",
            "managed_rules": [
              {
                "exclusion": [],
                "managed_rule_set": [
                  {
                    "rule_group_override": [
                      {
                        "rule": [
                          {
                            "action": "",
                            "enabled": false,
                            "id": "920300"
                          },
                          {
                            "action": "",
                            "enabled": false,
                            "id": "920330"
                          }
                        ],
                        "rule_group_name": "REQUEST-920-PROTOCOL-ENFORCEMENT"
                      }
                    ],
                    "type": "OWASP",
                    "version": "3.2"
                  }
                ]
              }
            ],
            "name": "waf-policy-prod-eus2-001",
            "path_based_rule_ids": [],
            "policy_settings": [
              {
                "enabled": true,
                "file_upload_enforcement": false,
                "file_upload_limit_in_mb": 100,
                "js_challenge_cookie_expiration_in_minutes": 30,
                "log_scrubbing": [],
                "max_request_body_size_in_kb": 128,
                "mode": "Detection",
                "request_body_check": true,
                "request_body_enforcement": true,
                "request_body_inspect_limit_in_kb": 128
              }
            ],
            "resource_group_name": "rg-prod-aks104-eus2-001",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "cheatsheets",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content": "# AKS Cheatsheet - aks-prod-aks104-backend-eus2-001\n\nThis cheatsheet was generated by Terraform. It includes common commands to connect to the cluster, install the managed NGINX ingress (Application Routing add-on custom resource), apply ServiceAccounts for Workload Identity, and verify connectivity.\n\n\u003e Assumptions\n\u003e - You have Azure CLI and kubectl installed.\n\u003e - You're logged in to the correct subscription.\n\n---\n\n## Connect to the cluster\n\n```bash\n# Merge kubeconfig using AAD/RBAC (local accounts are disabled)\naz aks get-credentials \\\n  --resource-group rg-prod-aks104-eus2-001 \\\n  --name aks-prod-aks104-backend-eus2-001 \\\n  --overwrite-existing\n\n# (Optional) use kubectx to switch contexts\nkubectx aks-prod-aks104-backend-eus2-001\n```\n\n## Apply ServiceAccount for Azure Workload Identity\n\n```bash\n# ServiceAccount (namespace: aks-app)\nkubectl apply -f infra/k8s/generated/backend-serviceaccount.yaml\n\n# Verify\nkubectl -n aks-app get sa workload-identity-sa -o yaml | yq '.metadata.annotations'\n```\n\n## Install NGINX Ingress Controller (Application Routing add-on CRD)\n\n```bash\n# NginxIngressController (namespace: app-routing-system)\nkubectl apply -f infra/k8s/generated/backend-nginx-internal-controller.yaml\n\n# Verify service gets the static internal IP\nkubectl get svc -n app-routing-system -l app.kubernetes.io/component=controller -o wide\n```\n\n### Expected IP (from Terraform)\n- Static internal IP: 10.240.4.100\n- Subnet name: snet-backend-prod-eus2-001\n\n## Quick checks for Workload Identity token injection\n\n```bash\n# Example: exec into a pod and grab a token (adjust deployment/name as needed)\nkubectl -n aks-app exec -it deploy/\u003cyour-deployment\u003e -- env | grep AZURE_CLIENT_ID\nkubectl -n aks-app exec -it deploy/\u003cyour-deployment\u003e -- printenv | grep -e AZURE_TENANT_ID\n```\n\n## App Gateway smoke tests\n\n```bash\n# Resolve and curl the Application Gateway public endpoint\nAGW_IP=40.67.139.106\n\n# Simple HTTP/HTTPS requests\ncurl -sS http://$AGW_IP -v | head -n 20\ncurl -sS https://$AGW_IP -k -v | head -n 20\n\n# (Optional) host header for a specific backend\ncurl -sS -H 'Host: app.yourdomain.com' https://$AGW_IP -k -v | head -n 40\n```\n\n## Useful Terraform outputs\n\n```bash\n# Show important outputs in JSON for scripting\nterraform output -json aks_clusters | jq -r '.\"backend\"'\nterraform output -json nginx_ingress_config | jq -r '.\"backend\"'\nterraform output -json service_account_manifest_files | jq -r '.\"backend\"'\nterraform output -json nginx_controller_manifest_files | jq -r '.\"backend\"'\n```\n\n---\n\n## Clean up\n\n```bash\n# Remove applied Kubernetes resources when needed\nkubectl delete -f infra/k8s/generated/backend-nginx-internal-controller.yaml || true\nkubectl -n aks-app delete -f infra/k8s/generated/backend-serviceaccount.yaml || true\n```\n",
            "content_base64": null,
            "content_base64sha256": "PluIlSffEpf21XNMWeXTQkEOFCIgDh45Ttq6rcHs8og=",
            "content_base64sha512": "sf4N4Oa7sd0NdehjP1w3MVD06fSlO/7Yn6qzSFAha7ViZvQS0V5uF0sVIETr6s7igvnClntUzFV8usrdo4PEVQ==",
            "content_md5": "3a384c6410dd4876db747a76359347a7",
            "content_sha1": "9e3a429edb3d0d31f8d9fbceb67c5cb3abf97011",
            "content_sha256": "3e5b889527df1297f6d5734c59e5d342410e1422200e1e394edabaadc1ecf288",
            "content_sha512": "b1fe0de0e6bbb1dd0d75e8633f5c373150f4e9f4a53bfed89faab34850216bb56266f412d15e6e174b152044ebeacee282f9c2967b54cc557cbacadda383c455",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cheatsheets/generated/backend-cheatsheet.md",
            "id": "9e3a429edb3d0d31f8d9fbceb67c5cb3abf97011",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_public_ip.app_gateway",
            "azurerm_resource_group.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content": "# AKS Cheatsheet - aks-prod-aks104-public-eus2-001\n\nThis cheatsheet was generated by Terraform. It includes common commands to connect to the cluster, install the managed NGINX ingress (Application Routing add-on custom resource), apply ServiceAccounts for Workload Identity, and verify connectivity.\n\n\u003e Assumptions\n\u003e - You have Azure CLI and kubectl installed.\n\u003e - You're logged in to the correct subscription.\n\n---\n\n## Connect to the cluster\n\n```bash\n# Merge kubeconfig using AAD/RBAC (local accounts are disabled)\naz aks get-credentials \\\n  --resource-group rg-prod-aks104-eus2-001 \\\n  --name aks-prod-aks104-public-eus2-001 \\\n  --overwrite-existing\n\n# (Optional) use kubectx to switch contexts\nkubectx aks-prod-aks104-public-eus2-001\n```\n\n## Apply ServiceAccount for Azure Workload Identity\n\n```bash\n# ServiceAccount (namespace: aks-app)\nkubectl apply -f infra/k8s/generated/public-serviceaccount.yaml\n\n# Verify\nkubectl -n aks-app get sa workload-identity-sa -o yaml | yq '.metadata.annotations'\n```\n\n## Install NGINX Ingress Controller (Application Routing add-on CRD)\n\n```bash\n# NginxIngressController (namespace: app-routing-system)\nkubectl apply -f infra/k8s/generated/public-nginx-internal-controller.yaml\n\n# Verify service gets the static internal IP\nkubectl get svc -n app-routing-system -l app.kubernetes.io/component=controller -o wide\n```\n\n### Expected IP (from Terraform)\n- Static internal IP: 10.240.0.100\n- Subnet name: snet-public-prod-eus2-001\n\n## Quick checks for Workload Identity token injection\n\n```bash\n# Example: exec into a pod and grab a token (adjust deployment/name as needed)\nkubectl -n aks-app exec -it deploy/\u003cyour-deployment\u003e -- env | grep AZURE_CLIENT_ID\nkubectl -n aks-app exec -it deploy/\u003cyour-deployment\u003e -- printenv | grep -e AZURE_TENANT_ID\n```\n\n## App Gateway smoke tests\n\n```bash\n# Resolve and curl the Application Gateway public endpoint\nAGW_IP=40.67.139.106\n\n# Simple HTTP/HTTPS requests\ncurl -sS http://$AGW_IP -v | head -n 20\ncurl -sS https://$AGW_IP -k -v | head -n 20\n\n# (Optional) host header for a specific backend\ncurl -sS -H 'Host: app.yourdomain.com' https://$AGW_IP -k -v | head -n 40\n```\n\n## Useful Terraform outputs\n\n```bash\n# Show important outputs in JSON for scripting\nterraform output -json aks_clusters | jq -r '.\"public\"'\nterraform output -json nginx_ingress_config | jq -r '.\"public\"'\nterraform output -json service_account_manifest_files | jq -r '.\"public\"'\nterraform output -json nginx_controller_manifest_files | jq -r '.\"public\"'\n```\n\n---\n\n## Clean up\n\n```bash\n# Remove applied Kubernetes resources when needed\nkubectl delete -f infra/k8s/generated/public-nginx-internal-controller.yaml || true\nkubectl -n aks-app delete -f infra/k8s/generated/public-serviceaccount.yaml || true\n```\n",
            "content_base64": null,
            "content_base64sha256": "nRL/ELAHIVKjT1Xxb4Hxe5HOfysrrExGjt0N/gDfLpE=",
            "content_base64sha512": "C3N52J+waQabIqhv4SLB+/rNE1Hg+tJWNs7MzBQGKvRCHOd1klJg+qm80NC0yMAuvr0Yr13ZNOoOd4+zDkmvnA==",
            "content_md5": "e1011c0b2ab8617782a7f1f09ef419d3",
            "content_sha1": "d963fa4b9fecdec104c2b88bb8e51c8fabe2e3c1",
            "content_sha256": "9d12ff10b0072152a34f55f16f81f17b91ce7f2b2bac4c468edd0dfe00df2e91",
            "content_sha512": "0b7379d89fb069069b22a86fe122c1fbfacd1351e0fad25636cecccc14062af4421ce775925260faa9bcd0d0b4c8c02ebebd18af5dd934ea0e778fb30e49af9c",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./cheatsheets/generated/public-cheatsheet.md",
            "id": "d963fa4b9fecdec104c2b88bb8e51c8fabe2e3c1",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_public_ip.app_gateway",
            "azurerm_resource_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "cluster_setup",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content": "#!/usr/bin/env bash\nset -euo pipefail\n\n# Generated by Terraform\n# Cluster: aks-prod-aks104-backend-eus2-001\n# Resource Group: rg-prod-aks104-eus2-001\n# NGINX Controller Manifest: ./k8s/generated/backend-nginx-internal-controller.yaml\n# Enable ASVNI: true\n# API Server Subnet ID: /subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001\n\n# Optionally enable API Server VNet Integration (ASVNI) via Azure CLI\nif [[ \"true\" == \"true\" \u0026\u0026 -n \"/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001\" ]]; then\n  echo \"[INFO] Enabling API Server VNet Integration for cluster: aks-prod-aks104-backend-eus2-001\"\n  az aks update \\\n    --name \"aks-prod-aks104-backend-eus2-001\" \\\n    --resource-group \"rg-prod-aks104-eus2-001\" \\\n    --enable-apiserver-vnet-integration \\\n    --apiserver-subnet-id \"/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-backend-prod-eus2-001\" || {\n      echo \"[WARN] az aks update failed (possibly already enabled). Continuing.\" \u003e\u00262\n    }\nfi\n\necho \"[INFO] Connecting to AKS cluster: aks-prod-aks104-backend-eus2-001 (RG: rg-prod-aks104-eus2-001)\"\naz aks get-credentials --resource-group \"rg-prod-aks104-eus2-001\" --name \"aks-prod-aks104-backend-eus2-001\" --overwrite-existing 1\u003e/dev/null\n\nif command -v kubectx \u003e/dev/null 2\u003e\u00261; then\n  echo \"[INFO] Switching kubectx to: aks-prod-aks104-backend-eus2-001\"\n  kubectx \"aks-prod-aks104-backend-eus2-001\" || true\nelse\n  echo \"[WARN] kubectx not found; attempting kubectl context switch\"\n  kubectl config use-context \"aks-prod-aks104-backend-eus2-001\" || true\nfi\n\necho \"[INFO] Current context: $(kubectl config current-context)\"\n\necho \"[INFO] Applying NGINX Ingress Controller manifest: ./k8s/generated/backend-nginx-internal-controller.yaml\"\nif [[ ! -f \"./k8s/generated/backend-nginx-internal-controller.yaml\" ]]; then\n  echo \"[ERROR] Manifest not found: ./k8s/generated/backend-nginx-internal-controller.yaml\" \u003e\u00262\n  exit 1\nfi\nkubectl apply -f \"./k8s/generated/backend-nginx-internal-controller.yaml\"\n\necho \"[INFO] Controller service status (namespace: app-routing-system)\"\nkubectl get svc -n app-routing-system -l app.kubernetes.io/component=controller -o wide || true\n\necho \"[INFO] kube-system pods (first 50):\"\nkubectl get pods -n kube-system -o wide | head -n 50 || true\n\necho \"[INFO] Node status:\"\nkubectl get nodes -o wide || true\n\necho \"[DONE] Cluster aks-prod-aks104-backend-eus2-001 checks complete.\"\n",
            "content_base64": null,
            "content_base64sha256": "Z0RjDFYHcHqpKUxKNc98/DO4l+QYqkqyYvGPu6nklOk=",
            "content_base64sha512": "1QPsGiz5lAy5DLkS5ZOFa9bH7ShRjFpoiPbzzUMju7qsbJGEuPdpSlLU2ycC5TICb+iEa2+xZBon1cSbvJM9hg==",
            "content_md5": "c45282f27960e014524ae54ba911120e",
            "content_sha1": "c5ca3777ba6273fcfc53d09f550bbe9893940e52",
            "content_sha256": "6744630c5607707aa9294c4a35cf7cfc33b897e418aa4ab262f18fbba9e494e9",
            "content_sha512": "d503ec1a2cf9940cb90cb912e593856bd6c7ed28518c5a6888f6f3cd4323bbbaac6c9184b8f7694a52d4db2702e532026fe8846b6fb1641a27d5c49bbc933d86",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/backend-cluster-setup.sh",
            "id": "c5ca3777ba6273fcfc53d09f550bbe9893940e52",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_subnet.apiserver",
            "azurerm_virtual_network.main"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content": "#!/usr/bin/env bash\nset -euo pipefail\n\n# Generated by Terraform\n# Cluster: aks-prod-aks104-public-eus2-001\n# Resource Group: rg-prod-aks104-eus2-001\n# NGINX Controller Manifest: ./k8s/generated/public-nginx-internal-controller.yaml\n# Enable ASVNI: true\n# API Server Subnet ID: /subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001\n\n# Optionally enable API Server VNet Integration (ASVNI) via Azure CLI\nif [[ \"true\" == \"true\" \u0026\u0026 -n \"/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001\" ]]; then\n  echo \"[INFO] Enabling API Server VNet Integration for cluster: aks-prod-aks104-public-eus2-001\"\n  az aks update \\\n    --name \"aks-prod-aks104-public-eus2-001\" \\\n    --resource-group \"rg-prod-aks104-eus2-001\" \\\n    --enable-apiserver-vnet-integration \\\n    --apiserver-subnet-id \"/subscriptions/b2af20ad-98fa-4aa7-94c3-059663641d9f/resourceGroups/rg-prod-aks104-eus2-001/providers/Microsoft.Network/virtualNetworks/vnet-prod-aks104-eus2-001/subnets/snet-apiserver-public-prod-eus2-001\" || {\n      echo \"[WARN] az aks update failed (possibly already enabled). Continuing.\" \u003e\u00262\n    }\nfi\n\necho \"[INFO] Connecting to AKS cluster: aks-prod-aks104-public-eus2-001 (RG: rg-prod-aks104-eus2-001)\"\naz aks get-credentials --resource-group \"rg-prod-aks104-eus2-001\" --name \"aks-prod-aks104-public-eus2-001\" --overwrite-existing 1\u003e/dev/null\n\nif command -v kubectx \u003e/dev/null 2\u003e\u00261; then\n  echo \"[INFO] Switching kubectx to: aks-prod-aks104-public-eus2-001\"\n  kubectx \"aks-prod-aks104-public-eus2-001\" || true\nelse\n  echo \"[WARN] kubectx not found; attempting kubectl context switch\"\n  kubectl config use-context \"aks-prod-aks104-public-eus2-001\" || true\nfi\n\necho \"[INFO] Current context: $(kubectl config current-context)\"\n\necho \"[INFO] Applying NGINX Ingress Controller manifest: ./k8s/generated/public-nginx-internal-controller.yaml\"\nif [[ ! -f \"./k8s/generated/public-nginx-internal-controller.yaml\" ]]; then\n  echo \"[ERROR] Manifest not found: ./k8s/generated/public-nginx-internal-controller.yaml\" \u003e\u00262\n  exit 1\nfi\nkubectl apply -f \"./k8s/generated/public-nginx-internal-controller.yaml\"\n\necho \"[INFO] Controller service status (namespace: app-routing-system)\"\nkubectl get svc -n app-routing-system -l app.kubernetes.io/component=controller -o wide || true\n\necho \"[INFO] kube-system pods (first 50):\"\nkubectl get pods -n kube-system -o wide | head -n 50 || true\n\necho \"[INFO] Node status:\"\nkubectl get nodes -o wide || true\n\necho \"[DONE] Cluster aks-prod-aks104-public-eus2-001 checks complete.\"\n",
            "content_base64": null,
            "content_base64sha256": "CvZlPEa1y6qz046UI7z9qHrLqArpiZd4Noh+jJoqU20=",
            "content_base64sha512": "7+Mp6Sui04zWrwHcZkyjVtioQI18VLuMQ4K7YP0PuWrk109hrHmJWk2CN2xucoh4cP7US+B2Xnphb5tZ2p4yiw==",
            "content_md5": "24b67e95d80deef96a72f0b33d1011cc",
            "content_sha1": "a260f7754ff23319760ca339d61edbbf4dfdb63c",
            "content_sha256": "0af6653c46b5cbaab3d38e9423bcfda87acba80ae989977836887e8c9a2a536d",
            "content_sha512": "efe329e92ba2d38cd6af01dc664ca356d8a8408d7c54bb8c4382bb60fd0fb96ae4d74f61ac79895a4d82376c6e72887870fed44be0765e7a616f9b59da9e328b",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/public-cluster-setup.sh",
            "id": "a260f7754ff23319760ca339d61edbbf4dfdb63c",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_subnet.apiserver",
            "azurerm_virtual_network.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "nginx_internal_controllers",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content": "apiVersion: approuting.kubernetes.azure.com/v1alpha1\nkind: NginxIngressController\nmetadata:\n  name: nginx-internal\n  namespace: app-routing-system\nspec:\n  ingressClassName: nginx-internal\n  controllerNamePrefix: nginx-internal\n  loadBalancerAnnotations:\n    service.beta.kubernetes.io/azure-load-balancer-internal: \"true\"\n    service.beta.kubernetes.io/azure-load-balancer-ipv4: \"10.240.4.100\"\n    service.beta.kubernetes.io/azure-load-balancer-internal-subnet: \"snet-backend-prod-eus2-001\"\n",
            "content_base64": null,
            "content_base64sha256": "PlfGmmkQZEO0++Zf0RxBsVSuqA0I5g5MtRWULImWgBk=",
            "content_base64sha512": "q0ZMTYUpfEfaLoZlZr5eYFe2i+vXWOy6pXx50PtF1HbL+z0J/R3K6c2snqMy86z0mVq5i8BmBM+pnUe3T6pf0w==",
            "content_md5": "b5e1348da9bfa94d9a5ee3b663fcca42",
            "content_sha1": "23a9361ff719a0966f09fbfa1cca4bfe83502e60",
            "content_sha256": "3e57c69a69106443b4fbe65fd11c41b154aea80d08e60e4cb515942c89968019",
            "content_sha512": "ab464c4d85297c47da2e866566be5e6057b68bebd758ecbaa57c79d0fb45d476cbfb3d09fd1dcae9cdac9ea332f3acf4995ab98bc06604cfa99d47b74faa5fd3",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/backend-nginx-internal-controller.yaml",
            "id": "23a9361ff719a0966f09fbfa1cca4bfe83502e60",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content": "apiVersion: approuting.kubernetes.azure.com/v1alpha1\nkind: NginxIngressController\nmetadata:\n  name: nginx-internal\n  namespace: app-routing-system\nspec:\n  ingressClassName: nginx-internal\n  controllerNamePrefix: nginx-internal\n  loadBalancerAnnotations:\n    service.beta.kubernetes.io/azure-load-balancer-internal: \"true\"\n    service.beta.kubernetes.io/azure-load-balancer-ipv4: \"10.240.0.100\"\n    service.beta.kubernetes.io/azure-load-balancer-internal-subnet: \"snet-public-prod-eus2-001\"\n",
            "content_base64": null,
            "content_base64sha256": "5a6UajHt2Y45pabhBRvFh21HpH/jeAidr8QbpTtJ6Mw=",
            "content_base64sha512": "joQB4hTkcclof2Nwttwan8nUamD4mvTCa1+UXHD3DopHgXpFk/RNtKKkdCE4/ODondgl13ybqPPPxr/t9Uq8ng==",
            "content_md5": "51f8f792ea87c14b7290445de124f303",
            "content_sha1": "8b335de155808e6b0a8ce5fa51f011d53fdb920a",
            "content_sha256": "e5ae946a31edd98e39a5a6e1051bc5876d47a47fe378089dafc41ba53b49e8cc",
            "content_sha512": "8e8401e214e471c9687f6370b6dc1a9fc9d46a60f89af4c26b5f945c70f70e8a47817a4593f44db4a2a4742138fce0e89dd825d77c9ba8f3cfc6bfedf54abc9e",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/public-nginx-internal-controller.yaml",
            "id": "8b335de155808e6b0a8ce5fa51f011d53fdb920a",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "service_accounts",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "backend",
          "schema_version": 0,
          "attributes": {
            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: workload-identity-sa\n  namespace: aks-app\n  labels:\n    azure.workload.identity/use: \"true\"\n  annotations:\n    azure.workload.identity/client-id: 03cd48e3-72a7-4530-9878-e6eba7581779\n    azure.workload.identity/tenant-id: 5380364e-35d4-4293-8bfe-fa76e835384e\n    # Optional: restrict subject match if you use multiple SAs\n    # Example subject: system:serviceaccount:default:workload-identity-sa\n    # This is derived by Kubernetes automatically during token issuance\nimagePullSecrets: []\nsecrets: []\n",
            "content_base64": null,
            "content_base64sha256": "5fhEmO1rzc41nKaH0Xx42rc8DyUDH1osLxoDq60wjcQ=",
            "content_base64sha512": "0M3hk2aZJlmmoXBRXFvHs36BUyslGVJ4nYBwBEzYNjAiZy6nf+Z3sVYHCvxdV4GqU/Rsy6G1+pZNTWPtA1EpSA==",
            "content_md5": "43e486addccafbed20b5e8c874e8fa45",
            "content_sha1": "3c0749f5eb004815499c9af40988bcc5664bb7f4",
            "content_sha256": "e5f84498ed6bcdce359ca687d17c78dab73c0f25031f5a2c2f1a03abad308dc4",
            "content_sha512": "d0cde19366992659a6a170515c5bc7b37e81532b251952789d8070044cd8363022672ea77fe677b156070afc5d5781aa53f46ccba1b5fa964d4d63ed03512948",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/backend-serviceaccount.yaml",
            "id": "3c0749f5eb004815499c9af40988bcc5664bb7f4",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.tenant"
          ]
        },
        {
          "index_key": "public",
          "schema_version": 0,
          "attributes": {
            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: workload-identity-sa\n  namespace: aks-app\n  labels:\n    azure.workload.identity/use: \"true\"\n  annotations:\n    azure.workload.identity/client-id: ebd7c5da-9452-4018-8bd9-4748f8383364\n    azure.workload.identity/tenant-id: 5380364e-35d4-4293-8bfe-fa76e835384e\n    # Optional: restrict subject match if you use multiple SAs\n    # Example subject: system:serviceaccount:default:workload-identity-sa\n    # This is derived by Kubernetes automatically during token issuance\nimagePullSecrets: []\nsecrets: []\n",
            "content_base64": null,
            "content_base64sha256": "5GuomWNYmykN9N0ENnBj4c7FTIwF69oRwRkdzNngcn4=",
            "content_base64sha512": "HimU5A5t1dBPGSikoTqD/2yE41lnU0khLoO1BUCCVn/jAJRfhKJOqtludVzn7O9C1vrtCmAYIyUzr44hdznnCw==",
            "content_md5": "40c0f4c271fe26caa54a63f2d19a15ed",
            "content_sha1": "62caa2d3b8e53d10e4e736802077449e095fbcfe",
            "content_sha256": "e46ba89963589b290df4dd04367063e1cec54c8c05ebda11c1191dccd9e0727e",
            "content_sha512": "1e2994e40e6dd5d04f1928a4a13a83ff6c84e359675349212e83b5054082567fe300945f84a24eaad96e755ce7ecef42d6faed0a6018232533af8e217739e70b",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./k8s/generated/public-serviceaccount.yaml",
            "id": "62caa2d3b8e53d10e4e736802077449e095fbcfe",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.workload_identity",
            "data.azurerm_client_config.tenant"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "pkcs12_from_pem",
      "name": "wildcard",
      "provider": "provider[\"registry.terraform.io/chilicat/pkcs12\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ca_pem": null,
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIDczCCAlugAwIBAgIRALtYmMIZbd9ashM0iEBe31kwDQYJKoZIhvcNAQELBQAw\nLjERMA8GA1UEChMIQUtTIERlbW8xGTAXBgNVBAMMECoueW91cmRvbWFpbi5jb20w\nHhcNMjUwODIwMTE0OTI5WhcNMjYwODIwMTE0OTI5WjAuMREwDwYDVQQKEwhBS1Mg\nRGVtbzEZMBcGA1UEAwwQKi55b3VyZG9tYWluLmNvbTCCASIwDQYJKoZIhvcNAQEB\nBQADggEPADCCAQoCggEBAMXQJT9OJhCkUfpE0qhaSQ6DzG0UNfYrH9XimlnUPZHz\nFsipb31MSkMVC6zv6ywqOpkqKWJk2116WWFaJDoJx3mz5nRX3xDBFFXqRSA0bG9S\nmIIlCdQvICzflNwx9Gh7hgq7no/28I01gfSOQPCqVmvIlm1aVqt1c1VutCo4BjpU\nU40DEIO36gZtEuto5ChElpwUmFT3vC6Y+qe+38MdrS6y9s+XAwwS41gIaaEIrfWB\nqLPCTv+NADmtGDmjpVbHQdKNpxNmYCQ+xIu+jwbFDEiDmxx/7VN6NKT2iVjeyLoT\n7GG+amJjX4oqvS4c5h/cUvE8rf4pOsybAlk4tPeGMUMCAwEAAaOBizCBiDAOBgNV\nHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIwADBT\nBgNVHREETDBKghAqLnlvdXJkb21haW4uY29tgg55b3VyZG9tYWluLmNvbYISYXBw\nLnlvdXJkb21haW4uY29tghJhcGkueW91cmRvbWFpbi5jb20wDQYJKoZIhvcNAQEL\nBQADggEBAFA0Kmv4X7OHcoHPALArR/YP36OzJlVHTvtYMm5fJ/0tvs1FDuXP9/qA\nZJl98bfQCwc40xG6BBSUDeyjjRkjWIucS+UOU80O1LGg5/KYqOJI1qp4eCcjH511\nHTayQDXbtv+sk7+zpnbBYtrQ+k7esey8ISsJzKW1d77lOx+S5Fqj/Up24KqrCc7o\nmvHbbNWujIupE78G7PZRoN5CsJFhXGGI3vrWotDHX2hTTZ+oYk6BNgHjaS/AmtFH\nA+YMX4uptnsDHcJ6mUibSxElSramuVkt5DCFfGozRWxUF3gd/ztO+0khV9WtWSCX\npcTArNCaEEiqCqpXzqXT6GJ6+CVw9U0=\n-----END CERTIFICATE-----\n",
            "id": "3d19ea8c26d4b73dee7ccb5993c9652dadf1579b",
            "password": "n4Z{kEr9X5hS\u0026Lc|",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAxdAlP04mEKRR+kTSqFpJDoPMbRQ19isf1eKaWdQ9kfMWyKlv\nfUxKQxULrO/rLCo6mSopYmTbXXpZYVokOgnHebPmdFffEMEUVepFIDRsb1KYgiUJ\n1C8gLN+U3DH0aHuGCruej/bwjTWB9I5A8KpWa8iWbVpWq3VzVW60KjgGOlRTjQMQ\ng7fqBm0S62jkKESWnBSYVPe8Lpj6p77fwx2tLrL2z5cDDBLjWAhpoQit9YGos8JO\n/40AOa0YOaOlVsdB0o2nE2ZgJD7Ei76PBsUMSIObHH/tU3o0pPaJWN7IuhPsYb5q\nYmNfiiq9LhzmH9xS8Tyt/ik6zJsCWTi094YxQwIDAQABAoIBAEZ+sJ94XrlkjfB2\nMWqczldVYfdnkfl6Edzb5izoJc8LBg4Zz+kj1H1GlUQatkElhX+LFneBwOl1zj+S\n68EhNgzpr1G79PtYC8K4e80H0bL0iPQsde2/o6RKQ5cbWGIZz0Go7k+Y7c4tCPSZ\n84uw8J51vCIZZTSyZRlHm/5Fu/Zx8WHLY6IvWZADMYuJS8Doj1hQOcJ9GE2b6ox9\n4BPqAETPLEk4HKiSL5aeCstD0/kkIFfzg0aDRjxgoRgVlCS2OkFoSpUO3ISArgoi\nQK/TkmpWdTSNVMniN7Of3QQ/pN34ysf0hQlDlM7b/ZA7diiiVf+k5VMCuwWDgPDm\nfL7cCV0CgYEA2hsRwtGCeBSvPN/jni7sx5dlmxOErwjlzxBM5f3keHrzgOLQ0g80\nXKtOY/ilynxCNz3ykgLyWOuKG0mOUc2KA9gOot7cx+VsmJCCqbvfvaF1XHl1khLk\nWLDs/H5wDgwwAAXLZbpLmUUj1Min9XBvDCUjcIfHsJhjSgH8oEJMPP0CgYEA6C5/\nGfnLm7lF59DWSduA8Uzd1frg5kLFhdRDY/2NHxQAsEhTwnt3FzhDsYSD2IHpUpql\nxYDPUu/GVyI4+uFVlj2X77iCO8psfdGAjrSEyvfI8A1Alnu26quP9q49zxZf3Lh3\nygBIrodaszuigDaWUvg9YP/Coz3ijxhzZkgOmz8CgYAEwXRYsCLNJX5QsH0RFOra\ny0VO5VUOT/5aznsuxKN3sQ6gL9Hn0qcMojuaWHCdAqqa88HXRzMrly8yux7cT8QD\no3FmQb/EqA7/IJ+Ivez6AIxDkO5sWfcaq/ju5H7i/4cIaRfvRumhFO3cFOf8pQ/2\nztR//qXvBtObaIGuqONqrQKBgQCYwMZ0Y4iWWk1ol1f0XYq2tniYaCcAtttXEfCI\nX28yDCnr0JnysOIID8dRijpn/ghwhTgc+YLtML0P5H8SZ5+0aa+FUqG0DphUKrpm\nqNNY6a50aHOezaPpPphHlhkqHrFQ+Lgu2QL4eCqvEsP1kHRT/+f54iq+1V8x/8ck\nerHJZwKBgF3E+euEbB/a4dASx+MYhT+JLvEy9/T8DZZtBzK7DMYNv4oQzzWOmBLX\nqnkQjrCXILtbphHkSCbTI5mQ3MVlPpbaf/rtwaZMqZkVniYD19L+EY+k/bQjFksk\nob+U0fq0ocJxNaFxx2xav7aXQs95AbfuQ5DGP5Hu3hpbqVdqen6J\n-----END RSA PRIVATE KEY-----\n",
            "result": "MIIJqwIBAzCCCXcGCSqGSIb3DQEHAaCCCWgEgglkMIIJYDCCBBcGCSqGSIb3DQEHBqCCBAgwggQEAgEAMIID/QYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIJqJjMR5l8YECAggAgIID0OdAqa04medMjrajCutxlQnk3WhvaN6nC4v9LhAsJ/P+lpyWIk014NBGfEo0vQAlu/2hnDqgZawXqqYou90Gu0/5CvQzvPAbxU2Ut7tY5G2apnYGBArT8ekCRgUccY4H94XdfqXwXaabXEwy8s4cvQMi8S4cXt23c2PqJIAIWktwrAfGUo6M9kC1WD/XhLpKPIV7awcTzYe3T5fowxXsf30OuC+tDh/UeLQJJG92MrTUMc62BJQuhrgPnM0FU+B4+Rrebjg/by73AuL8Jmnkx/SJOITi9YQJ8dg53M/Q9B581q9vDvbyEIsNb5ZRkYk71vlnjquOneXcy1lRrxIa/Pv3xMqLILTUsC9gjlUFN4VkxpSl0KGNGxb9Sa1jarL4/sk74hDWcmtwhGpK5oZ2MkwBs1LN0OjF7Kgdc1ciDqFWAO/JAk0p9xBWblJBrcT6rjASb4DZkHgF3/0SneI8wLOU8g9g1Aj4gESbwTAvQAkd2diPywGaS0/qKrg0hFxOFkCV5pWY6H5dR1ZPCBOwUKGIaZUXIWeMWwGbCzCQ6vn0FbHGyXagrIwIR8p5h24FQexhti6rj5pdxFzsDd/Uf9m3S4ll8KO1gcL4SXffy0IKAoxufbCzzzPqpALn4lvyD91wogv9skShZOyOoF9PQq4Hvm7R05HqtqKariVzDUjKZnsOmGEuQSUH8KC4Q6lYXYpkemuSUi1hvGqt+d3gemu5UuJK5g3ebMc8vUCbEx7OqMyYDT8NAxQp/phgH2uGEQSAS1do9579wIuXhwm5vQcI1i7giliYLAE9y2P5pdi2zlYI3AGCNVbVBnpwe5OORJ7VRIl7s68J6U/I+pSVGRUoVdrmbZciJfOc273h7U2aIB5WPwOliyU0luVMgle81+wVKWtbNmlgPQKoB3cG1MK4iiWcD1PF/9vJytPpKL861O9QUKqH0hfEtzANvPBaqf4iff8P3wPWA9y7wV9qu399nn9xg3RtfLJiEXawktXDhblLQVtDKkzLNogmXNbtBjj7nZKvght0FyXCri89mzRLcrHIPA913vJVt0vBOidbEbktB7EGd3CzjhVYrgGnfDNAFKDd/ob4MlC8kNoHPNgQ5GPmA1gVhCn2mthpwEzAFb59+1Pg/nUwfjLCWZKKZXVyPqDbeHvz0oXUGgUa1T806gaY+nYazY/ow1DfXd2ffgobmvpLWYtnlVfSbQV7UmtbtHQM0KHNlVzaLZhme8D/89ogGTfhZk2NlreN6mC+Kc6TVb2kMR4OeOpL6aXKBoKwb2CYEnAGrA+XLZzNMVowggVBBgkqhkiG9w0BBwGgggUyBIIFLjCCBSowggUmBgsqhkiG9w0BDAoBAqCCBO4wggTqMBwGCiqGSIb3DQEMAQMwDgQIW+W7mdrPNNICAggABIIEyFiRiOr8f+g5sdMSZFrtOi6tzORc/jnIYXq8jL2lbY6G6HSGtUnbZxq3Z6j8S/XJn2E18n5dh7VoyKgHK6ucIHGs8m1DqOYzX1PJKRe1cDxDe91HVPhF8TrC/raHO46E+YOljCK4V48zZji4D7T+DcZD5PF3Di36nZhAjDFl8mij1JDWKUknil6Kc7xImT56xdznp0QsqcDtuTuln/mNCcao5ER4Dvkj27i9bhCAW1V6959pD3Hv1uyKk68sUWe1cwUWvlQ8muIPjMjVGtGrrc60FLRXloIGln8e3wXnRj0vtbHR4vqiAd0tRLqr62lDVDk3DQ2ZjkljmQbjcFijmWCRx0XoSwiQ2fTtoE3dB6fRI1WPKPajEFzARLZGt6QxqPs+zfrxeXKE3EPgKG4tkvlfV23LKbOoa261HFDnckgyCI6qHWyxPe1i4dSHOawblh7w+Ez2NH/BxjeoaFy90cSg8xe13/mkFU5IMWrqBjjXf6OrgXEAFhJ1unNG1jgoOZyL/hN1HQGiWpOsvCHFyc4N2nm5k7q0Og0l2roRdO1EsdeqpeSXeHTG3GN5vb1T0eSpt5Bo2CLUm1/yj+d37Phr41o5ZEuKdlTM3uqR5ohWJYAlOAP5ZMA9d3lciQf9AO5IwEtxG+W2em/iQnKrPuRn7a+qHnEdbifBV/wwGCh2MZ+PvIHrXmW93h5RcSnbVHv5pIEvnrwHV5hNlpiboGc8EHIntBZGv4ROqQZCEOZJVXvzwtKwh8snvw4on32VHn+Cst/xzgNn/Z8QuQmeNEA38Sr1j4oln6Wfs7chBlC6CjkjHM3ahf7yu0LRrMtXlnAXfmv3aNYyO8obVr+w/HpbFQNCLMle9Z7Dxt46/9tb/1DZH2219WjVqOmwTk2G8FIQ37TU9ZIqekq0fBALXGtl1vMwHTmPNibeWJokE6yNzIAuQtIniT0gWPWZal+Wh2W5SSgaj+WJRgVnoxYrSCgQflE3MRkiALPc7tnL0ALiaE8yPGuBFdsEb5Bjct5hc14pAVLDTqMOl/Zg22HEQx55YG/T756EPhNlrvLRxvX68MlKnNXfRL+AUacRmOaxhbeQRH0pcp0kDPdyQNoiiiAZ97J1ZtLCIxvdgLbYeoWR3HupFcAcTa4iK41ztZY0lb7xYcEKVm8GzTxZEYQvfu7VOMqHZ8p/v/Clgry+1/5IuRqWRUCfXAAz1f7VK41vduCm1EOLBCAREk9Dk1NZcHEi14S//mFBmxMWO7kWQFj0mifY7x9USavtSQ6rkjqFQ99JOmZCCj+vYQKnPQ47FkDMdz/UOcH2in8PicWpxaTuagY5UccF66cdnpoHBa2HfWyTfrb/yrO9tvz8ALECVQrQSOE1AVugQ2Ka3doXbIrEO+H7J4v23RS8avptcgq3ACLD9w0nPrtXMnQfPOc2ISqUiFOCVJRXjGCQXK38Ot2CtesIXfQ5ETlqYx116NbNkmJVu4Hnvda4o7QUE6rg6GMvEgtAO8cd0vh/dt/1udnBDT5p3AzEq7VYOHQSjduQZMxK5ZM6SLOUGPnXrNpnmFK2kos1PdlKBzEMICa0zeOcrqMr/6Se4L5cTvmjPRAOe+1L4XMnTk+yZFpsPZzkxRym+Z+d2ab0OTElMCMGCSqGSIb3DQEJFTEWBBS8kapb+Fx+YkeMx1tnTaKg9CjAajArMB8wBwYFKw4DAhoEFAf44vZqI3vTVwpdb9ryyUcygyWTBAhpSXQaRnzL9g=="
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ca_pem"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "cert_pem"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "random_password.generated",
            "tls_private_key.app_gateway",
            "tls_self_signed_cert.wildcard"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_password",
      "name": "generated",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "index_key": "sql_admin",
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$nOno5ducy0jrnxNqWy.vBeSHRxvhVhOlN4ZB.Wl0NWoQ/pc6sCe9S",
            "id": "none",
            "keepers": null,
            "length": 20,
            "lower": true,
            "min_lower": 2,
            "min_numeric": 2,
            "min_special": 2,
            "min_upper": 2,
            "number": true,
            "numeric": true,
            "override_special": "!@#$%\u0026*()-_=+[]{}|;:,.\u003c\u003e?",
            "result": "*m)G6}3Xz!F{ED{-vKe7",
            "special": true,
            "upper": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "bcrypt_hash"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "result"
              }
            ]
          ],
          "identity_schema_version": 0
        },
        {
          "index_key": "ssl_cert",
          "schema_version": 3,
          "attributes": {
            "bcrypt_hash": "$2a$10$GghQNg7.ovqpPhPYS1Yzk.rmpnTB2AcA0N2WBsY7VKTkyWJAXOqJy",
            "id": "none",
            "keepers": null,
            "length": 16,
            "lower": true,
            "min_lower": 1,
            "min_numeric": 1,
            "min_special": 1,
            "min_upper": 1,
            "number": true,
            "numeric": true,
            "override_special": "!@#$%\u0026*()-_=+[]{}|;:,.\u003c\u003e?",
            "result": "n4Z{kEr9X5hS\u0026Lc|",
            "special": true,
            "upper": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "bcrypt_hash"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "result"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "app1_storage_suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "w1h6n",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "w1h6n",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "unique_suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "5xhr55",
            "keepers": null,
            "length": 6,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "5xhr55",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "sqlsso_mssql_server_aad_account",
      "name": "current_user_owner",
      "provider": "provider[\"registry.terraform.io/jason-johnson/sqlsso\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_name": "admin@example.com",
            "account_type": "user",
            "database": "sqldb-app-prod-eus2",
            "id": "sql-main-prod-eus2-5xhr55.database.windows.net:sqldb-app-prod-eus2:1433/admin@example.com",
            "object_id": "c64dabd5-242b-481b-ac5d-92be5c683e9f",
            "port": 1433,
            "role": "owner",
            "sql_server_dns": "sql-main-prod-eus2-5xhr55.database.windows.net"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_mssql_database.main",
            "azurerm_mssql_firewall_rule.client_ip",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "sqlsso_mssql_server_aad_account",
      "name": "sql_app_identity",
      "provider": "provider[\"registry.terraform.io/jason-johnson/sqlsso\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_name": "id-sql-app-prod-eus2-001",
            "account_type": "user",
            "database": "sqldb-app-prod-eus2",
            "id": "sql-main-prod-eus2-5xhr55.database.windows.net:sqldb-app-prod-eus2:1433/id-sql-app-prod-eus2-001",
            "object_id": "76c4e4a9-ef43-4163-905f-73ff75e7d93a",
            "port": 1433,
            "role": "owner",
            "sql_server_dns": "sql-main-prod-eus2-5xhr55.database.windows.net"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_mssql_database.main",
            "azurerm_mssql_firewall_rule.client_ip",
            "azurerm_mssql_server.main",
            "azurerm_resource_group.main",
            "azurerm_user_assigned_identity.sql_app_identity",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_password.generated",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "kv_rbac_propagation",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "60s",
            "destroy_duration": null,
            "id": "2025-08-20T11:53:55Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_key_vault.main",
            "azurerm_resource_group.main",
            "azurerm_role_assignment.current_user_key_vault_admin",
            "data.azurerm_client_config.current",
            "data.http.myip",
            "random_string.unique_suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_private_key",
      "name": "app_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "algorithm": "RSA",
            "ecdsa_curve": "P224",
            "id": "1eb7eb02df7ad3ad9964f3f0f68c5cfa413ffa4a",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABFwAAAAdz\nc2gtcnNhAAAAAwEAAQAAAQEAxdAlP04mEKRR+kTSqFpJDoPMbRQ19isf1eKaWdQ9\nkfMWyKlvfUxKQxULrO/rLCo6mSopYmTbXXpZYVokOgnHebPmdFffEMEUVepFIDRs\nb1KYgiUJ1C8gLN+U3DH0aHuGCruej/bwjTWB9I5A8KpWa8iWbVpWq3VzVW60KjgG\nOlRTjQMQg7fqBm0S62jkKESWnBSYVPe8Lpj6p77fwx2tLrL2z5cDDBLjWAhpoQit\n9YGos8JO/40AOa0YOaOlVsdB0o2nE2ZgJD7Ei76PBsUMSIObHH/tU3o0pPaJWN7I\nuhPsYb5qYmNfiiq9LhzmH9xS8Tyt/ik6zJsCWTi094YxQwAAA7g83wxNPN8MTQAA\nAAdzc2gtcnNhAAABAQDF0CU/TiYQpFH6RNKoWkkOg8xtFDX2Kx/V4ppZ1D2R8xbI\nqW99TEpDFQus7+ssKjqZKiliZNtdellhWiQ6Ccd5s+Z0V98QwRRV6kUgNGxvUpiC\nJQnULyAs35TcMfRoe4YKu56P9vCNNYH0jkDwqlZryJZtWlardXNVbrQqOAY6VFON\nAxCDt+oGbRLraOQoRJacFJhU97wumPqnvt/DHa0usvbPlwMMEuNYCGmhCK31gaiz\nwk7/jQA5rRg5o6VWx0HSjacTZmAkPsSLvo8GxQxIg5scf+1TejSk9olY3si6E+xh\nvmpiY1+KKr0uHOYf3FLxPK3+KTrMmwJZOLT3hjFDAAAAAwEAAQAAAQBGfrCfeF65\nZI3wdjFqnM5XVWH3Z5H5ehHc2+Ys6CXPCwYOGc/pI9R9RpVEGrZBJYV/ixZ3gcDp\ndc4/kuvBITYM6a9Ru/T7WAvCuHvNB9Gy9Ij0LHXtv6OkSkOXG1hiGc9BqO5PmO3O\nLQj0mfOLsPCedbwiGWU0smUZR5v+Rbv2cfFhy2OiL1mQAzGLiUvA6I9YUDnCfRhN\nm+qMfeAT6gBEzyxJOByoki+WngrLQ9P5JCBX84NGg0Y8YKEYFZQktjpBaEqVDtyE\ngK4KIkCv05JqVnU0jVTJ4jezn90EP6Td+MrH9IUJQ5TO2/2QO3YoolX/pOVTArsF\ng4Dw5ny+3AldAAAAgF3E+euEbB/a4dASx+MYhT+JLvEy9/T8DZZtBzK7DMYNv4oQ\nzzWOmBLXqnkQjrCXILtbphHkSCbTI5mQ3MVlPpbaf/rtwaZMqZkVniYD19L+EY+k\n/bQjFkskob+U0fq0ocJxNaFxx2xav7aXQs95AbfuQ5DGP5Hu3hpbqVdqen6JAAAA\ngQDaGxHC0YJ4FK883+OeLuzHl2WbE4SvCOXPEEzl/eR4evOA4tDSDzRcq05j+KXK\nfEI3PfKSAvJY64obSY5RzYoD2A6i3tzH5WyYkIKpu9+9oXVceXWSEuRYsOz8fnAO\nDDAABctlukuZRSPUyKf1cG8MJSNwh8ewmGNKAfygQkw8/QAAAIEA6C5/GfnLm7lF\n59DWSduA8Uzd1frg5kLFhdRDY/2NHxQAsEhTwnt3FzhDsYSD2IHpUpqlxYDPUu/G\nVyI4+uFVlj2X77iCO8psfdGAjrSEyvfI8A1Alnu26quP9q49zxZf3Lh3ygBIroda\nszuigDaWUvg9YP/Coz3ijxhzZkgOmz8AAAAAAQID\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAxdAlP04mEKRR+kTSqFpJDoPMbRQ19isf1eKaWdQ9kfMWyKlv\nfUxKQxULrO/rLCo6mSopYmTbXXpZYVokOgnHebPmdFffEMEUVepFIDRsb1KYgiUJ\n1C8gLN+U3DH0aHuGCruej/bwjTWB9I5A8KpWa8iWbVpWq3VzVW60KjgGOlRTjQMQ\ng7fqBm0S62jkKESWnBSYVPe8Lpj6p77fwx2tLrL2z5cDDBLjWAhpoQit9YGos8JO\n/40AOa0YOaOlVsdB0o2nE2ZgJD7Ei76PBsUMSIObHH/tU3o0pPaJWN7IuhPsYb5q\nYmNfiiq9LhzmH9xS8Tyt/ik6zJsCWTi094YxQwIDAQABAoIBAEZ+sJ94XrlkjfB2\nMWqczldVYfdnkfl6Edzb5izoJc8LBg4Zz+kj1H1GlUQatkElhX+LFneBwOl1zj+S\n68EhNgzpr1G79PtYC8K4e80H0bL0iPQsde2/o6RKQ5cbWGIZz0Go7k+Y7c4tCPSZ\n84uw8J51vCIZZTSyZRlHm/5Fu/Zx8WHLY6IvWZADMYuJS8Doj1hQOcJ9GE2b6ox9\n4BPqAETPLEk4HKiSL5aeCstD0/kkIFfzg0aDRjxgoRgVlCS2OkFoSpUO3ISArgoi\nQK/TkmpWdTSNVMniN7Of3QQ/pN34ysf0hQlDlM7b/ZA7diiiVf+k5VMCuwWDgPDm\nfL7cCV0CgYEA2hsRwtGCeBSvPN/jni7sx5dlmxOErwjlzxBM5f3keHrzgOLQ0g80\nXKtOY/ilynxCNz3ykgLyWOuKG0mOUc2KA9gOot7cx+VsmJCCqbvfvaF1XHl1khLk\nWLDs/H5wDgwwAAXLZbpLmUUj1Min9XBvDCUjcIfHsJhjSgH8oEJMPP0CgYEA6C5/\nGfnLm7lF59DWSduA8Uzd1frg5kLFhdRDY/2NHxQAsEhTwnt3FzhDsYSD2IHpUpql\nxYDPUu/GVyI4+uFVlj2X77iCO8psfdGAjrSEyvfI8A1Alnu26quP9q49zxZf3Lh3\nygBIrodaszuigDaWUvg9YP/Coz3ijxhzZkgOmz8CgYAEwXRYsCLNJX5QsH0RFOra\ny0VO5VUOT/5aznsuxKN3sQ6gL9Hn0qcMojuaWHCdAqqa88HXRzMrly8yux7cT8QD\no3FmQb/EqA7/IJ+Ivez6AIxDkO5sWfcaq/ju5H7i/4cIaRfvRumhFO3cFOf8pQ/2\nztR//qXvBtObaIGuqONqrQKBgQCYwMZ0Y4iWWk1ol1f0XYq2tniYaCcAtttXEfCI\nX28yDCnr0JnysOIID8dRijpn/ghwhTgc+YLtML0P5H8SZ5+0aa+FUqG0DphUKrpm\nqNNY6a50aHOezaPpPphHlhkqHrFQ+Lgu2QL4eCqvEsP1kHRT/+f54iq+1V8x/8ck\nerHJZwKBgF3E+euEbB/a4dASx+MYhT+JLvEy9/T8DZZtBzK7DMYNv4oQzzWOmBLX\nqnkQjrCXILtbphHkSCbTI5mQ3MVlPpbaf/rtwaZMqZkVniYD19L+EY+k/bQjFksk\nob+U0fq0ocJxNaFxx2xav7aXQs95AbfuQ5DGP5Hu3hpbqVdqen6J\n-----END RSA PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDF0CU/TiYQpFH6\nRNKoWkkOg8xtFDX2Kx/V4ppZ1D2R8xbIqW99TEpDFQus7+ssKjqZKiliZNtdellh\nWiQ6Ccd5s+Z0V98QwRRV6kUgNGxvUpiCJQnULyAs35TcMfRoe4YKu56P9vCNNYH0\njkDwqlZryJZtWlardXNVbrQqOAY6VFONAxCDt+oGbRLraOQoRJacFJhU97wumPqn\nvt/DHa0usvbPlwMMEuNYCGmhCK31gaizwk7/jQA5rRg5o6VWx0HSjacTZmAkPsSL\nvo8GxQxIg5scf+1TejSk9olY3si6E+xhvmpiY1+KKr0uHOYf3FLxPK3+KTrMmwJZ\nOLT3hjFDAgMBAAECggEARn6wn3heuWSN8HYxapzOV1Vh92eR+XoR3NvmLOglzwsG\nDhnP6SPUfUaVRBq2QSWFf4sWd4HA6XXOP5LrwSE2DOmvUbv0+1gLwrh7zQfRsvSI\n9Cx17b+jpEpDlxtYYhnPQajuT5jtzi0I9Jnzi7DwnnW8IhllNLJlGUeb/kW79nHx\nYctjoi9ZkAMxi4lLwOiPWFA5wn0YTZvqjH3gE+oARM8sSTgcqJIvlp4Ky0PT+SQg\nV/ODRoNGPGChGBWUJLY6QWhKlQ7chICuCiJAr9OSalZ1NI1UyeI3s5/dBD+k3fjK\nx/SFCUOUztv9kDt2KKJV/6TlUwK7BYOA8OZ8vtwJXQKBgQDaGxHC0YJ4FK883+Oe\nLuzHl2WbE4SvCOXPEEzl/eR4evOA4tDSDzRcq05j+KXKfEI3PfKSAvJY64obSY5R\nzYoD2A6i3tzH5WyYkIKpu9+9oXVceXWSEuRYsOz8fnAODDAABctlukuZRSPUyKf1\ncG8MJSNwh8ewmGNKAfygQkw8/QKBgQDoLn8Z+cubuUXn0NZJ24DxTN3V+uDmQsWF\n1ENj/Y0fFACwSFPCe3cXOEOxhIPYgelSmqXFgM9S78ZXIjj64VWWPZfvuII7ymx9\n0YCOtITK98jwDUCWe7bqq4/2rj3PFl/cuHfKAEiuh1qzO6KANpZS+D1g/8KjPeKP\nGHNmSA6bPwKBgATBdFiwIs0lflCwfREU6trLRU7lVQ5P/lrOey7Eo3exDqAv0efS\npwyiO5pYcJ0CqprzwddHMyuXLzK7HtxPxAOjcWZBv8SoDv8gn4i97PoAjEOQ7mxZ\n9xqr+O7kfuL/hwhpF+9G6aEU7dwU5/ylD/bO1H/+pe8G05toga6o42qtAoGBAJjA\nxnRjiJZaTWiXV/Rdira2eJhoJwC221cR8IhfbzIMKevQmfKw4ggPx1GKOmf+CHCF\nOBz5gu0wvQ/kfxJnn7Rpr4VSobQOmFQqumao01jprnRoc57No+k+mEeWGSoesVD4\nuC7ZAvh4Kq8Sw/WQdFP/5/niKr7VXzH/xyR6sclnAoGAXcT564RsH9rh0BLH4xiF\nP4ku8TL39PwNlm0HMrsMxg2/ihDPNY6YEteqeRCOsJcgu1umEeRIJtMjmZDcxWU+\nltp/+u3BpkypmRWeJgPX0v4Rj6T9tCMWSyShv5TR+rShwnE1oXHHbFq/tpdCz3kB\nt+5DkMY/ke7eGlupV2p6fok=\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "e2:6a:04:1b:81:99:13:df:3b:20:18:90:04:7c:20:04",
            "public_key_fingerprint_sha256": "SHA256:kKvAwvWbZKWxCZ3wQA8OXViOG2WXqEhDqH69eoykga0",
            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDF0CU/TiYQpFH6RNKoWkkOg8xtFDX2Kx/V4ppZ1D2R8xbIqW99TEpDFQus7+ssKjqZKiliZNtdellhWiQ6Ccd5s+Z0V98QwRRV6kUgNGxvUpiCJQnULyAs35TcMfRoe4YKu56P9vCNNYH0jkDwqlZryJZtWlardXNVbrQqOAY6VFONAxCDt+oGbRLraOQoRJacFJhU97wumPqnvt/DHa0usvbPlwMMEuNYCGmhCK31gaizwk7/jQA5rRg5o6VWx0HSjacTZmAkPsSLvo8GxQxIg5scf+1TejSk9olY3si6E+xhvmpiY1+KKr0uHOYf3FLxPK3+KTrMmwJZOLT3hjFD\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxdAlP04mEKRR+kTSqFpJ\nDoPMbRQ19isf1eKaWdQ9kfMWyKlvfUxKQxULrO/rLCo6mSopYmTbXXpZYVokOgnH\nebPmdFffEMEUVepFIDRsb1KYgiUJ1C8gLN+U3DH0aHuGCruej/bwjTWB9I5A8KpW\na8iWbVpWq3VzVW60KjgGOlRTjQMQg7fqBm0S62jkKESWnBSYVPe8Lpj6p77fwx2t\nLrL2z5cDDBLjWAhpoQit9YGos8JO/40AOa0YOaOlVsdB0o2nE2ZgJD7Ei76PBsUM\nSIObHH/tU3o0pPaJWN7IuhPsYb5qYmNfiiq9LhzmH9xS8Tyt/ik6zJsCWTi094Yx\nQwIDAQAB\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_openssh"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "private_key_pem_pkcs8"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_self_signed_cert",
      "name": "wildcard",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "key_encipherment",
              "digital_signature",
              "server_auth"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIDczCCAlugAwIBAgIRALtYmMIZbd9ashM0iEBe31kwDQYJKoZIhvcNAQELBQAw\nLjERMA8GA1UEChMIQUtTIERlbW8xGTAXBgNVBAMMECoueW91cmRvbWFpbi5jb20w\nHhcNMjUwODIwMTE0OTI5WhcNMjYwODIwMTE0OTI5WjAuMREwDwYDVQQKEwhBS1Mg\nRGVtbzEZMBcGA1UEAwwQKi55b3VyZG9tYWluLmNvbTCCASIwDQYJKoZIhvcNAQEB\nBQADggEPADCCAQoCggEBAMXQJT9OJhCkUfpE0qhaSQ6DzG0UNfYrH9XimlnUPZHz\nFsipb31MSkMVC6zv6ywqOpkqKWJk2116WWFaJDoJx3mz5nRX3xDBFFXqRSA0bG9S\nmIIlCdQvICzflNwx9Gh7hgq7no/28I01gfSOQPCqVmvIlm1aVqt1c1VutCo4BjpU\nU40DEIO36gZtEuto5ChElpwUmFT3vC6Y+qe+38MdrS6y9s+XAwwS41gIaaEIrfWB\nqLPCTv+NADmtGDmjpVbHQdKNpxNmYCQ+xIu+jwbFDEiDmxx/7VN6NKT2iVjeyLoT\n7GG+amJjX4oqvS4c5h/cUvE8rf4pOsybAlk4tPeGMUMCAwEAAaOBizCBiDAOBgNV\nHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDAYDVR0TAQH/BAIwADBT\nBgNVHREETDBKghAqLnlvdXJkb21haW4uY29tgg55b3VyZG9tYWluLmNvbYISYXBw\nLnlvdXJkb21haW4uY29tghJhcGkueW91cmRvbWFpbi5jb20wDQYJKoZIhvcNAQEL\nBQADggEBAFA0Kmv4X7OHcoHPALArR/YP36OzJlVHTvtYMm5fJ/0tvs1FDuXP9/qA\nZJl98bfQCwc40xG6BBSUDeyjjRkjWIucS+UOU80O1LGg5/KYqOJI1qp4eCcjH511\nHTayQDXbtv+sk7+zpnbBYtrQ+k7esey8ISsJzKW1d77lOx+S5Fqj/Up24KqrCc7o\nmvHbbNWujIupE78G7PZRoN5CsJFhXGGI3vrWotDHX2hTTZ+oYk6BNgHjaS/AmtFH\nA+YMX4uptnsDHcJ6mUibSxElSramuVkt5DCFfGozRWxUF3gd/ztO+0khV9WtWSCX\npcTArNCaEEiqCqpXzqXT6GJ6+CVw9U0=\n-----END CERTIFICATE-----\n",
            "dns_names": [
              "*.yourdomain.com",
              "yourdomain.com",
              "app.yourdomain.com",
              "api.yourdomain.com"
            ],
            "early_renewal_hours": 0,
            "id": "249025655639723568806144462465131274073",
            "ip_addresses": null,
            "is_ca_certificate": false,
            "key_algorithm": "RSA",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAxdAlP04mEKRR+kTSqFpJDoPMbRQ19isf1eKaWdQ9kfMWyKlv\nfUxKQxULrO/rLCo6mSopYmTbXXpZYVokOgnHebPmdFffEMEUVepFIDRsb1KYgiUJ\n1C8gLN+U3DH0aHuGCruej/bwjTWB9I5A8KpWa8iWbVpWq3VzVW60KjgGOlRTjQMQ\ng7fqBm0S62jkKESWnBSYVPe8Lpj6p77fwx2tLrL2z5cDDBLjWAhpoQit9YGos8JO\n/40AOa0YOaOlVsdB0o2nE2ZgJD7Ei76PBsUMSIObHH/tU3o0pPaJWN7IuhPsYb5q\nYmNfiiq9LhzmH9xS8Tyt/ik6zJsCWTi094YxQwIDAQABAoIBAEZ+sJ94XrlkjfB2\nMWqczldVYfdnkfl6Edzb5izoJc8LBg4Zz+kj1H1GlUQatkElhX+LFneBwOl1zj+S\n68EhNgzpr1G79PtYC8K4e80H0bL0iPQsde2/o6RKQ5cbWGIZz0Go7k+Y7c4tCPSZ\n84uw8J51vCIZZTSyZRlHm/5Fu/Zx8WHLY6IvWZADMYuJS8Doj1hQOcJ9GE2b6ox9\n4BPqAETPLEk4HKiSL5aeCstD0/kkIFfzg0aDRjxgoRgVlCS2OkFoSpUO3ISArgoi\nQK/TkmpWdTSNVMniN7Of3QQ/pN34ysf0hQlDlM7b/ZA7diiiVf+k5VMCuwWDgPDm\nfL7cCV0CgYEA2hsRwtGCeBSvPN/jni7sx5dlmxOErwjlzxBM5f3keHrzgOLQ0g80\nXKtOY/ilynxCNz3ykgLyWOuKG0mOUc2KA9gOot7cx+VsmJCCqbvfvaF1XHl1khLk\nWLDs/H5wDgwwAAXLZbpLmUUj1Min9XBvDCUjcIfHsJhjSgH8oEJMPP0CgYEA6C5/\nGfnLm7lF59DWSduA8Uzd1frg5kLFhdRDY/2NHxQAsEhTwnt3FzhDsYSD2IHpUpql\nxYDPUu/GVyI4+uFVlj2X77iCO8psfdGAjrSEyvfI8A1Alnu26quP9q49zxZf3Lh3\nygBIrodaszuigDaWUvg9YP/Coz3ijxhzZkgOmz8CgYAEwXRYsCLNJX5QsH0RFOra\ny0VO5VUOT/5aznsuxKN3sQ6gL9Hn0qcMojuaWHCdAqqa88HXRzMrly8yux7cT8QD\no3FmQb/EqA7/IJ+Ivez6AIxDkO5sWfcaq/ju5H7i/4cIaRfvRumhFO3cFOf8pQ/2\nztR//qXvBtObaIGuqONqrQKBgQCYwMZ0Y4iWWk1ol1f0XYq2tniYaCcAtttXEfCI\nX28yDCnr0JnysOIID8dRijpn/ghwhTgc+YLtML0P5H8SZ5+0aa+FUqG0DphUKrpm\nqNNY6a50aHOezaPpPphHlhkqHrFQ+Lgu2QL4eCqvEsP1kHRT/+f54iq+1V8x/8ck\nerHJZwKBgF3E+euEbB/a4dASx+MYhT+JLvEy9/T8DZZtBzK7DMYNv4oQzzWOmBLX\nqnkQjrCXILtbphHkSCbTI5mQ3MVlPpbaf/rtwaZMqZkVniYD19L+EY+k/bQjFksk\nob+U0fq0ocJxNaFxx2xav7aXQs95AbfuQ5DGP5Hu3hpbqVdqen6J\n-----END RSA PRIVATE KEY-----\n",
            "ready_for_renewal": false,
            "set_authority_key_id": false,
            "set_subject_key_id": false,
            "subject": [
              {
                "common_name": "*.yourdomain.com",
                "country": null,
                "email_address": null,
                "locality": null,
                "organization": "AKS Demo",
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null,
            "validity_end_time": "2026-08-20T13:49:29.173203+02:00",
            "validity_period_hours": 8760,
            "validity_start_time": "2025-08-20T13:49:29.173203+02:00"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "tls_private_key.app_gateway"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.sql_azuread_admin_login",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.sql_azuread_admin_login",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.sql_azuread_admin_object_id",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.sql_azuread_admin_object_id",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.applications",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.applications",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.project",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.project",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "resource",
      "config_addr": "azurerm_storage_account.app1",
      "status": "pass",
      "objects": [
        {
          "object_addr": "azurerm_storage_account.app1",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.environment",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.environment",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.firewall_enforcement_enabled",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.firewall_enforcement_enabled",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.pod_cidr",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.pod_cidr",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "resource",
      "config_addr": "azurerm_resource_group.main",
      "status": "pass",
      "objects": [
        {
          "object_addr": "azurerm_resource_group.main",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.route_egress_through_firewall",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.route_egress_through_firewall",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.security_email",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.security_email",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.enable_api_server_vnet_integration",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.enable_api_server_vnet_integration",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.enable_private_cluster",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.enable_private_cluster",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "resource",
      "config_addr": "azurerm_key_vault.app",
      "status": "pass",
      "objects": [
        {
          "object_addr": "azurerm_key_vault.app[\"app2\"]",
          "status": "pass"
        },
        {
          "object_addr": "azurerm_key_vault.app[\"app1\"]",
          "status": "pass"
        }
      ]
    }
  ]
}
